{"version":3,"file":"materialize.min.js","mappings":"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","sources":["webpack://@materializecss/materialize/webpack/universalModuleDefinition","webpack://@materializecss/materialize/./src/autocomplete.ts","webpack://@materializecss/materialize/./src/buttons.ts","webpack://@materializecss/materialize/./src/cards.ts","webpack://@materializecss/materialize/./src/carousel.ts","webpack://@materializecss/materialize/./src/characterCounter.ts","webpack://@materializecss/materialize/./src/chips.ts","webpack://@materializecss/materialize/./src/collapsible.ts","webpack://@materializecss/materialize/./src/component.ts","webpack://@materializecss/materialize/./src/datepicker.ts","webpack://@materializecss/materialize/./src/dropdown.ts","webpack://@materializecss/materialize/./src/forms.ts","webpack://@materializecss/materialize/./src/materialbox.ts","webpack://@materializecss/materialize/./src/modal.ts","webpack://@materializecss/materialize/./src/parallax.ts","webpack://@materializecss/materialize/./src/pushpin.ts","webpack://@materializecss/materialize/./src/range.ts","webpack://@materializecss/materialize/./src/scrollspy.ts","webpack://@materializecss/materialize/./src/select.ts","webpack://@materializecss/materialize/./src/sidenav.ts","webpack://@materializecss/materialize/./src/slider.ts","webpack://@materializecss/materialize/./src/tabs.ts","webpack://@materializecss/materialize/./src/tapTarget.ts","webpack://@materializecss/materialize/./src/timepicker.ts","webpack://@materializecss/materialize/./src/toasts.ts","webpack://@materializecss/materialize/./src/tooltip.ts","webpack://@materializecss/materialize/./src/utils.ts","webpack://@materializecss/materialize/./src/waves.ts","webpack://@materializecss/materialize/webpack/bootstrap","webpack://@materializecss/materialize/./src/global.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","import { Utils } from \"./utils\";\nimport { Dropdown, DropdownOptions } from \"./dropdown\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface AutocompleteData {\n  /** \n   * A primitive value that can be converted to string.\n   * If \"text\" is not provided, it will also be used as \"option text\" as well\n   */\n  id: string | number;\n  /**\n   * This optional attribute is used as \"display value\" for the current entry.\n   * When provided, it will also be taken into consideration by the standard search function.\n   */\n  text?: string;\n  /**\n   * This optional attribute is used to provide a valid image URL to the current option.\n   */\n  image?: string;\n  /**\n   * Optional attributes which describes the option.\n   */\n  description?: string;\n}\n\nexport interface AutocompleteOptions extends BaseOptions {\n  /**\n   * Data object defining autocomplete options with\n   * optional icon strings.\n   */\n  data: AutocompleteData[];\n  /**\n   * Flag which can be set if multiple values can be selected. The Result will be an Array.\n   * @default false\n   */\n  isMultiSelect: boolean;\n  /**\n   * Callback for when autocompleted.\n   */\n  onAutocomplete: (entries: AutocompleteData[]) => void;\n  /**\n   * Minimum number of characters before autocomplete starts.\n   * @default 1\n   */\n  minLength: number;\n  /**\n   * The height of the Menu which can be set via css-property.\n   * @default '300px'\n   */\n  maxDropDownHeight: string;\n  /**\n   * Function is called when the input text is altered and data can also be loaded asynchronously.\n   * If the results are collected the items in the list can be updated via the function setMenuItems(collectedItems).\n   * @param text Searched text.\n   * @param autocomplete Current autocomplete instance.\n   */\n  onSearch: (text: string, autocomplete: Autocomplete) => void;\n  /**\n   * If true will render the key from each item directly as HTML.\n   * User input MUST be properly sanitized first.\n   * @default false\n   */\n  allowUnsafeHTML: boolean;\n  /**\n   * Pass options object to select dropdown initialization.\n   * @default {}\n   */\n  dropdownOptions: Partial<DropdownOptions>;\n};\n\nlet _defaults: AutocompleteOptions = {\n  data: [], // Autocomplete data set\n  onAutocomplete: null, // Callback for when autocompleted\n  dropdownOptions: {\n    // Default dropdown options\n    autoFocus: false,\n    closeOnClick: false,\n    coverTrigger: false\n  },\n  minLength: 1, // Min characters before autocomplete starts\n  isMultiSelect: false,\n  onSearch: (text: string, autocomplete: Autocomplete) => {\n    const normSearch = text.toLocaleLowerCase();\n    autocomplete.setMenuItems(\n      autocomplete.options.data.filter((option) => \n        option.id.toString().toLocaleLowerCase().includes(normSearch)\n          || option.text?.toLocaleLowerCase().includes(normSearch)\n      )\n    );\n  },\n  maxDropDownHeight: '300px',\n  allowUnsafeHTML: false\n};\n\n\nexport class Autocomplete extends Component<AutocompleteOptions> {\n  declare el: HTMLInputElement;\n  /** If the autocomplete is open. */\n  isOpen: boolean;\n  /** Number of matching autocomplete options. */\n  count: number;\n  /** Index of the current selected option. */\n  activeIndex: number;\n  private oldVal: string;\n  private $active: HTMLElement|null;\n  private _mousedown: boolean;\n  container: HTMLElement;\n  /** Instance of the dropdown plugin for this autocomplete. */\n  dropdown: Dropdown;\n  static _keydown: boolean;\n  selectedValues: AutocompleteData[];\n  menuItems: AutocompleteData[];\n\n\n  constructor(el: HTMLInputElement, options: Partial<AutocompleteOptions>) {\n    super(el, options, Autocomplete);\n    (this.el as any).M_Autocomplete = this;\n\n    this.options = {\n      ...Autocomplete.defaults,\n      ...options\n    };\n    \n    this.isOpen = false;\n    this.count = 0;\n    this.activeIndex = -1;\n    this.oldVal = \"\";\n    this.selectedValues = [];\n    this.menuItems = [];\n    this.$active = null;\n    this._mousedown = false;\n    this._setupDropdown();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): AutocompleteOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Autocomplete.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLInputElement, options?: Partial<AutocompleteOptions>): Autocomplete;\n  /**\n   * Initializes instances of Autocomplete.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<HTMLInputElement | MElement>, options?: Partial<AutocompleteOptions>): Autocomplete[];\n  /**\n   * Initializes instances of Autocomplete.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLInputElement | InitElements<HTMLInputElement | MElement>, options: Partial<AutocompleteOptions> = {}): Autocomplete | Autocomplete[] {\n    return super.init(els, options, Autocomplete);\n  }\n\n  static getInstance(el: HTMLElement): Autocomplete {\n    return (el as any).M_Autocomplete;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this._removeDropdown();\n    (this.el as any).M_Autocomplete = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('blur', this._handleInputBlur);\n    this.el.addEventListener('keyup', this._handleInputKeyupAndFocus);\n    this.el.addEventListener('focus', this._handleInputKeyupAndFocus);\n    this.el.addEventListener('keydown', this._handleInputKeydown);\n    this.el.addEventListener('click', this._handleInputClick);\n    this.container.addEventListener(\n      'mousedown',\n      this._handleContainerMousedownAndTouchstart\n    );\n    this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n    if (typeof window.ontouchstart !== 'undefined') {\n      this.container.addEventListener(\n        'touchstart',\n        this._handleContainerMousedownAndTouchstart\n      );\n      this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchend);\n    }\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('blur', this._handleInputBlur);\n    this.el.removeEventListener('keyup', this._handleInputKeyupAndFocus);\n    this.el.removeEventListener('focus', this._handleInputKeyupAndFocus);\n    this.el.removeEventListener('keydown', this._handleInputKeydown);\n    this.el.removeEventListener('click', this._handleInputClick);\n    this.container.removeEventListener(\n      'mousedown',\n      this._handleContainerMousedownAndTouchstart\n    );\n    this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n\n    if (typeof window.ontouchstart !== 'undefined') {\n      this.container.removeEventListener(\n        'touchstart',\n        this._handleContainerMousedownAndTouchstart\n      );\n      this.container.removeEventListener(\n        'touchend',\n        this._handleContainerMouseupAndTouchend\n      );\n    }\n  }\n\n  _setupDropdown() {\n    this.container = document.createElement('ul');\n    this.container.style.maxHeight = this.options.maxDropDownHeight;\n    this.container.id = `autocomplete-options-${Utils.guid()}`;\n    this.container.classList.add('autocomplete-content', 'dropdown-content');\n    this.el.setAttribute('data-target', this.container.id);\n\n    // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n    this.el.parentElement.appendChild(this.container);\n\n    // Initialize dropdown\n    let dropdownOptions = {\n      ...Autocomplete.defaults.dropdownOptions,\n      ...this.options.dropdownOptions\n    };\n    let userOnItemClick = dropdownOptions.onItemClick;\n    // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n    dropdownOptions.onItemClick = (li) => {\n      if (!li) return;\n      const entryID = li.getAttribute('data-id');\n      this.selectOption(entryID);\n      // Handle user declared onItemClick if needed\n      if (userOnItemClick && typeof userOnItemClick === 'function')\n        userOnItemClick.call(this.dropdown, this.el);\n    };\n    this.dropdown = Dropdown.init(this.el, dropdownOptions);\n\n    // ! Workaround for Label: move label up again\n    // TODO: Just use PopperJS in future!\n    const label = this.el.parentElement.querySelector('label');\n    if (label) this.el.after(label);\n\n    // Sketchy removal of dropdown click handler\n    this.el.removeEventListener('click', this.dropdown._handleClick);\n    // Set Value if already set in HTML\n    if (this.el.value) this.selectOption(this.el.value);\n    // Add StatusInfo\n    const div = document.createElement('div');\n    div.classList.add('status-info');\n    div.setAttribute('style', 'position: absolute;right:0;top:0;');\n    this.el.parentElement.appendChild(div);\n    this._updateSelectedInfo();\n  }\n\n  _removeDropdown() {\n    this.container.parentNode.removeChild(this.container);\n  }\n\n  _handleInputBlur = () => {\n    if (!this._mousedown) {\n      this.close();\n      this._resetAutocomplete();\n    }\n  }\n\n  _handleInputKeyupAndFocus = (e: KeyboardEvent) => {\n    if (e.type === 'keyup') Autocomplete._keydown = false;\n    this.count = 0;\n    const actualValue = this.el.value.toLocaleLowerCase();\n    // Don't capture enter or arrow key usage.\n    if (Utils.keys.ENTER.includes(e.key) || Utils.keys.ARROW_UP.includes(e.key) || Utils.keys.ARROW_DOWN.includes(e.key)) return;\n    // Check if the input isn't empty\n    // Check if focus triggered by tab\n    if (this.oldVal !== actualValue && (Utils.tabPressed || e.type !== 'focus')) {\n      this.open();\n    }\n    // Value has changed!\n    if (this.oldVal !== actualValue) {\n      this._setStatusLoading();\n      this.options.onSearch(this.el.value, this);\n    }\n    // Reset Single-Select when Input cleared\n    if (!this.options.isMultiSelect && this.el.value.length === 0) {\n      this.selectedValues = [];\n      this._triggerChanged();\n    }\n    this.oldVal = actualValue;\n  }\n\n  _handleInputKeydown = (e: KeyboardEvent) => {\n    Autocomplete._keydown = true;\n    // Arrow keys and enter key usage\n    const numItems = this.container.querySelectorAll('li').length;\n    // select element on Enter\n    if (Utils.keys.ENTER.includes(e.key) && this.activeIndex >= 0) {\n      const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n      if (liElement) {\n        this.selectOption(liElement.getAttribute('data-id'));\n        e.preventDefault();\n      }\n      return;\n    }\n    // Capture up and down key\n    if (Utils.keys.ARROW_UP.includes(e.key) || Utils.keys.ARROW_DOWN.includes(e.key)) {\n      e.preventDefault();\n      if (Utils.keys.ARROW_UP.includes(e.key) && this.activeIndex > 0) this.activeIndex--;\n      if (Utils.keys.ARROW_DOWN.includes(e.key) && this.activeIndex < numItems - 1) this.activeIndex++;\n      this.$active?.classList.remove('active');\n      if (this.activeIndex >= 0) {\n        this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n        this.$active?.classList.add('active');\n        // Focus selected\n        this.container.children[this.activeIndex].scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n          inline: 'nearest'\n        });\n      }\n    }\n  }\n\n  _handleInputClick = () => {\n    this.open();\n  }\n\n  _handleContainerMousedownAndTouchstart = () => {\n    this._mousedown = true;\n  }\n\n  _handleContainerMouseupAndTouchend = () => {\n    this._mousedown = false;\n  }\n\n  _resetCurrentElementPosition() {\n    this.activeIndex = -1;\n    this.$active?.classList.remove('active');\n  }\n\n  _resetAutocomplete() {\n    this.container.replaceChildren();\n    this._resetCurrentElementPosition();\n    this.oldVal = null;\n    this.isOpen = false;\n    this._mousedown = false;\n  }\n\n  _highlightPartialText(input: string, label: string) {\n    const start = label.toLocaleLowerCase().indexOf('' + input.toLocaleLowerCase() + '');\n    const end = start + input.length - 1;\n    //custom filters may return results where the string does not match any part\n    if (start == -1 || end == -1) {\n      return [label, '', ''];\n    }\n    return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n  }\n\n  _createDropdownItem(entry: AutocompleteData) {\n    const item = document.createElement('li');\n    item.setAttribute('data-id', <string>entry.id);\n    item.setAttribute(\n      'style',\n      'display:grid; grid-auto-flow: column; user-select: none; align-items: center;'\n    );\n    // Checkbox\n    if (this.options.isMultiSelect) {\n      item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${\n          this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''\n        }><span style=\"padding-left:21px;\"></span>\n      </div>`;\n    }\n    // Image\n    if (entry.image) {\n      const img = document.createElement('img');\n      img.classList.add('circle');\n      img.src = entry.image;\n      item.appendChild(img);\n    }\n\n    // Text\n    const inputText = this.el.value.toLocaleLowerCase();\n    const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n    const div = document.createElement('div');\n    div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n    if (this.options.allowUnsafeHTML) {\n      div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n    } else {\n      div.appendChild(document.createTextNode(parts[0]));\n      if (parts[1]) {\n        const highlight = document.createElement('span');\n        highlight.textContent = parts[1];\n        highlight.classList.add('highlight');\n        div.appendChild(highlight);\n        div.appendChild(document.createTextNode(parts[2]));\n      }\n    }\n\n    const itemText = document.createElement('div');\n    itemText.classList.add('item-text');\n    itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n    item.appendChild(itemText);\n    item.querySelector('.item-text').appendChild(div);\n    // Description\n    if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n      const description = document.createElement('small');\n      description.setAttribute(\n        'style',\n        'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;'\n      );\n      description.innerText = entry.description;\n      item.querySelector('.item-text').appendChild(description);\n    }\n    // Set Grid\n    const getGridConfig = () => {\n      if (this.options.isMultiSelect) {\n        if (entry.image) return '40px min-content auto'; // cb-img-txt\n        return '40px auto'; // cb-txt\n      }\n      if (entry.image) return 'min-content auto'; // img-txt\n      return 'auto'; // txt\n    };\n    item.style.gridTemplateColumns = getGridConfig();\n    return item;\n  }\n\n  _renderDropdown() {\n    this._resetAutocomplete();\n    // Check if Data is empty\n    if (this.menuItems.length === 0) {\n      this.menuItems = this.selectedValues; // Show selected Items\n    }\n    for (let i = 0; i < this.menuItems.length; i++) {\n      const item = this._createDropdownItem(this.menuItems[i]);\n      this.container.append(item);\n    }\n  }\n\n  _setStatusLoading() {\n    this.el.parentElement.querySelector(\n      '.status-info'\n    ).innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n  }\n\n  _updateSelectedInfo() {\n    const statusElement = this.el.parentElement.querySelector('.status-info');\n    if (statusElement) {\n      if (this.options.isMultiSelect) statusElement.innerHTML = this.selectedValues.length.toString();\n      else statusElement.innerHTML = '';\n    }\n  }\n\n  _refreshInputText() {\n    if (this.selectedValues.length === 1) {\n      const entry = this.selectedValues[0];\n      this.el.value = entry.text || <string>entry.id; // Write Text to Input\n    }\n  }\n\n  _triggerChanged() {\n    this.el.dispatchEvent(new Event('change'));\n    // Trigger Autocomplete Event\n    if (typeof this.options.onAutocomplete === 'function')\n      this.options.onAutocomplete.call(this, this.selectedValues);\n  }\n\n  /**\n   * Show autocomplete.\n   */\n  open = () => {\n    const inputText = this.el.value.toLocaleLowerCase();\n    this._resetAutocomplete();\n    if (inputText.length >= this.options.minLength) {\n      this.isOpen = true;\n      this._renderDropdown();\n    }\n    // Open dropdown\n    if (!this.dropdown.isOpen) {\n      setTimeout(() => {\n        this.dropdown.open();\n      }, 100);\n    }\n    else this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n  }\n\n  /**\n   * Hide autocomplete.\n   */\n  close = () => {\n    this.dropdown.close();\n  }\n\n  /**\n   * Updates the visible or selectable items shown in the menu.\n   * @param menuItems Items to be available.\n   */\n  setMenuItems(menuItems: AutocompleteData[]) {\n    this.menuItems = menuItems;\n    this.open();\n    this._updateSelectedInfo();\n  }\n\n  /**\n   * Sets selected values.\n   * @param entries\n   */\n  setValues(entries: AutocompleteData[]) {\n    this.selectedValues = entries;\n    this._updateSelectedInfo();\n    if (!this.options.isMultiSelect) {\n      this._refreshInputText();\n    }\n    this._triggerChanged();\n  }\n\n  /**\n   * Select a specific autocomplete option via id-property.\n   * @param id The id of a data-entry.\n   */\n  selectOption(id: number | string) {\n    const entry = this.menuItems.find((item) => item.id == id);\n    if (!entry) return;\n    // Toggle Checkbox\n    const li = this.container.querySelector('li[data-id=\"'+id+'\"]');\n    if (!li) return;\n    if (this.options.isMultiSelect) {\n      const checkbox = <HTMLInputElement|null>li.querySelector('input[type=\"checkbox\"]');\n      checkbox.checked = !checkbox.checked;\n      if (checkbox.checked) this.selectedValues.push(entry);\n      else\n        this.selectedValues = this.selectedValues.filter(\n          (selectedEntry) => selectedEntry.id !== entry.id\n        );\n      this.el.focus();\n    } else {\n      // Single-Select\n      this.selectedValues = [entry];\n      this._refreshInputText();\n      this._resetAutocomplete();\n      this.close();\n    }\n    this._updateSelectedInfo();\n    this._triggerChanged();\n  }\n}\n","import { Component, BaseOptions, InitElements, MElement, Openable } from \"./component\";\n\nexport interface FloatingActionButtonOptions extends BaseOptions {\n  /**\n   * Direction FAB menu opens.\n   * @default \"top\"\n   */\n  direction: \"top\" | \"right\" | \"bottom\" | \"left\";\n  /**\n   * true: FAB menu appears on hover, false: FAB menu appears on click.\n   * @default true\n   */\n  hoverEnabled: boolean;\n  /**\n   * Enable transit the FAB into a toolbar on click.\n   * @default false\n   */\n  toolbarEnabled: boolean;\n};\n\nlet _defaults: FloatingActionButtonOptions = {\n  direction: 'top',\n  hoverEnabled: true,\n  toolbarEnabled: false\n};\n\nexport class FloatingActionButton extends Component<FloatingActionButtonOptions> implements Openable {\n  /**\n   * Describes open/close state of FAB.\n   */\n  isOpen: boolean;\n\n  private _anchor: HTMLAnchorElement;\n  private _menu: HTMLElement|null;\n  private _floatingBtns: HTMLElement[];\n  private _floatingBtnsReverse: HTMLElement[];\n\n  offsetY: number;\n  offsetX: number;\n  btnBottom: number;\n  btnLeft: number;\n  btnWidth: number;\n\n  constructor(el: HTMLElement, options: Partial<FloatingActionButtonOptions>) {\n    super(el, options, FloatingActionButton);\n    (this.el as any).M_FloatingActionButton = this;\n\n    this.options = {\n      ...FloatingActionButton.defaults,\n      ...options\n    };\n\n    this.isOpen = false;\n    this._anchor = this.el.querySelector('a');\n    this._menu = this.el.querySelector('ul');\n    this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n    this._floatingBtnsReverse = this._floatingBtns.reverse();\n    this.offsetY = 0;\n    this.offsetX = 0;\n\n    this.el.classList.add(`direction-${this.options.direction}`);\n    if (this.options.direction === 'top')\n      this.offsetY = 40;\n    else if (this.options.direction === 'right')\n      this.offsetX = -40;\n    else if (this.options.direction === 'bottom')\n      this.offsetY = -40;\n    else\n      this.offsetX = 40;\n    this._setupEventHandlers();\n  }\n\n  static get defaults() {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of FloatingActionButton.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<FloatingActionButtonOptions>): FloatingActionButton\n  /**\n   * Initializes instances of FloatingActionButton.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<FloatingActionButtonOptions>): FloatingActionButton[];\n  /**\n   * Initializes instances of FloatingActionButton.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<FloatingActionButtonOptions> = {}): FloatingActionButton | FloatingActionButton[] {\n    return super.init(els, options, FloatingActionButton);\n  }\n\n  static getInstance(el: HTMLElement): FloatingActionButton {\n    return (el as any).M_FloatingActionButton;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).M_FloatingActionButton = undefined;\n  }\n\n  _setupEventHandlers() {\n    if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n      this.el.addEventListener('mouseenter', this.open);\n      this.el.addEventListener('mouseleave', this.close);\n    } else {\n      this.el.addEventListener('click', this._handleFABClick);\n    }\n  }\n\n  _removeEventHandlers() {\n    if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n      this.el.removeEventListener('mouseenter', this.open);\n      this.el.removeEventListener('mouseleave', this.close);\n    } else {\n      this.el.removeEventListener('click', this._handleFABClick);\n    }\n  }\n\n  _handleFABClick = () => {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  _handleDocumentClick = (e: MouseEvent) => {\n    const elem = e.target;\n    if (elem !== this._menu) this.close;\n  }\n\n  /**\n   * Open FAB.\n   */\n  open = (): void => {\n    if (this.isOpen) return;\n    if (this.options.toolbarEnabled)\n      this._animateInToolbar();\n    else\n      this._animateInFAB();\n    this.isOpen = true;\n  }\n\n  /**\n   * Close FAB.\n   */\n  close = (): void => {\n    if (!this.isOpen) return;\n    if (this.options.toolbarEnabled) {\n      window.removeEventListener('scroll', this.close, true);\n      document.body.removeEventListener('click', this._handleDocumentClick, true);\n    }\n    else {\n      this._animateOutFAB();\n    }\n    this.isOpen = false;\n  }\n\n  _animateInFAB() {\n    this.el.classList.add('active');\n    const delayIncrement = 40;\n    const duration = 275;\n    \n    this._floatingBtnsReverse.forEach((el, index) => {\n      const delay = delayIncrement * index;\n      el.style.transition = 'none';\n      el.style.opacity = '0';\n      el.style.transform = `translate(${this.offsetX}px, ${this.offsetY}px) scale(0.4)`;\n      setTimeout(() => {\n        // from:\n        el.style.opacity = '0.4';\n        // easeInOutQuad\n        setTimeout(() => {\n          // to:\n          el.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n          el.style.opacity = '1';\n          el.style.transform = 'translate(0, 0) scale(1)';\n        }, 1);\n      }, delay);\n    });\n  }\n\n  _animateOutFAB() {\n    const duration = 175;\n    setTimeout(() => this.el.classList.remove('active'), duration);\n    this._floatingBtnsReverse.forEach((el) => {\n      el.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n      // to\n      el.style.opacity = '0';\n      el.style.transform = `translate(${this.offsetX}px, ${this.offsetY}px) scale(0.4)`;\n    });\n  }\n\n  _animateInToolbar() {\n    let scaleFactor;\n    let windowWidth = window.innerWidth;\n    let windowHeight = window.innerHeight;\n    let btnRect = this.el.getBoundingClientRect();\n\n    const backdrop =  document.createElement('div');\n    backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n\n    const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n\n    this._anchor.append(backdrop);\n\n    this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n    this.offsetY = windowHeight - btnRect.bottom;\n    scaleFactor = windowWidth / backdrop[0].clientWidth;\n    this.btnBottom = btnRect.bottom;\n    this.btnLeft = btnRect.left;\n    this.btnWidth = btnRect.width;\n\n    // Set initial state\n    this.el.classList.add('active');\n    this.el.style.textAlign = 'center';\n    this.el.style.width = '100%';\n    this.el.style.bottom = '0';\n    this.el.style.left = '0';\n    this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n    this.el.style.transition = 'none';\n\n    this._anchor.style.transform = `translateY(${this.offsetY}px`;\n    this._anchor.style.transition = 'none';\n\n    backdrop.style.backgroundColor = fabColor;\n\n    setTimeout(() => {\n      this.el.style.transform = '';\n      this.el.style.transition  = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n\n      this._anchor.style.overflow = 'visible';\n      this._anchor.style.transform = '';\n      this._anchor.style.transition = 'transform .2s';\n\n      setTimeout(() => {\n        this.el.style.overflow = 'hidden';\n        this.el.style.backgroundColor = fabColor;\n\n        backdrop.style.transform = 'scale(' + scaleFactor + ')';\n        backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n\n        this._menu.querySelectorAll('li > a').forEach((a: HTMLAnchorElement) => a.style.opacity = '1');\n\n        // Scroll to close.\n        window.addEventListener('scroll', this.close, true);\n        document.body.addEventListener('click', this._handleDocumentClick, true);\n      }, 100);\n    }, 0);\n  }\n}\n","export class Cards {\n\n  static Init() {\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      document.body.addEventListener('click', e => {\n        const trigger = <HTMLElement>e.target;\n\n        const card: HTMLElement = trigger.closest('.card');\n        if (!card) return;\n\n        const cardReveal = <HTMLElement|null>Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\n        if (!cardReveal) return;\n        const initialOverflow = getComputedStyle(card).overflow;\n\n        // Close Card\n        const closeArea = cardReveal.querySelector('.card-reveal .card-title');\n        if (trigger === closeArea || closeArea.contains(trigger)) {\n          const duration = 225;\n          cardReveal.style.transition = `transform ${duration}ms ease`; //easeInOutQuad\n          cardReveal.style.transform = 'translateY(0)';            \n          setTimeout(() => {\n            cardReveal.style.display = 'none';\n            card.style.overflow = initialOverflow;\n          }, duration);\n        };\n\n        // Reveal Card\n        const activators = card.querySelectorAll('.activator');\n        activators.forEach(activator => {\n          if (trigger === activator || activator.contains(trigger)) {\n            card.style.overflow = 'hidden';\n            cardReveal.style.display = 'block';\n            setTimeout(() => {\n              const duration = 300;\n              cardReveal.style.transition = `transform ${duration}ms ease`; //easeInOutQuad\n              cardReveal.style.transform = 'translateY(-100%)';              \n            }, 1);\n          }\n        });\n\n      });\n    });\n\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface CarouselOptions extends BaseOptions{\n  /**\n   * Transition duration in milliseconds.\n   * @default 200\n   */\n  duration: number;\n  /**\n   * Perspective zoom. If 0, all items are the same size.\n   * @default -100\n   */\n  dist: number;\n  /**\n   * Set the spacing of the center item.\n   * @default 0\n   */\n  shift: number;\n  /**\n   * Set the padding between non center items.\n   * @default 0\n   */\n  padding: number;\n  /**\n   * Set the number of visible items.\n   * @default 5\n   */\n  numVisible: number;\n  /**\n   * Make the carousel a full width slider like the second example.\n   * @default false\n   */\n  fullWidth: boolean;\n  /**\n   * Set to true to show indicators.\n   * @default false\n   */\n  indicators: boolean;\n  /**\n   * Don't wrap around and cycle through items.\n   * @default false\n   */\n  noWrap: boolean;\n  /**\n   * Callback for when a new slide is cycled to.\n   * @default null\n   */\n  onCycleTo: (current: Element, dragged: boolean) => void;\n}\n\nlet _defaults: CarouselOptions = {\n  duration: 200, // ms\n  dist: -100, // zoom scale TODO: make this more intuitive as an option\n  shift: 0, // spacing for center image\n  padding: 0, // Padding between non center items\n  numVisible: 5, // Number of visible items in carousel\n  fullWidth: false, // Change to full width styles\n  indicators: false, // Toggle indicators\n  noWrap: false, // Don't wrap around and cycle through items.\n  onCycleTo: null // Callback for when a new slide is cycled to.\n};\n\nexport class Carousel extends Component<CarouselOptions> {\n  hasMultipleSlides: boolean;\n  showIndicators: boolean;\n  noWrap: boolean;\n  /** If the carousel is being clicked or tapped. */\n  pressed: boolean;\n  /** If the carousel is currently being dragged. */\n  dragged: boolean;\n  offset: number;\n  target: number;\n  images: HTMLElement[];\n  itemWidth: any;\n  itemHeight: any;\n  dim: number;\n  _indicators: any;\n  count: number;\n  xform: string;\n  verticalDragged: boolean;\n  reference: any;\n  referenceY: any;\n  velocity: number;\n  frame: number;\n  timestamp: number;\n  ticker: string | number | NodeJS.Timeout;\n  amplitude: number;\n  /** The index of the center carousel item. */\n  center: number = 0;\n  imageHeight: any;\n  scrollingTimeout: any;\n  oneTimeCallback: any;\n\n  constructor(el: HTMLElement, options: Partial<CarouselOptions>) {\n    super(el, options, Carousel);\n    (this.el as any).M_Carousel = this;\n\n    this.options = {\n      ...Carousel.defaults,\n      ...options\n    };\n\n    // Setup\n    this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n    this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n    this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n    this.pressed = false;\n    this.dragged = false;\n    this.offset = this.target = 0;\n    this.images = [];\n    this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n    this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n    this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n\n    // Full Width carousel setup\n    if (this.options.fullWidth) {\n      this.options.dist = 0;\n      this._setCarouselHeight();\n\n      // Offset fixed items when indicators.\n      if (this.showIndicators) {\n        this.el.querySelector('.carousel-fixed-item')?.classList.add('with-indicators');\n      }\n    }\n\n    // Iterate through slides\n    this._indicators = document.createElement('ul');\n    this._indicators.classList.add('indicators');\n\n    this.el.querySelectorAll('.carousel-item').forEach((item: HTMLElement, i) => {\n      this.images.push(item);\n      if (this.showIndicators) {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator-item');\n        if (i === 0) {\n          indicator.classList.add('active');\n        }\n        this._indicators.appendChild(indicator);\n      }\n    });\n\n    if (this.showIndicators)\n      this.el.appendChild(this._indicators);\n\n    this.count = this.images.length;\n\n    // Cap numVisible at count\n    this.options.numVisible = Math.min(this.count, this.options.numVisible);\n\n    // Setup cross browser string\n    this.xform = 'transform';\n    ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n      var e = prefix + 'Transform';\n      if (typeof document.body.style[e] !== 'undefined') {\n        this.xform = e;\n        return false;\n      }\n      return true;\n    });\n\n    this._setupEventHandlers();\n    this._scroll(this.offset);\n  }\n\n  static get defaults(): CarouselOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Carousel.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<CarouselOptions>): Carousel;\n  /**\n   * Initializes instances of Carousel.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<CarouselOptions>): Carousel[];\n  /**\n   * Initializes instances of Carousel.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<CarouselOptions> = {}): Carousel | Carousel[] {\n    return super.init(els, options, Carousel);\n  }\n\n  static getInstance(el: HTMLElement): Carousel {\n    return (el as any).M_Carousel;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).M_Carousel = undefined;\n  }\n\n  _setupEventHandlers() {\n    if (typeof window.ontouchstart !== 'undefined') {\n      this.el.addEventListener('touchstart', this._handleCarouselTap);\n      this.el.addEventListener('touchmove', this._handleCarouselDrag);\n      this.el.addEventListener('touchend', this._handleCarouselRelease);\n    }\n    this.el.addEventListener('mousedown', this._handleCarouselTap);\n    this.el.addEventListener('mousemove', this._handleCarouselDrag);\n    this.el.addEventListener('mouseup', this._handleCarouselRelease);\n    this.el.addEventListener('mouseleave', this._handleCarouselRelease);\n    this.el.addEventListener('click', this._handleCarouselClick);\n    if (this.showIndicators && this._indicators) {\n      this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n        el.addEventListener('click', this._handleIndicatorClick);\n      });\n    }\n    // Resize\n    window.addEventListener('resize', this._handleThrottledResize);\n  }\n\n  _removeEventHandlers() {\n    if (typeof window.ontouchstart !== 'undefined') {\n      this.el.removeEventListener('touchstart', this._handleCarouselTap);\n      this.el.removeEventListener('touchmove', this._handleCarouselDrag);\n      this.el.removeEventListener('touchend', this._handleCarouselRelease);\n    }\n    this.el.removeEventListener('mousedown', this._handleCarouselTap);\n    this.el.removeEventListener('mousemove', this._handleCarouselDrag);\n    this.el.removeEventListener('mouseup', this._handleCarouselRelease);\n    this.el.removeEventListener('mouseleave', this._handleCarouselRelease);\n    this.el.removeEventListener('click', this._handleCarouselClick);\n    if (this.showIndicators && this._indicators) {\n      this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n        el.removeEventListener('click', this._handleIndicatorClick);\n      });\n    }\n    window.removeEventListener('resize', this._handleThrottledResize);\n  }\n\n  _handleThrottledResize: () => void = Utils.throttle(function(){ this._handleResize(); }, 200, null).bind(this);\n\n  _handleCarouselTap = (e: MouseEvent | TouchEvent) => {\n    // Fixes firefox draggable image bug\n    if (e.type === 'mousedown' && (<HTMLElement>e.target).tagName === 'IMG') {\n      e.preventDefault();\n    }\n    this.pressed = true;\n    this.dragged = false;\n    this.verticalDragged = false;\n    this.reference = this._xpos(e);\n    this.referenceY = this._ypos(e);\n\n    this.velocity = this.amplitude = 0;\n    this.frame = this.offset;\n    this.timestamp = Date.now();\n    clearInterval(this.ticker);\n    this.ticker = setInterval(this._track, 100);\n  }\n\n  _handleCarouselDrag = (e: MouseEvent | TouchEvent) => {\n    let x: number, y: number, delta: number, deltaY: number;\n    if (this.pressed) {\n      x = this._xpos(e);\n      y = this._ypos(e);\n      delta = this.reference - x;\n      deltaY = Math.abs(this.referenceY - y);\n      if (deltaY < 30 && !this.verticalDragged) {\n        // If vertical scrolling don't allow dragging.\n        if (delta > 2 || delta < -2) {\n          this.dragged = true;\n          this.reference = x;\n          this._scroll(this.offset + delta);\n        }\n      } else if (this.dragged) {\n        // If dragging don't allow vertical scroll.\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      } else {\n        // Vertical scrolling.\n        this.verticalDragged = true;\n      }\n    }\n    if (this.dragged) {\n      // If dragging don't allow vertical scroll.\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n  }\n\n  _handleCarouselRelease = (e: MouseEvent | TouchEvent) => {\n    if (this.pressed) {\n      this.pressed = false;\n    } else {\n      return;\n    }\n    clearInterval(this.ticker);\n    this.target = this.offset;\n    if (this.velocity > 10 || this.velocity < -10) {\n      this.amplitude = 0.9 * this.velocity;\n      this.target = this.offset + this.amplitude;\n    }\n    this.target = Math.round(this.target / this.dim) * this.dim;\n    // No wrap of items.\n    if (this.noWrap) {\n      if (this.target >= this.dim * (this.count - 1)) {\n        this.target = this.dim * (this.count - 1);\n      } else if (this.target < 0) {\n        this.target = 0;\n      }\n    }\n    this.amplitude = this.target - this.offset;\n    this.timestamp = Date.now();\n    requestAnimationFrame(this._autoScroll);\n    if (this.dragged) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    return false;\n  }\n\n  _handleCarouselClick = (e: MouseEvent | TouchEvent) => {\n    // Disable clicks if carousel was dragged.\n    if (this.dragged) {\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }\n    else if (!this.options.fullWidth) {\n      const clickedElem = (<HTMLElement>e.target).closest('.carousel-item');\n      if (!clickedElem) return;\n      const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n      const diff = this._wrap(this.center) - clickedIndex;\n      // Disable clicks if carousel was shifted by click\n      if (diff !== 0) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      // fixes https://github.com/materializecss/materialize/issues/180\n      if (clickedIndex < 0) {\n        // relative X position > center of carousel = clicked at the right part of the carousel\n        if ((e as MouseEvent).clientX - (e.target as HTMLElement).getBoundingClientRect().left > this.el.clientWidth / 2) {\n          this.next();\n        } else {\n          this.prev();\n        }\n      } else {\n        this._cycleTo(clickedIndex);\n      }\n    }\n  }\n\n  _handleIndicatorClick = (e: Event) => {\n    e.stopPropagation();\n    const indicator = (<HTMLElement>e.target).closest('.indicator-item');\n    if (indicator) {\n      const index = [...indicator.parentNode.children].indexOf(indicator);\n      this._cycleTo(index);\n    }\n  }\n\n  _handleResize = () => {\n    if (this.options.fullWidth) {\n      this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n      this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n      this.dim = this.itemWidth * 2 + this.options.padding;\n      this.offset = this.center * 2 * this.itemWidth;\n      this.target = this.offset;\n      this._setCarouselHeight(true);\n    }\n    else {\n      this._scroll();\n    }\n  }\n\n  _setCarouselHeight(imageOnly: boolean = false) {\n    const firstSlide = this.el.querySelector('.carousel-item.active')\n      ? this.el.querySelector('.carousel-item.active')\n      : this.el.querySelector('.carousel-item');\n\n    const firstImage = firstSlide.querySelector('img');\n    if (firstImage) {\n      if (firstImage.complete) {\n        // If image won't trigger the load event\n        const imageHeight = firstImage.clientHeight;\n        if (imageHeight > 0) {\n          this.el.style.height = imageHeight+'px';\n        }\n        else {\n          // If image still has no height, use the natural dimensions to calculate\n          const naturalWidth = firstImage.naturalWidth;\n          const naturalHeight = firstImage.naturalHeight;\n          const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n          this.el.style.height = adjustedHeight+'px';\n        }\n      } else {\n        // Get height when image is loaded normally\n        firstImage.addEventListener('load', () => {\n          this.el.style.height = firstImage.offsetHeight+'px';\n        });\n      }\n    }\n    else if (!imageOnly) {\n      const slideHeight = firstSlide.clientHeight;\n      this.el.style.height = slideHeight+'px';\n    }\n  }\n\n  _xpos(e: MouseEvent | TouchEvent) {\n    // touch event\n    if (e.type.startsWith(\"touch\") && (e as TouchEvent).targetTouches.length >= 1) {\n      return (e as TouchEvent).targetTouches[0].clientX;\n    }\n    // mouse event\n    return (e as MouseEvent).clientX;\n  }\n\n  _ypos(e: MouseEvent | TouchEvent) {\n    // touch event\n    if (e.type.startsWith(\"touch\") && (e as TouchEvent).targetTouches.length >= 1) {\n      return (e as TouchEvent).targetTouches[0].clientY;\n    }\n    // mouse event\n    return (e as MouseEvent).clientY;\n  }\n\n  _wrap(x: number) {\n    return x >= this.count\n      ? x % this.count\n      : x < 0\n      ? this._wrap(this.count + (x % this.count))\n      : x;\n  }\n\n  _track = () => {\n    let now: number, elapsed: number, delta: number, v: number;\n    now = Date.now();\n    elapsed = now - this.timestamp;\n    this.timestamp = now;\n    delta = this.offset - this.frame;\n    this.frame = this.offset;\n    v = (1000 * delta) / (1 + elapsed);\n    this.velocity = 0.8 * v + 0.2 * this.velocity;\n  }\n\n  _autoScroll = () => {\n    let elapsed: number, delta: number;\n    if (this.amplitude) {\n      elapsed = Date.now() - this.timestamp;\n      delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n      if (delta > 2 || delta < -2) {\n        this._scroll(this.target - delta);\n        requestAnimationFrame(this._autoScroll);\n      } else {\n        this._scroll(this.target);\n      }\n    }\n  }\n\n  _scroll(x: number = 0) {\n    // Track scrolling state\n    if (!this.el.classList.contains('scrolling')) {\n      this.el.classList.add('scrolling');\n    }\n    if (this.scrollingTimeout != null) {\n      window.clearTimeout(this.scrollingTimeout);\n    }\n    this.scrollingTimeout = window.setTimeout(() => {\n      this.el.classList.remove('scrolling');\n    }, this.options.duration);\n\n    // Start actual scroll\n    let i: number,\n      half: number,\n      delta: number,\n      dir: number,\n      tween: number,\n      el: HTMLElement,\n      alignment: string,\n      zTranslation: number,\n      tweenedOpacity: number,\n      centerTweenedOpacity: number;\n    let lastCenter = this.center;\n    let numVisibleOffset = 1 / this.options.numVisible;\n\n    this.offset = typeof x === 'number' ? x : this.offset;\n    this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n\n    delta = this.offset - this.center * this.dim;\n    dir = delta < 0 ? 1 : -1;\n    tween = (-dir * delta * 2) / this.dim;\n    half = this.count >> 1;\n\n    if (this.options.fullWidth) {\n      alignment = 'translateX(0)';\n      centerTweenedOpacity = 1;\n    }\n    else {\n      alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n      alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n      centerTweenedOpacity = 1 - numVisibleOffset * tween;\n    }\n\n    // Set indicator active\n    if (this.showIndicators) {\n      const diff = this.center % this.count;\n      const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n      const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n      if (activeIndicatorIndex !== diff) {\n        activeIndicator.classList.remove('active');\n        const pos = diff < 0 ? this.count + diff : diff;\n        this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n      }\n    }\n\n    // center\n    // Don't show wrapped items.\n    if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n      el = this.images[this._wrap(this.center)];\n\n      // Add active class to center item.\n      if (!el.classList.contains('active')) {\n        this.el.querySelector('.carousel-item').classList.remove('active');\n        el.classList.add('active');\n      }\n\n      let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n        this.options.shift *\n        tween *\n        i}px) translateZ(${this.options.dist * tween}px)`;\n      this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n    }\n\n    for (i = 1; i <= half; ++i) {\n      // right side\n      if (this.options.fullWidth) {\n        zTranslation = this.options.dist;\n        tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n      } else {\n        zTranslation = this.options.dist * (i * 2 + tween * dir);\n        tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n      }\n      // Don't show wrapped items.\n      if (!this.noWrap || this.center + i < this.count) {\n        el = this.images[this._wrap(this.center + i)];\n        let transformString = `${alignment} translateX(${this.options.shift +\n          (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n        this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n      }\n      // left side\n      if (this.options.fullWidth) {\n        zTranslation = this.options.dist;\n        tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n      } else {\n        zTranslation = this.options.dist * (i * 2 - tween * dir);\n        tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n      }\n      // Don't show wrapped items.\n      if (!this.noWrap || this.center - i >= 0) {\n        el = this.images[this._wrap(this.center - i)];\n        let transformString = `${alignment} translateX(${-this.options.shift +\n          (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n        this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n      }\n    }\n    // center\n    // Don't show wrapped items.\n    if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n      el = this.images[this._wrap(this.center)];\n      let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n        this.options.shift *\n        tween}px) translateZ(${this.options.dist * tween}px)`;\n      this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n    }\n    // onCycleTo callback\n    const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n\n    if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n      this.options.onCycleTo.call(this, _currItem, this.dragged);\n    }\n    // One time callback\n    if (typeof this.oneTimeCallback === 'function') {\n      this.oneTimeCallback.call(this, _currItem, this.dragged);\n      this.oneTimeCallback = null;\n    }\n  }\n\n  _updateItemStyle(el: HTMLElement, opacity: number, zIndex: number, transform: string) {\n    el.style[this.xform] = transform;\n    el.style.zIndex = zIndex.toString();\n    el.style.opacity = opacity.toString();\n    el.style.visibility = 'visible';\n  }\n\n  _cycleTo(n: number, callback: CarouselOptions[\"onCycleTo\"] = null) {\n    let diff = (this.center % this.count) - n;\n    // Account for wraparound.\n    if (!this.noWrap) {\n      if (diff < 0) {\n        if (Math.abs(diff + this.count) < Math.abs(diff)) {\n          diff += this.count;\n        }\n      } else if (diff > 0) {\n        if (Math.abs(diff - this.count) < diff) {\n          diff -= this.count;\n        }\n      }\n    }\n    this.target = this.dim * Math.round(this.offset / this.dim);\n    // Next\n    if (diff < 0) {\n      this.target += this.dim * Math.abs(diff);\n    } // Prev\n    else if (diff > 0) {\n      this.target -= this.dim * diff;\n    }\n    // Set one time callback\n    if (typeof callback === 'function') {\n      this.oneTimeCallback = callback;\n    }\n    // Scroll\n    if (this.offset !== this.target) {\n      this.amplitude = this.target - this.offset;\n      this.timestamp = Date.now();\n      requestAnimationFrame(this._autoScroll);\n    }\n  }\n\n  /**\n   * Move carousel to next slide or go forward a given amount of slides.\n   * @param n How many times the carousel slides.\n   */\n  next(n: number = 1) {\n    if (n === undefined || isNaN(n)) {\n      n = 1;\n    }\n    let index = this.center + n;\n    if (index >= this.count || index < 0) {\n      if (this.noWrap) return;\n      index = this._wrap(index);\n    }\n    this._cycleTo(index);\n  }\n\n  /**\n   * Move carousel to previous slide or go back a given amount of slides.\n   * @param n How many times the carousel slides.\n   */\n  prev(n: number = 1) {\n    if (n === undefined || isNaN(n)) {\n      n = 1;\n    }\n    let index = this.center - n;\n    if (index >= this.count || index < 0) {\n      if (this.noWrap) return;\n      index = this._wrap(index);\n    }\n    this._cycleTo(index);\n  }\n\n  /**\n   * Move carousel to nth slide.\n   * @param n Index of slide.\n   * @param callback \"onCycleTo\" optional callback.\n   */\n  set(n: number, callback?: CarouselOptions[\"onCycleTo\"]) {\n    if (n === undefined || isNaN(n)) {\n      n = 0;\n    }\n    if (n > this.count || n < 0) {\n      if (this.noWrap) return;\n      n = this._wrap(n);\n    }\n    this._cycleTo(n, callback);\n  }\n}\n","import { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface CharacterCounterOptions extends BaseOptions {};\n\nconst _defaults = Object.freeze({});\n\ntype InputElement = HTMLInputElement | HTMLTextAreaElement;\n\nexport class CharacterCounter extends Component<{}> {\n  \n  declare el: InputElement;\n  /** Stores the reference to the counter HTML element. */\n  counterEl: HTMLSpanElement;\n  /** Specifies whether the input is valid or not. */\n  isInvalid: boolean;\n  /** Specifies whether the input text has valid length or not. */\n  isValidLength: boolean;\n\n  constructor(el: HTMLInputElement | HTMLTextAreaElement, options: Partial<CharacterCounterOptions>) {\n    super(el, {}, CharacterCounter);\n    (this.el as any).M_CharacterCounter = this;\n\n    this.options = {\n      ...CharacterCounter.defaults,\n      ...options\n    };\n\n    this.isInvalid = false;\n    this.isValidLength = false;\n    \n    this._setupCounter();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): CharacterCounterOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of CharacterCounter.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: InputElement, options?: Partial<CharacterCounterOptions>): CharacterCounter;\n  /**\n   * Initializes instances of CharacterCounter.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<InputElement | MElement>, options?: Partial<CharacterCounterOptions>): CharacterCounter[];\n  /**\n   * Initializes instances of CharacterCounter.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InputElement | InitElements<InputElement | MElement>, options: Partial<CharacterCounterOptions> = {}): CharacterCounter | CharacterCounter[] {\n    return super.init(els, options, CharacterCounter);\n  }\n\n  static getInstance(el: InputElement): CharacterCounter {\n    return (el as any).M_CharacterCounter;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).CharacterCounter = undefined;\n    this._removeCounter();\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('focus', this.updateCounter, true);\n    this.el.addEventListener('input', this.updateCounter, true);\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('focus', this.updateCounter, true);\n    this.el.removeEventListener('input', this.updateCounter, true);\n  }\n\n  _setupCounter() {\n    this.counterEl = document.createElement('span');\n    this.counterEl.classList.add('character-counter');\n    this.counterEl.style.float = 'right';\n    this.counterEl.style.fontSize = '12px';\n    this.counterEl.style.height = '1';\n    this.el.parentElement.appendChild(this.counterEl);\n  }\n\n  _removeCounter() {\n    this.counterEl.remove();\n  }\n\n  updateCounter = () => {\n    let maxLength = parseInt(this.el.getAttribute('maxlength')),\n      actualLength = (this.el as HTMLInputElement).value.length;\n\n    this.isValidLength = actualLength <= maxLength;\n    let counterString = actualLength.toString();\n    if (maxLength) {\n      counterString += '/' + maxLength;\n      this._validateInput();\n    }\n    this.counterEl.innerHTML = counterString;\n  }\n\n  _validateInput() {\n    if (this.isValidLength && this.isInvalid) {\n      this.isInvalid = false;\n      this.el.classList.remove('invalid');\n    }\n    else if (!this.isValidLength && !this.isInvalid) {\n      this.isInvalid = true;\n      this.el.classList.remove('valid');\n      this.el.classList.add('invalid');\n    }\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Autocomplete, AutocompleteOptions } from \"./autocomplete\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface ChipData {\n  /**\n   * Unique identifier.\n   */\n  id: number|string;\n  /**\n   * Chip text. If not specified, \"id\" will be used.\n   */\n  text?: string;\n  /**\n   * Chip image (URL).\n   */\n  image?: string;\n}\n\nexport interface ChipsOptions extends BaseOptions{\n  /**\n   * Set the chip data.\n   * @default []\n   */\n  data: ChipData[];\n  /**\n   * Set first placeholder when there are no tags.\n   * @default \"\"\n   */\n  placeholder: string;\n  /**\n   * Set second placeholder when adding additional tags.\n   * @default \"\"\n   */\n  secondaryPlaceholder: string;\n  /**\n   * Set autocomplete options.\n   * @default {}\n   */\n  autocompleteOptions: Partial<AutocompleteOptions>;\n  /**\n   * Toggles abililty to add custom value not in autocomplete list.\n   * @default false\n   */\n  autocompleteOnly: boolean;\n  /**\n   * Set chips limit.\n   * @default Infinity\n   */\n  limit: number;\n  /**\n   * Specifies class to be used in \"close\" button (useful when working with Material Symbols icon set).\n   * @default 'material-icons'\n   */\n  closeIconClass: string;\n  /**\n   * Callback for chip add.\n   * @default null\n   */\n  onChipAdd: (element: HTMLElement, chip: HTMLElement) => void;\n  /**\n   * Callback for chip select.\n   * @default null\n   */\n  onChipSelect: (element: HTMLElement, chip: HTMLElement) => void;\n  /**\n   * Callback for chip delete.\n   * @default null\n   */\n  onChipDelete: (element: HTMLElement, chip: HTMLElement) => void;\n}\n\nlet _defaults: ChipsOptions = {\n  data: [],\n  placeholder: '',\n  secondaryPlaceholder: '',\n  closeIconClass: 'material-icons',\n  autocompleteOptions: {},\n  autocompleteOnly: false,\n  limit: Infinity,\n  onChipAdd: null,\n  onChipSelect: null,\n  onChipDelete: null\n};\n\nfunction gGetIndex(el: HTMLElement): number {\n  return [...el.parentNode.children].indexOf(el);\n}\n\nexport class Chips extends Component<ChipsOptions> {\n  /** Array of the current chips data. */\n  chipsData: ChipData[];\n  /** If the chips has autocomplete enabled. */\n  hasAutocomplete: boolean;\n  /** Autocomplete instance, if any. */\n  autocomplete: Autocomplete;\n  _input: HTMLInputElement;\n  _label: any;\n  _chips: HTMLElement[];\n  static _keydown: boolean;\n  private _selectedChip: any;\n\n  constructor(el: HTMLElement, options: Partial<ChipsOptions>) {\n    super(el, options, Chips);\n    (this.el as any).M_Chips = this;\n\n    this.options = {\n      ...Chips.defaults,\n      ...options\n    };\n\n    this.el.classList.add('chips', 'input-field');\n    this.chipsData = [];\n    this._chips = [];\n    this._setupInput();\n    this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n\n    // Set input id\n    if (!this._input.getAttribute('id'))\n      this._input.setAttribute('id', Utils.guid());\n\n    // Render initial chips\n    if (this.options.data.length) {\n      this.chipsData = this.options.data;\n      this._renderChips();\n    }\n    // Setup autocomplete if needed\n    if (this.hasAutocomplete) this._setupAutocomplete();\n    this._setPlaceholder();\n    this._setupLabel();\n    this._setupEventHandlers();\n  }\n\n  static get defaults() {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Chips.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: InitElements<MElement>, options?: Partial<ChipsOptions>): Chips;\n  /**\n   * Initializes instances of Chips.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<ChipsOptions>): Chips[];\n  /**\n   * Initializes instances of Chips.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<ChipsOptions> = {}): Chips | Chips[] {\n    return super.init(els, options, Chips);\n  }\n\n  static getInstance(el: HTMLElement): Chips {\n    return (el as any).M_Chips;\n  }\n\n  getData() {\n    return this.chipsData;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this._chips.forEach(c => c.remove());\n    this._chips = [];\n    (this.el as any).M_Chips = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleChipClick);\n    document.addEventListener('keydown', Chips._handleChipsKeydown);\n    document.addEventListener('keyup', Chips._handleChipsKeyup);\n    this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n    this._input.addEventListener('focus', this._handleInputFocus);\n    this._input.addEventListener('blur', this._handleInputBlur);\n    this._input.addEventListener('keydown', this._handleInputKeydown);\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleChipClick);\n    document.removeEventListener('keydown', Chips._handleChipsKeydown);\n    document.removeEventListener('keyup', Chips._handleChipsKeyup);\n    this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n    this._input.removeEventListener('focus', this._handleInputFocus);\n    this._input.removeEventListener('blur', this._handleInputBlur);\n    this._input.removeEventListener('keydown', this._handleInputKeydown);\n  }\n\n  _handleChipClick = (e: MouseEvent) => {\n    const _chip = (<HTMLElement>e.target).closest('.chip');\n    const clickedClose = (<HTMLElement>e.target).classList.contains('close');\n    if (_chip) {\n      const index = [..._chip.parentNode.children].indexOf(_chip);\n      if (clickedClose) {\n        this.deleteChip(index);\n        this._input.focus();\n      }\n      else {\n        this.selectChip(index);\n      }\n      // Default handle click to focus on input\n    }\n    else {\n      this._input.focus();\n    }\n  }\n\n  static _handleChipsKeydown(e: KeyboardEvent) {\n    Chips._keydown = true;\n    const chips = (<HTMLElement>e.target).closest('.chips');\n    const chipsKeydown = e.target && chips;\n\n    // Don't handle keydown inputs on input and textarea\n    const tag = (<HTMLElement>e.target).tagName;\n    if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown) return;\n\n    const currChips: Chips = (chips as any).M_Chips;\n\n    if (Utils.keys.BACKSPACE.includes(e.key) || Utils.keys.DELETE.includes(e.key)) {\n      e.preventDefault();\n      let selectIndex = currChips.chipsData.length;\n      if (currChips._selectedChip) {\n        const index = gGetIndex(currChips._selectedChip);\n        currChips.deleteChip(index);\n        currChips._selectedChip = null;\n        // Make sure selectIndex doesn't go negative\n        selectIndex = Math.max(index - 1, 0);\n      }\n      if (currChips.chipsData.length)\n        currChips.selectChip(selectIndex);\n      else\n        currChips._input.focus();\n    }\n    else if (Utils.keys.ARROW_LEFT.includes(e.key)) {\n      if (currChips._selectedChip) {\n        const selectIndex = gGetIndex(currChips._selectedChip) - 1;\n        if (selectIndex < 0) return;\n        currChips.selectChip(selectIndex);\n      }\n    }\n    else if (Utils.keys.ARROW_RIGHT.includes(e.key)) {\n      if (currChips._selectedChip) {\n        const selectIndex = gGetIndex(currChips._selectedChip) + 1;\n        if (selectIndex >= currChips.chipsData.length)\n          currChips._input.focus();\n        else\n          currChips.selectChip(selectIndex);\n      }\n    }\n  }\n\n  static _handleChipsKeyup(e: Event) {\n    Chips._keydown = false;\n  }\n\n  static _handleChipsBlur(e: Event) {\n    if (!Chips._keydown && document.hidden) {\n      const chips = (<HTMLElement>e.target).closest('.chips');\n      const currChips: Chips = (chips as any).M_Chips;\n      currChips._selectedChip = null;\n    }\n  }\n\n  _handleInputFocus = () => {\n    this.el.classList.add('focus');\n  }\n\n  _handleInputBlur = () => {\n    this.el.classList.remove('focus');\n  }\n\n  _handleInputKeydown = (e: KeyboardEvent) => {\n    Chips._keydown = true;\n    if (Utils.keys.ENTER.includes(e.key)) {\n      // Override enter if autocompleting.\n      if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n        return;\n      }\n      e.preventDefault();\n      if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n        this.addChip({id: this._input.value});\n      }\n      this._input.value = '';\n    }\n    else if (      \n      (Utils.keys.BACKSPACE.includes(e.key) || Utils.keys.ARROW_LEFT.includes(e.key)) &&\n      this._input.value === '' &&\n      this.chipsData.length\n    ) {\n      e.preventDefault();\n      this.selectChip(this.chipsData.length - 1);\n    }\n  }\n\n  _renderChip(chip: ChipData): HTMLDivElement {\n    if (!chip.id) return;\n    const renderedChip = document.createElement('div');\n    renderedChip.classList.add('chip');\n    renderedChip.innerText = chip.text || <string>chip.id;\n    renderedChip.setAttribute('tabindex', \"0\");\n    const closeIcon = document.createElement('i');\n    closeIcon.classList.add(this.options.closeIconClass, 'close');\n    closeIcon.innerText = 'close';\n    // attach image if needed\n    if (chip.image) {\n      const img = document.createElement('img');\n      img.setAttribute('src', chip.image);\n      renderedChip.insertBefore(img, renderedChip.firstChild);\n    }\n    renderedChip.appendChild(closeIcon);\n    return renderedChip;\n  }\n\n  _renderChips() {\n    this._chips = []; //.remove();\n    for (let i = 0; i < this.chipsData.length; i++) {\n      const chipElem = this._renderChip(this.chipsData[i]);\n      this.el.appendChild(chipElem);\n      this._chips.push(chipElem);\n    }\n    // move input to end\n    this.el.append(this._input);\n  }\n\n  _setupAutocomplete() {\n    this.options.autocompleteOptions.onAutocomplete = (items) => {\n      if (items.length > 0) this.addChip({\n        id: items[0].id,\n        text: items[0].text,\n        image: items[0].image\n      });\n      this._input.value = '';\n      this._input.focus();\n    };\n    this.autocomplete = Autocomplete.init(this._input, this.options.autocompleteOptions);\n  }\n\n  _setupInput() {\n    this._input = this.el.querySelector('input');\n    if (!this._input) {\n      this._input = document.createElement('input');\n      this.el.append(this._input);\n    }\n    this._input.classList.add('input');\n  }\n\n  _setupLabel() {\n    this._label = this.el.querySelector('label');\n    if (this._label) this._label.setAttribute('for', this._input.getAttribute('id'));\n  }\n\n  _setPlaceholder() {\n    if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n      this._input.placeholder = this.options.placeholder;\n    }\n    else if (\n      (this.chipsData === undefined || !!this.chipsData.length) &&\n      this.options.secondaryPlaceholder\n    ) {\n      this._input.placeholder = this.options.secondaryPlaceholder;\n    }\n  }\n\n  _isValidAndNotExist(chip: ChipData) {\n    const isValid = !!chip.id;\n    const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n    return isValid && doesNotExist;\n  }\n\n  /**\n   * Add chip to input.\n   * @param chip Chip data object\n   */\n  addChip(chip: ChipData) {\n    if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit) return;\n    const renderedChip = this._renderChip(chip);\n    this._chips.push(renderedChip);\n    this.chipsData.push(chip);\n    //$(this._input).before(renderedChip);\n    this._input.before(renderedChip);\n    this._setPlaceholder();\n    // fire chipAdd callback\n    if (typeof this.options.onChipAdd === 'function') {\n      this.options.onChipAdd(this.el, renderedChip);\n    }\n  }\n\n  /**\n   * Delete nth chip.\n   * @param chipIndex  Index of chip\n   */\n  deleteChip(chipIndex: number) {\n    const chip = this._chips[chipIndex];\n    this._chips[chipIndex].remove();\n    this._chips.splice(chipIndex, 1);\n    this.chipsData.splice(chipIndex, 1);\n    this._setPlaceholder();\n    // fire chipDelete callback\n    if (typeof this.options.onChipDelete === 'function') {\n      this.options.onChipDelete(this.el, chip);\n    }\n  }\n\n  /**\n   * Select nth chip.\n   * @param chipIndex Index of chip\n   */\n  selectChip(chipIndex: number) {\n    const chip = this._chips[chipIndex];\n    this._selectedChip = chip;\n    chip.focus();\n    // fire chipSelect callback\n    if (typeof this.options.onChipSelect === 'function') {\n      this.options.onChipSelect(this.el, chip);\n    }\n  }\n\n  static Init(){\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      // Handle removal of static chips.\n      document.body.addEventListener('click', e => {\n        if ((<HTMLElement>e.target).closest('.chip .close')) {\n          const chips = (<HTMLElement>e.target).closest('.chips');\n          if (chips && (chips as any).M_Chips == undefined) return;\n          (<HTMLElement>e.target).closest('.chip').remove();\n        }\n      });\n    });\n  }\n\n  static {\n    Chips._keydown = false;\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface CollapsibleOptions extends BaseOptions {\n  /**\n   * If accordion versus collapsible.\n   * @default true\n   */\n  accordion: boolean;\n  /**\n   * Transition in duration in milliseconds.\n   * @default 300\n   */\n  inDuration: number;\n  /**\n   * Transition out duration in milliseconds.\n   * @default 300\n   */\n  outDuration: number;\n  /**\n   * Callback function called before collapsible is opened.\n   * @default null\n   */\n  onOpenStart: (el: Element) => void;\n  /**\n   * Callback function called after collapsible is opened.\n   * @default null\n   */\n  onOpenEnd: (el: Element) => void;\n  /**\n   * Callback function called before collapsible is closed.\n   * @default null\n   */\n  onCloseStart: (el: Element) => void;\n  /**\n   * Callback function called after collapsible is closed.\n   * @default null\n   */\n  onCloseEnd: (el: Element) => void;\n}\n\nconst _defaults: CollapsibleOptions = {\n  accordion: true,\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,  \n  onCloseEnd: null,\n  inDuration: 300,\n  outDuration: 300\n};\n\nexport class Collapsible extends Component<CollapsibleOptions> {\n  private _headers: HTMLElement[];\n\n  constructor(el: HTMLElement, options: Partial<CollapsibleOptions>) {\n    super(el, options, Collapsible);\n    (this.el as any).M_Collapsible = this;\n\n    this.options = {\n      ...Collapsible.defaults,\n      ...options\n    };\n\n    // Setup tab indices\n    this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\n    this._headers.forEach(el => el.tabIndex = 0);\n    this._setupEventHandlers();\n\n    // Open active\n    const activeBodies: HTMLElement[] = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\n    if (this.options.accordion)\n      if (activeBodies.length > 0) {\n        // Accordion => open first active only\n        this._setExpanded(activeBodies[0]);\n      }\n    else {\n      // Expandables => all active\n      activeBodies.forEach(el => this._setExpanded(el));\n    }\n  }\n\n  static get defaults(): CollapsibleOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Collapsible.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<CollapsibleOptions>): Collapsible;\n  /**\n   * Initializes instances of Collapsible.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<CollapsibleOptions>): Collapsible[];\n  /**\n   * Initializes instances of Collapsible.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<CollapsibleOptions> = {}): Collapsible | Collapsible[] {\n    return super.init(els, options, Collapsible);\n  }\n\n  static getInstance(el: HTMLElement): Collapsible {\n    return (el as any).M_Collapsible;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).M_Collapsible = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleCollapsibleClick);\n    this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydown));\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleCollapsibleClick);\n    this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydown));\n  }\n\n  _handleCollapsibleClick = (e: MouseEvent | KeyboardEvent) => {\n    const header = (e.target as HTMLElement).closest('.collapsible-header');\n    if (e.target && header) {\n      const collapsible = header.closest('.collapsible');\n      if (collapsible !== this.el) return;\n\n      const li = header.closest('li');\n      const isActive = li.classList.contains('active');\n      const index = [...li.parentNode.children].indexOf(li);\n\n      if (isActive)\n        this.close(index);\n      else\n        this.open(index);\n    }\n  }\n\n  _handleCollapsibleKeydown = (e: KeyboardEvent) => {\n    if (Utils.keys.ENTER.includes(e.key)) {\n      this._handleCollapsibleClick(e);\n    }\n  }\n\n  private _setExpanded(li: HTMLElement): void {\n    li.style.maxHeight = li.scrollHeight + \"px\";\n  }\n\n  _animateIn(index: number) {\n    const li = <HTMLLIElement>this.el.children[index];\n    if (!li) return;\n    const body: HTMLElement = li.querySelector('.collapsible-body');\n    const duration = this.options.inDuration; // easeInOutCubic\n    body.style.transition = `max-height ${duration}ms ease-out`;\n    this._setExpanded(body);\n    setTimeout(() => {\n      if (typeof this.options.onOpenEnd === 'function') {\n        this.options.onOpenEnd.call(this, li);\n      }\n    }, duration);\n  }\n\n  _animateOut(index: number) {\n    const li = this.el.children[index];\n    if (!li) return;\n    const body: HTMLElement = li.querySelector('.collapsible-body');\n    const duration = this.options.outDuration; // easeInOutCubic\n    body.style.transition = `max-height ${duration}ms ease-out`;\n    body.style.maxHeight = \"0\";\n    setTimeout(() => {\n      if (typeof this.options.onCloseEnd === 'function') {\n        this.options.onCloseEnd.call(this, li);\n      }\n    }, duration);\n  }\n\n  /**\n   * Open collapsible section.\n   * @param n Nth section to open.\n   */\n  open = (index: number) => {\n    const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\n    const li = listItems[index];\n    if (li && !li.classList.contains('active')) {\n      // onOpenStart callback\n      if (typeof this.options.onOpenStart === 'function') {\n        this.options.onOpenStart.call(this, li);\n      }\n      // Handle accordion behavior\n      if (this.options.accordion) {\n        const activeLis = listItems.filter(li => li.classList.contains('active'));\n        activeLis.forEach(activeLi => {\n          const index = listItems.indexOf(activeLi);\n          this.close(index);\n        });\n      }\n      // Animate in\n      li.classList.add('active');\n      this._animateIn(index);\n    }\n  }\n\n  /**\n   * Close collapsible section.\n   * @param n Nth section to close.\n   */\n  close = (index: number) => {\n    const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\n    if (li && li.classList.contains('active')) {\n      // onCloseStart callback\n      if (typeof this.options.onCloseStart === 'function') {\n        this.options.onCloseStart.call(this, li);\n      }\n      // Animate out\n      li.classList.remove('active');\n      this._animateOut(index);\n    }\n  }\n}\n","/**\n * Base options for component initialization.\n */\nexport interface BaseOptions {};\n\nexport type MElement = HTMLElement | Element;\nexport type InitElements<T extends MElement> = NodeListOf<T> | HTMLCollectionOf<T>;\ntype ComponentConstructor<T extends Component<O>, O extends BaseOptions> = {\n  new (el: HTMLElement, options: Partial<O>): T\n};\ntype ComponentType<C extends Component<O>, O extends BaseOptions> = ComponentConstructor<C, O> & typeof Component<O>;\n\nexport interface I18nOptions {\n  cancel: string;\n  clear: string;\n  done: string;\n}\n\nexport interface Openable {\n  isOpen: boolean;\n  open(): void;\n  close(): void;\n};\n\n/**\n * Base class implementation for Materialize components.\n */\nexport class Component<O extends BaseOptions>{\n  /**\n   * The DOM element the plugin was initialized with.\n   */\n  el: HTMLElement;\n  /**\n   * The options the instance was initialized with.\n   */\n  options: O;\n\n  /**\n   * Constructs component instance and set everything up.\n   */\n  constructor(el: HTMLElement, options: Partial<O>, classDef: ComponentType<Component<O>, O>){\n    // Display error if el is not a valid HTML Element\n    if (!(el instanceof HTMLElement)) {\n      console.error(Error(el + ' is not an HTML Element'));\n    }\n    // If exists, destroy and reinitialize in child\n    let ins = classDef.getInstance(el);\n    if (!!ins) {\n      ins.destroy();\n    }\n    this.el = el;\n  }\n\n  /**\n   * Initializes component instance.\n   * @param el HTML element.\n   * @param options Component options.\n   * @param classDef Class definition.\n   */\n  protected static init<\n    I extends HTMLElement, O extends BaseOptions, C extends Component<O>\n  >(el: I, options: O, classDef: ComponentType<C, O>): C;\n  /**\n   * Initializes component instances.\n   * @param els HTML elements.\n   * @param options Component options.\n   * @param classDef Class definition.\n   */\n  protected static init<\n    I extends MElement, O extends BaseOptions, C extends Component<O>\n  >(els: InitElements<I>, options: Partial<O>, classDef: ComponentType<C, O>): C[];\n  /**\n   * Initializes component instances.\n   * @param els HTML elements.\n   * @param options Component options.\n   * @param classDef Class definition.\n   */\n  protected static init<\n    I extends MElement, O extends BaseOptions, C extends Component<O>\n  >(els: I | InitElements<I>, options: Partial<O>, classDef: ComponentType<C, O>): C | C[];\n  /**\n   * Initializes component instances.\n   * @param els HTML elements.\n   * @param options Component options.\n   * @param classDef Class definition.\n   */\n  protected static init<\n    I extends MElement, O extends BaseOptions, C extends Component<O>\n  >(els: I | InitElements<I>, options: Partial<O>, classDef: ComponentType<C, O>): C | C[] {\n    let instances = null;\n    if (els instanceof Element) {\n      instances = new classDef(<HTMLElement>els, options);\n    }\n    else if (!!els && els.length) {\n      instances = [];\n      for (let i = 0; i < els.length; i++) {\n        instances.push(new classDef(<HTMLElement>els[i], options));\n      }\n    }\n    return instances;\n  }\n\n  /**\n   * @returns default options for component instance.\n   */\n  static get defaults(): BaseOptions{ return {}; }\n\n  /**\n   * Retrieves component instance for the given element.\n   * @param el Associated HTML Element.\n   */\n  static getInstance(el: HTMLElement): Component<BaseOptions> {\n    throw new Error(\"This method must be implemented.\");\n  }\n\n  /**\n   * Destroy plugin instance and teardown.\n   */\n  destroy(): void { throw new Error(\"This method must be implemented.\"); }\n}\n","import { Modal } from \"./modal\";\nimport { Utils } from \"./utils\";\nimport { FormSelect } from \"./select\";\nimport { BaseOptions, Component, InitElements, MElement, I18nOptions } from \"./component\";\n\nexport interface DateI18nOptions extends I18nOptions {\n  previousMonth: string;\n  nextMonth: string;\n  months: string[];\n  monthsShort: string[];\n  weekdays: string[];\n  weekdaysShort: string[];\n  weekdaysAbbrev: string[];\n};\n\nexport interface DatepickerOptions extends BaseOptions {\n  /**\n   * Automatically close picker when date is selected.\n   * @default false\n   */\n  autoClose: boolean;\n  /**\n   * The date output format for the input field value\n   * or a function taking the date and outputting the\n   * formatted date string.\n   * @default 'mmm dd, yyyy'\n   */\n  format: string | ((d: Date) => string);\n  /**\n   * Used to create date object from current input string.\n   * @default null\n   */\n  parse: ((value: string, format: string) => Date) | null;\n  /**\n   * The initial date to view when first opened.\n   * @default null\n   */\n  defaultDate: Date | null;\n  /**\n   * Make the `defaultDate` the initial selected value.\n   * @default false\n   */\n  setDefaultDate: boolean;\n  /**\n   * Prevent selection of any date on the weekend.\n   * @default false\n   */\n  disableWeekends: boolean;\n  /**\n   * Custom function to disable certain days.\n   * @default null\n   */\n  disableDayFn: ((day: Date) => boolean) | null;\n  /**\n   * First day of week (0: Sunday, 1: Monday etc).\n   * @default 0\n   */\n  firstDay: number;\n  /**\n   * The earliest date that can be selected.\n   * @default null\n   */\n  minDate: Date | null;\n  /**\n   * The latest date that can be selected.\n   * @default null\n   */\n  maxDate: Date | null;\n  /**\n   * Number of years either side, or array of upper/lower range.\n   * @default 10\n   */\n  yearRange: number | number[];\n  /**\n   * Sort year range in reverse order.\n   * @default false\n   */\n  yearRangeReverse: boolean;\n  /**\n   * Changes Datepicker to RTL.\n   * @default false\n   */\n  isRTL: boolean;\n  /**\n   * Show month after year in Datepicker title.\n   * @default false\n   */\n  showMonthAfterYear: boolean;\n  /**\n   * Render days of the calendar grid that fall in the next\n   * or previous month.\n   * @default false\n   */\n  showDaysInNextAndPreviousMonths: boolean;\n  /**\n   * Specify a DOM element OR selector for a DOM element to render\n   * the calendar in, by default it will be placed before the input.\n   * @default null\n   */\n  container: HTMLElement | string | null;\n  /**\n   * Show the clear button in the datepicker.\n   * @default false\n   */\n  showClearBtn: boolean;\n  /**\n   * Internationalization options.\n   */\n  i18n: Partial<DateI18nOptions>;\n  /**\n   * An array of string returned by `Date.toDateString()`,\n   * indicating there are events in the specified days.\n   * @default []\n   */\n  events: string[];\n  /**\n   * Callback function when date is selected,\n   * first parameter is the newly selected date.\n   * @default null\n   */\n  onSelect: ((selectedDate: Date) => void) | null;\n  /**\n   * Callback function when Datepicker is opened.\n   * @default null\n   */\n  onOpen: (() => void) | null;\n  /**\n   * Callback function when Datepicker is closed.\n   * @default null\n   */\n  onClose: (() => void) | null;\n  /**\n   * Callback function when Datepicker HTML is refreshed.\n   * @default null\n   */\n  onDraw: (() => void) | null;\n\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  minYear?: any;\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  maxYear?: any;\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  minMonth?: any;\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  maxMonth?: any;\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  startRange?: any;\n  /** Field used for internal calculations DO NOT CHANGE IT */\n  endRange?: any;\n}\n\nlet _defaults: DatepickerOptions = {\n  // Close when date is selected\n  autoClose: false,\n  // the default output format for the input field value\n  format: 'mmm dd, yyyy',\n  // Used to create date object from current input string\n  parse: null,\n  // The initial date to view when first opened\n  defaultDate: null,\n  // Make the `defaultDate` the initial selected value\n  setDefaultDate: false,\n  disableWeekends: false,\n  disableDayFn: null,\n  // First day of week (0: Sunday, 1: Monday etc)\n  firstDay: 0,\n  // The earliest date that can be selected\n  minDate: null,\n  // Thelatest date that can be selected\n  maxDate: null,\n  // Number of years either side, or array of upper/lower range\n  yearRange: 10,\n  // used internally (don't config outside)\n  minYear: 0,\n  maxYear: 9999,\n  minMonth: undefined,\n  maxMonth: undefined,\n  startRange: null,\n  endRange: null,\n  isRTL: false,\n  yearRangeReverse: false,\n  // Render the month after year in the calendar title\n  showMonthAfterYear: false,\n  // Render days of the calendar grid that fall in the next or previous month\n  showDaysInNextAndPreviousMonths: false,\n  // Specify a DOM element to render the calendar in\n  container: null,\n  // Show clear button\n  showClearBtn: false,\n  // internationalization\n  i18n: {\n    cancel: 'Cancel',\n    clear: 'Clear',\n    done: 'Ok',\n    previousMonth: '‹',\n    nextMonth: '›',\n    months: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December'\n    ],\n    monthsShort: [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'Jun',\n      'Jul',\n      'Aug',\n      'Sep',\n      'Oct',\n      'Nov',\n      'Dec'\n    ],\n    weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n  },\n  // events array\n  events: [],\n  // callback function\n  onSelect: null,\n  onOpen: null,\n  onClose: null,\n  onDraw: null\n};\n\nexport class Datepicker extends Component<DatepickerOptions> {\n  declare el: HTMLInputElement\n  id: string;\n  /** If the picker is open. */\n  isOpen: boolean;\n  modal: Modal;\n  calendarEl: HTMLElement;\n  /** CLEAR button instance. */\n  clearBtn: HTMLElement;\n  /** DONE button instance */\n  doneBtn: HTMLElement;\n  cancelBtn: HTMLElement;\n  modalEl: HTMLElement;\n  yearTextEl: HTMLElement;\n  dateTextEl: HTMLElement;\n  /** The selected Date. */\n  date: Date;\n  formats: any;\n  calendars: any;\n  private _y: any;\n  private _m: any;\n  static _template: string;\n\n  constructor(el: HTMLInputElement, options: Partial<DatepickerOptions>) {\n    super(el, options, Datepicker);\n    (this.el as any).M_Datepicker = this;\n\n    this.options = {\n      ...Datepicker.defaults,\n      ...options\n    };\n\n    // make sure i18n defaults are not lost when only few i18n option properties are passed\n    if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n      this.options.i18n = {...Datepicker.defaults.i18n, ...options.i18n};\n    }\n\n    // Remove time component from minDate and maxDate options\n    if (this.options.minDate) this.options.minDate.setHours(0, 0, 0, 0);\n    if (this.options.maxDate) this.options.maxDate.setHours(0, 0, 0, 0);\n\n    this.id = Utils.guid();\n\n    this._setupVariables();\n    this._insertHTMLIntoDOM();\n    this._setupModal();\n    this._setupEventHandlers();\n\n    if (!this.options.defaultDate) {\n      this.options.defaultDate = new Date(Date.parse(this.el.value));\n    }\n\n    let defDate = this.options.defaultDate;\n    if (Datepicker._isDate(defDate)) {\n      if (this.options.setDefaultDate) {\n        this.setDate(defDate, true);\n        this.setInputValue();\n      }\n      else {\n        this.gotoDate(defDate);\n      }\n    }\n    else {\n      this.gotoDate(new Date());\n    }\n    this.isOpen = false;\n  }\n\n  static get defaults() {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Datepicker.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLInputElement, options?: Partial<DatepickerOptions>): Datepicker;\n  /**\n   * Initializes instances of Datepicker.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<HTMLInputElement | MElement>, options?: Partial<DatepickerOptions>): Datepicker[];\n  /**\n   * Initializes instances of Datepicker.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLInputElement | InitElements<HTMLInputElement | MElement>, options: Partial<DatepickerOptions> = {}): Datepicker | Datepicker[] {\n    return super.init(els, options, Datepicker);\n  }\n\n  static _isDate(obj) {\n    return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n  }\n\n  static _isWeekend(date) {\n    let day = date.getDay();\n    return day === 0 || day === 6;\n  }\n\n  static _setToStartOfDay(date) {\n    if (Datepicker._isDate(date)) date.setHours(0, 0, 0, 0);\n  }\n\n  static _getDaysInMonth(year, month) {\n    return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][\n      month\n    ];\n  }\n\n  static _isLeapYear(year) {\n    // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n  }\n\n  static _compareDates(a, b) {\n    // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n    return a.getTime() === b.getTime();\n  }\n\n  static getInstance(el: HTMLElement): Datepicker {\n    return (el as any).M_Datepicker;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this.modal.destroy();\n    this.modalEl.remove();\n    this.destroySelects();\n    (this.el as any).M_Datepicker = undefined;\n  }\n\n  destroySelects() {\n    let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n    if (oldYearSelect) {\n      FormSelect.getInstance(oldYearSelect as HTMLElement).destroy();\n    }\n    let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n    if (oldMonthSelect) {\n      FormSelect.getInstance(oldMonthSelect as HTMLElement).destroy();\n    }\n  }\n\n  _insertHTMLIntoDOM() {\n    if (this.options.showClearBtn) {\n      this.clearBtn.style.visibility = '';\n      this.clearBtn.innerText = this.options.i18n.clear;\n    }\n    this.doneBtn.innerText = this.options.i18n.done;\n    this.cancelBtn.innerText = this.options.i18n.cancel;\n\n    if (this.options.container) {\n      const optEl = this.options.container;\n      this.options.container =\n        optEl instanceof HTMLElement ? optEl : document.querySelector(optEl) as HTMLElement;\n      this.options.container.append(this.modalEl);\n    }\n    else {\n      //this.modalEl.before(this.el);\n      this.el.parentElement.appendChild(this.modalEl);\n    }\n  }\n\n  _setupModal() {\n    this.modalEl.id = 'modal-' + this.id;\n    this.modal = Modal.init(this.modalEl, {\n      onCloseEnd: () => {\n        this.isOpen = false;\n      }\n    });\n  }\n\n  /**\n   * Gets a string representation of the selected date.\n   */\n  toString(format: string | ((d: Date) => string) = null): string {\n    format = format || this.options.format;\n    if (typeof format === 'function') return format(this.date);\n    if (!Datepicker._isDate(this.date)) return '';\n    // String Format\n    const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n    const formattedDate = formatArray\n      .map(label => this.formats[label] ? this.formats[label]() : label)\n      .join('');\n    return formattedDate;\n  }\n\n  /**\n   * Set a date on the datepicker.\n   * @param date Date to set on the datepicker.\n   * @param preventOnSelect Undocumented as of 5 March 2018.\n   */\n  setDate(date: Date | string = null, preventOnSelect: boolean = false) {\n    if (!date) {\n      this.date = null;\n      this._renderDateDisplay();\n      return this.draw();\n    }\n    if (typeof date === 'string') {\n      date = new Date(Date.parse(date));\n    }\n    if (!Datepicker._isDate(date)) {\n      return;\n    }\n    let min = this.options.minDate,\n      max = this.options.maxDate;\n    if (Datepicker._isDate(min) && date < min) {\n      date = min;\n    }\n    else if (Datepicker._isDate(max) && date > max) {\n      date = max;\n    }\n    this.date = new Date(date.getTime());\n    this._renderDateDisplay();\n    Datepicker._setToStartOfDay(this.date);\n    this.gotoDate(this.date);\n    if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n      this.options.onSelect.call(this, this.date);\n    }\n  }\n\n  /**\n   * Sets current date as the input value.\n   */\n  setInputValue() {\n    this.el.value = this.toString();\n    this.el.dispatchEvent(new CustomEvent('change', {bubbles:true, cancelable:true, composed:true, detail: {firedBy: this}}));\n  }\n\n  _renderDateDisplay() {\n    let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n    let i18n = this.options.i18n;\n    let day = i18n.weekdaysShort[displayDate.getDay()];\n    let month = i18n.monthsShort[displayDate.getMonth()];\n    let date = displayDate.getDate();\n    this.yearTextEl.innerHTML = displayDate.getFullYear().toString();\n    this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n  }\n\n  /**\n   * Change date view to a specific date on the datepicker.\n   * @param date Date to show on the datepicker.\n   */\n  gotoDate(date: Date) {\n    let newCalendar = true;\n    if (!Datepicker._isDate(date)) {\n      return;\n    }\n    if (this.calendars) {\n      let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n        lastVisibleDate = new Date(\n          this.calendars[this.calendars.length - 1].year,\n          this.calendars[this.calendars.length - 1].month,\n          1\n        ),\n        visibleDate = date.getTime();\n      // get the end of the month\n      lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n      lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n      newCalendar =\n        visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n    }\n    if (newCalendar) {\n      this.calendars = [\n        {\n          month: date.getMonth(),\n          year: date.getFullYear()\n        }\n      ];\n    }\n    this.adjustCalendars();\n  }\n\n  adjustCalendars() {\n    this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n    this.draw();\n  }\n\n  adjustCalendar(calendar) {\n    if (calendar.month < 0) {\n      calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n      calendar.month += 12;\n    }\n    if (calendar.month > 11) {\n      calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n      calendar.month -= 12;\n    }\n    return calendar;\n  }\n\n  nextMonth() {\n    this.calendars[0].month++;\n    this.adjustCalendars();\n  }\n\n  prevMonth() {\n    this.calendars[0].month--;\n    this.adjustCalendars();\n  }\n\n  render(year, month, randId) {\n    let opts = this.options,\n      now = new Date(),\n      days = Datepicker._getDaysInMonth(year, month),\n      before = new Date(year, month, 1).getDay(),\n      data = [],\n      row = [];\n    Datepicker._setToStartOfDay(now);\n    if (opts.firstDay > 0) {\n      before -= opts.firstDay;\n      if (before < 0) {\n        before += 7;\n      }\n    }\n    let previousMonth = month === 0 ? 11 : month - 1,\n      nextMonth = month === 11 ? 0 : month + 1,\n      yearOfPreviousMonth = month === 0 ? year - 1 : year,\n      yearOfNextMonth = month === 11 ? year + 1 : year,\n      daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n    let cells = days + before,\n      after = cells;\n    while (after > 7) {\n      after -= 7;\n    }\n    cells += 7 - after;\n    let isWeekSelected = false;\n    for (let i = 0, r = 0; i < cells; i++) {\n      let day = new Date(year, month, 1 + (i - before)),\n        isSelected = Datepicker._isDate(this.date)\n          ? Datepicker._compareDates(day, this.date)\n          : false,\n        isToday = Datepicker._compareDates(day, now),\n        hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n        isEmpty = i < before || i >= days + before,\n        dayNumber = 1 + (i - before),\n        monthNumber = month,\n        yearNumber = year,\n        isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day),\n        isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day),\n        isInRange =\n          opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n        isDisabled =\n          (opts.minDate && day < opts.minDate) ||\n          (opts.maxDate && day > opts.maxDate) ||\n          (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n          (opts.disableDayFn && opts.disableDayFn(day));\n\n      if (isEmpty) {\n        if (i < before) {\n          dayNumber = daysInPreviousMonth + dayNumber;\n          monthNumber = previousMonth;\n          yearNumber = yearOfPreviousMonth;\n        } else {\n          dayNumber = dayNumber - days;\n          monthNumber = nextMonth;\n          yearNumber = yearOfNextMonth;\n        }\n      }\n\n      let dayConfig = {\n        day: dayNumber,\n        month: monthNumber,\n        year: yearNumber,\n        hasEvent: hasEvent,\n        isSelected: isSelected,\n        isToday: isToday,\n        isDisabled: isDisabled,\n        isEmpty: isEmpty,\n        isStartRange: isStartRange,\n        isEndRange: isEndRange,\n        isInRange: isInRange,\n        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n      };\n\n      row.push(this.renderDay(dayConfig));\n\n      if (++r === 7) {\n        data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n        row = [];\n        r = 0;\n        isWeekSelected = false;\n      }\n    }\n    return this.renderTable(opts, data, randId);\n  }\n\n  renderDay(opts) {\n    let arr = [];\n    let ariaSelected = 'false';\n    if (opts.isEmpty) {\n      if (opts.showDaysInNextAndPreviousMonths) {\n        arr.push('is-outside-current-month');\n        arr.push('is-selection-disabled');\n      } else {\n        return '<td class=\"is-empty\"></td>';\n      }\n    }\n    if (opts.isDisabled) {\n      arr.push('is-disabled');\n    }\n\n    if (opts.isToday) {\n      arr.push('is-today');\n    }\n    if (opts.isSelected) {\n      arr.push('is-selected');\n      ariaSelected = 'true';\n    }\n    if (opts.hasEvent) {\n      arr.push('has-event');\n    }\n    if (opts.isInRange) {\n      arr.push('is-inrange');\n    }\n    if (opts.isStartRange) {\n      arr.push('is-startrange');\n    }\n    if (opts.isEndRange) {\n      arr.push('is-endrange');\n    }\n    return (\n      `<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n      `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n      '</td>'\n    );\n  }\n\n  renderRow(days, isRTL, isRowSelected) {\n    return (\n      '<tr class=\"datepicker-row' +\n      (isRowSelected ? ' is-selected' : '') +\n      '\">' +\n      (isRTL ? days.reverse() : days).join('') +\n      '</tr>'\n    );\n  }\n\n  renderTable(opts, data, randId) {\n    return (\n      '<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n      randId +\n      '\">' +\n      this.renderHead(opts) +\n      this.renderBody(data) +\n      '</table></div>'\n    );\n  }\n\n  renderHead(opts) {\n    let i,\n      arr = [];\n    for (i = 0; i < 7; i++) {\n      arr.push(\n        `<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(\n          opts,\n          i,\n          true\n        )}</abbr></th>`\n      );\n    }\n    return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n  }\n\n  renderBody(rows) {\n    return '<tbody>' + rows.join('') + '</tbody>';\n  }\n\n  renderTitle(instance, c, year, month, refYear, randId) {\n    let i,\n      j,\n      arr,\n      opts = this.options,\n      isMinYear = year === opts.minYear,\n      isMaxYear = year === opts.maxYear,\n      html =\n        '<div id=\"' +\n        randId +\n        '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">',\n      monthHtml,\n      yearHtml,\n      prev = true,\n      next = true;\n\n    for (arr = [], i = 0; i < 12; i++) {\n      arr.push(\n        '<option value=\"' +\n          (year === refYear ? i - c : 12 + i - c) +\n          '\"' +\n          (i === month ? ' selected=\"selected\"' : '') +\n          ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n            ? 'disabled=\"disabled\"'\n            : '') +\n          '>' +\n          opts.i18n.months[i] +\n          '</option>'\n      );\n    }\n\n    monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">'+arr.join('')+'</select>';\n\n    if (Array.isArray(opts.yearRange)) {\n      i = opts.yearRange[0];\n      j = opts.yearRange[1] + 1;\n    }\n    else {\n      i = year - opts.yearRange;\n      j = 1 + year + opts.yearRange;\n    }\n\n    for (arr = []; i < j && i <= opts.maxYear; i++) {\n      if (i >= opts.minYear) {\n        arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n      }\n    }\n    if (opts.yearRangeReverse) arr.reverse();\n\n    yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n\n    let leftArrow =\n      '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n    html += `<button class=\"month-prev${\n      prev ? '' : ' is-disabled'\n    } btn-flat\" type=\"button\">${leftArrow}</button>`;\n\n    html += '<div class=\"selects-container\">';\n    if (opts.showMonthAfterYear) {\n      html += yearHtml + monthHtml;\n    } else {\n      html += monthHtml + yearHtml;\n    }\n    html += '</div>';\n\n    if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n      prev = false;\n    }\n\n    if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n      next = false;\n    }\n\n    let rightArrow =\n      '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n    html += `<button class=\"month-next${\n      next ? '' : ' is-disabled'\n    } btn-flat\" type=\"button\">${rightArrow}</button>`;\n\n    return (html += '</div>');\n  }\n\n  // refresh HTML\n  draw(force: boolean = false) {\n    if (!this.isOpen && !force) return;\n    let opts = this.options,\n      minYear = opts.minYear,\n      maxYear = opts.maxYear,\n      minMonth = opts.minMonth,\n      maxMonth = opts.maxMonth,\n      html = '',\n      randId;\n\n    if (this._y <= minYear) {\n      this._y = minYear;\n      if (!isNaN(minMonth) && this._m < minMonth) {\n        this._m = minMonth;\n      }\n    }\n    if (this._y >= maxYear) {\n      this._y = maxYear;\n      if (!isNaN(maxMonth) && this._m > maxMonth) {\n        this._m = maxMonth;\n      }\n    }\n\n    randId =\n      'datepicker-title-' +\n      Math.random()\n        .toString(36)\n        .replace(/[^a-z]+/g, '')\n        .substr(0, 2);\n\n    for (let c = 0; c < 1; c++) {\n      this._renderDateDisplay();\n      html +=\n        this.renderTitle(\n          this,\n          c,\n          this.calendars[c].year,\n          this.calendars[c].month,\n          this.calendars[0].year,\n          randId\n        ) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n    }\n\n    this.destroySelects();\n\n    this.calendarEl.innerHTML = html;\n\n    // Init Materialize Select\n    let yearSelect = this.calendarEl.querySelector('.orig-select-year') as HTMLSelectElement;\n    let monthSelect = this.calendarEl.querySelector('.orig-select-month') as HTMLSelectElement;\n    FormSelect.init(yearSelect, {\n      classes: 'select-year',\n      dropdownOptions: { container: document.body, constrainWidth: false }\n    });\n    FormSelect.init(monthSelect, {\n      classes: 'select-month',\n      dropdownOptions: { container: document.body, constrainWidth: false }\n    });\n\n    // Add change handlers for select\n    yearSelect.addEventListener('change', this._handleYearChange);\n    monthSelect.addEventListener('change', this._handleMonthChange);\n\n    if (typeof this.options.onDraw === 'function') {\n      this.options.onDraw.call(this);\n    }\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleInputClick);\n    this.el.addEventListener('keydown', this._handleInputKeydown);\n    this.el.addEventListener('change', this._handleInputChange);\n    this.calendarEl.addEventListener('click', this._handleCalendarClick);\n    this.doneBtn.addEventListener('click', this._finishSelection);\n    this.cancelBtn.addEventListener('click', this.close);\n\n    if (this.options.showClearBtn) {\n      this.clearBtn.addEventListener('click', this._handleClearClick);\n    }\n  }\n\n  _setupVariables() {\n    const template = document.createElement('template');\n    template.innerHTML = Datepicker._template.trim();\n    this.modalEl = <HTMLElement>template.content.firstChild;\n\n    this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n    this.yearTextEl = this.modalEl.querySelector('.year-text');\n    this.dateTextEl = this.modalEl.querySelector('.date-text');\n    if (this.options.showClearBtn) {\n      this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n    }\n    this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n    this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n\n    this.formats = {\n      d: () => {\n        return this.date.getDate();\n      },\n      dd: () => {\n        let d = this.date.getDate();\n        return (d < 10 ? '0' : '') + d;\n      },\n      ddd: () => {\n        return this.options.i18n.weekdaysShort[this.date.getDay()];\n      },\n      dddd: () => {\n        return this.options.i18n.weekdays[this.date.getDay()];\n      },\n      m: () => {\n        return this.date.getMonth() + 1;\n      },\n      mm: () => {\n        let m = this.date.getMonth() + 1;\n        return (m < 10 ? '0' : '') + m;\n      },\n      mmm: () => {\n        return this.options.i18n.monthsShort[this.date.getMonth()];\n      },\n      mmmm: () => {\n        return this.options.i18n.months[this.date.getMonth()];\n      },\n      yy: () => {\n        return ('' + this.date.getFullYear()).slice(2);\n      },\n      yyyy: () => {\n        return this.date.getFullYear();\n      }\n    };\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleInputClick);\n    this.el.removeEventListener('keydown', this._handleInputKeydown);\n    this.el.removeEventListener('change', this._handleInputChange);\n    this.calendarEl.removeEventListener('click', this._handleCalendarClick);\n  }\n\n  _handleInputClick = () => {\n    this.open();\n  }\n\n  _handleInputKeydown = (e: KeyboardEvent) => {\n    if (Utils.keys.ENTER.includes(e.key)) {\n      e.preventDefault();\n      this.open();\n    }\n  }\n\n  _handleCalendarClick = (e) => {\n    if (!this.isOpen) return;\n    const target = <HTMLElement>(e.target);\n    if (!target.classList.contains('is-disabled')) {\n      if (\n        target.classList.contains('datepicker-day-button') &&\n        !target.classList.contains('is-empty') &&\n        !target.parentElement.classList.contains('is-disabled')\n      ) {\n        this.setDate(\n          new Date(\n            e.target.getAttribute('data-year'),\n            e.target.getAttribute('data-month'),\n            e.target.getAttribute('data-day')\n          )\n        );\n        if (this.options.autoClose) {\n          this._finishSelection();\n        }\n      }\n      else if (target.closest('.month-prev')) {\n        this.prevMonth();\n      }\n      else if (target.closest('.month-next')) {\n        this.nextMonth();\n      }\n    }\n  }\n\n  _handleClearClick = () => {\n    this.date = null;\n    this.setInputValue();\n    this.close();\n  }\n\n  _handleMonthChange = (e) => {\n    this.gotoMonth(e.target.value);\n  }\n\n  _handleYearChange = (e) => {\n    this.gotoYear(e.target.value);\n  }\n\n  // change view to a specific month (zero-index, e.g. 0: January)\n  gotoMonth(month) {\n    if (!isNaN(month)) {\n      this.calendars[0].month = parseInt(month, 10);\n      this.adjustCalendars();\n    }\n  }\n\n  // change view to a specific full year (e.g. \"2012\")\n  gotoYear(year) {\n    if (!isNaN(year)) {\n      this.calendars[0].year = parseInt(year, 10);\n      this.adjustCalendars();\n    }\n  }\n\n  _handleInputChange = (e: Event) => {\n    let date;\n    // Prevent change event from being fired when triggered by the plugin\n    if (e['detail']?.firedBy === this) return;\n    if (this.options.parse) {\n      date = this.options.parse(this.el.value,\n        typeof this.options.format === \"function\"\n          ? this.options.format(new Date(this.el.value))\n          : this.options.format);\n    }\n    else {\n      date = new Date(Date.parse(this.el.value));\n    }\n    if (Datepicker._isDate(date)) this.setDate(date);\n  }\n\n  renderDayName(opts, day, abbr: boolean = false) {\n    day += opts.firstDay;\n    while (day >= 7) {\n      day -= 7;\n    }\n    return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n  }\n\n  // Set input value to the selected date and close Datepicker\n  _finishSelection = () => {\n    this.setInputValue();\n    this.close();\n  }\n\n  /**\n   * Open datepicker.\n   */\n  open = () => {\n    if (this.isOpen) return;\n    this.isOpen = true;\n    if (typeof this.options.onOpen === 'function') {\n      this.options.onOpen.call(this);\n    }\n    this.draw();\n    this.modal.open(undefined);\n    return this;\n  }\n\n  /**\n   * Close datepicker.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    if (typeof this.options.onClose === 'function') {\n      this.options.onClose.call(this);\n    }\n    this.modal.close();\n    return this;\n  }\n\n  static {\n    Datepicker._template = `\n      <div class=\"modal datepicker-modal\">\n        <div class=\"modal-content datepicker-container\">\n          <div class=\"datepicker-date-display\">\n            <span class=\"year-text\"></span>\n            <span class=\"date-text\"></span>\n          </div>\n          <div class=\"datepicker-calendar-container\">\n            <div class=\"datepicker-calendar\"></div>\n            <div class=\"datepicker-footer\">\n              <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\n              <div class=\"confirmation-btns\">\n                <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\n                <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement, Openable } from \"./component\";\n\nexport interface DropdownOptions extends BaseOptions {\n  /**\n   * Defines the edge the menu is aligned to.\n   * @default 'left'\n   */\n  alignment: 'left' | 'right';\n  /**\n   * If true, automatically focus dropdown el for keyboard.\n   * @default true\n   */\n  autoFocus: boolean;\n  /**\n   * If true, constrainWidth to the size of the dropdown activator.\n   * @default true\n   */\n  constrainWidth: boolean;\n  /**\n   * Provide an element that will be the bounding container of the dropdown.\n   * @default null\n   */\n  container: Element;\n  /**\n   * If false, the dropdown will show below the trigger.\n   * @default true\n   */\n  coverTrigger: boolean;\n  /**\n   * If true, close dropdown on item click.\n   * @default true\n   */\n  closeOnClick: boolean;\n  /**\n   * If true, the dropdown will open on hover.\n   * @default false\n   */\n  hover: boolean;\n  /**\n   * The duration of the transition enter in milliseconds.\n   * @default 150\n   */\n  inDuration: number;\n  /**\n   * The duration of the transition out in milliseconds.\n   * @default 250\n   */\n  outDuration: number;\n  /**\n   * Function called when dropdown starts entering.\n   * @default null\n   */\n  onOpenStart: (el: HTMLElement) => void;\n  /**\n   * Function called when dropdown finishes entering.\n   * @default null\n   */\n  onOpenEnd: (el: HTMLElement) => void;\n  /**\n   * Function called when dropdown starts exiting.\n   * @default null\n   */\n  onCloseStart: (el: HTMLElement) => void;\n  /**\n   * Function called when dropdown finishes exiting.\n   * @default null\n   */\n  onCloseEnd: (el: HTMLElement) => void;\n  /**\n   * Function called when item is clicked.\n   * @default null\n   */\n  onItemClick: (el: HTMLLIElement) => void;\n};\n\nconst _defaults: DropdownOptions = {\n  alignment: 'left',\n  autoFocus: true,\n  constrainWidth: true,\n  container: null,\n  coverTrigger: true,\n  closeOnClick: true,\n  hover: false,\n  inDuration: 150,\n  outDuration: 250,\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,\n  onCloseEnd: null,\n  onItemClick: null\n};\n\nexport class Dropdown extends Component<DropdownOptions> implements Openable {\n  static _dropdowns: Dropdown[] = [];\n  /** ID of the dropdown element. */\n  id: string;\n  /** The DOM element of the dropdown. */\n  dropdownEl: HTMLElement;\n  /** If the dropdown is open. */\n  isOpen: boolean;\n  /** If the dropdown content is scrollable. */\n  isScrollable: boolean;\n  isTouchMoving: boolean;\n  /** The index of the item focused. */\n  focusedIndex: number;\n  filterQuery: any[];\n  filterTimeout: NodeJS.Timeout;\n\n  constructor(el: HTMLElement, options: Partial<DropdownOptions>) {\n    super(el, options, Dropdown);\n    (this.el as any).M_Dropdown = this;\n\n    Dropdown._dropdowns.push(this);\n    this.id = Utils.getIdFromTrigger(el);\n    this.dropdownEl = document.getElementById(this.id);\n\n    this.options = {\n      ...Dropdown.defaults,\n      ...options\n    };\n\n    this.isOpen = false;\n    this.isScrollable = false;\n    this.isTouchMoving = false;\n    this.focusedIndex = -1;\n    this.filterQuery = [];\n\n    // Move dropdown-content after dropdown-trigger\n    this._moveDropdown();\n    this._makeDropdownFocusable();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): DropdownOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Dropdown.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<DropdownOptions>): Dropdown;\n  /**\n   * Initializes instances of Dropdown.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<DropdownOptions>): Dropdown[];\n  /**\n   * Initializes instances of Dropdown.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<DropdownOptions> = {}): Dropdown | Dropdown[] {\n    return super.init(els, options, Dropdown);\n  }\n\n  static getInstance(el: HTMLElement): Dropdown {\n    return (el as any).M_Dropdown;\n  }\n\n  destroy() {\n    this._resetDropdownStyles();\n    this._removeEventHandlers();\n    Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n    (this.el as any).M_Dropdown = undefined;\n  }\n\n  _setupEventHandlers() {\n    // Trigger keydown handler\n    this.el.addEventListener('keydown', this._handleTriggerKeydown);\n    // Item click handler\n    this.dropdownEl?.addEventListener('click', this._handleDropdownClick);\n    // Hover event handlers\n    if (this.options.hover) {\n      this.el.addEventListener('mouseenter', this._handleMouseEnter);\n      this.el.addEventListener('mouseleave', this._handleMouseLeave);\n      this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeave);\n      // Click event handlers\n    } else {\n      this.el.addEventListener('click', this._handleClick);\n    }\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('keydown', this._handleTriggerKeydown);\n    this.dropdownEl.removeEventListener('click', this._handleDropdownClick);\n    if (this.options.hover) {\n      this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n      this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n      this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeave);\n    } else {\n      this.el.removeEventListener('click', this._handleClick);\n    }\n  }\n\n  _setupTemporaryEventHandlers() {\n    // Use capture phase event handler to prevent click\n    document.body.addEventListener('click', this._handleDocumentClick, true);\n    document.body.addEventListener('touchmove', this._handleDocumentTouchmove);\n    this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydown);\n  }\n\n  _removeTemporaryEventHandlers() {\n    // Use capture phase event handler to prevent click\n    document.body.removeEventListener('click', this._handleDocumentClick, true);\n    document.body.removeEventListener('touchmove', this._handleDocumentTouchmove);\n    this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydown);\n  }\n\n  _handleClick = (e: MouseEvent) => {\n    e.preventDefault();\n    this.open();\n  }\n\n  _handleMouseEnter = () => {\n    this.open();\n  }\n\n  _handleMouseLeave = (e: MouseEvent) => {\n    const toEl = e.relatedTarget as HTMLElement;\n    const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\n    let leaveToActiveDropdownTrigger = false;\n    const closestTrigger = toEl.closest('.dropdown-trigger');\n    if (\n      closestTrigger &&\n      !!(<any>closestTrigger).M_Dropdown &&\n      (<any>closestTrigger).M_Dropdown.isOpen\n    ) {\n      leaveToActiveDropdownTrigger = true;\n    }\n    // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n    if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n      this.close();\n    }\n  }\n\n  _handleDocumentClick = (e: MouseEvent) => {\n    const target = <HTMLElement>e.target;\n    if (\n      this.options.closeOnClick &&\n      target.closest('.dropdown-content') &&\n      !this.isTouchMoving\n    ) {\n      // isTouchMoving to check if scrolling on mobile.\n      //setTimeout(() => {\n      this.close();\n      //}, 0);\n    }\n    else if (\n      target.closest('.dropdown-trigger') ||\n      !target.closest('.dropdown-content')\n    ) {\n      //setTimeout(() => {\n      this.close();\n      //}, 0);\n    }\n    this.isTouchMoving = false;\n  }\n\n  _handleTriggerKeydown = (e: KeyboardEvent) => {\n    // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n    const arrowDownOrEnter = Utils.keys.ARROW_DOWN.includes(e.key) || Utils.keys.ENTER.includes(e.key);\n    if (arrowDownOrEnter && !this.isOpen) {\n      e.preventDefault();\n      this.open();\n    }\n  }\n\n  _handleDocumentTouchmove = (e: TouchEvent) => {\n    const target = <HTMLElement>e.target;\n    if (target.closest('.dropdown-content')) {\n      this.isTouchMoving = true;\n    }\n  }\n\n  _handleDropdownClick = (e: MouseEvent) => {\n    // onItemClick callback\n    if (typeof this.options.onItemClick === 'function') {\n      const itemEl = (<HTMLElement>e.target).closest('li');\n      this.options.onItemClick.call(this, itemEl);\n    }\n  }\n\n  _handleDropdownKeydown = (e: KeyboardEvent) => {\n    const arrowUpOrDown = Utils.keys.ARROW_DOWN.includes(e.key) || Utils.keys.ARROW_UP.includes(e.key);\n    if (Utils.keys.TAB.includes(e.key)) {\n      e.preventDefault();\n      this.close();\n    }\n    // Navigate down dropdown list\n    else if (arrowUpOrDown && this.isOpen) {\n      e.preventDefault();\n      const direction = Utils.keys.ARROW_DOWN.includes(e.key) ? 1 : -1;\n      let newFocusedIndex = this.focusedIndex;\n      let hasFoundNewIndex = false;\n      do {\n        newFocusedIndex = newFocusedIndex + direction;\n        if (\n          !!this.dropdownEl.children[newFocusedIndex] &&\n          (<any>this.dropdownEl.children[newFocusedIndex]).tabIndex !== -1\n        ) {\n          hasFoundNewIndex = true;\n          break;\n        }\n      } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n\n      if (hasFoundNewIndex) {\n        // Remove active class from old element\n        if (this.focusedIndex >= 0)\n          this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n        this.focusedIndex = newFocusedIndex;\n        this._focusFocusedItem();\n      }\n    }\n    // ENTER selects choice on focused item\n    else if (Utils.keys.ENTER.includes(e.key) && this.isOpen) {\n      // Search for <a> and <button>\n      const focusedElement = this.dropdownEl.children[this.focusedIndex];\n      const activatableElement = <HTMLElement>focusedElement.querySelector('a, button');\n      // Click a or button tag if exists, otherwise click li tag\n      if (!!activatableElement) {\n        activatableElement.click();\n      }\n      else if (!!focusedElement) {\n        if (focusedElement instanceof HTMLElement) {\n          focusedElement.click();\n        }\n      }\n    }\n    // Close dropdown on ESC\n    else if (Utils.keys.ESC.includes(e.key) && this.isOpen) {\n      e.preventDefault();\n      this.close();\n    }\n\n    // CASE WHEN USER TYPE LTTERS\n    const keyText = e.key.toLowerCase();\n    const isLetter = /[a-zA-Z0-9-_]/.test(keyText);\n    const specialKeys = [...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP, ...Utils.keys.ENTER, ...Utils.keys.ESC, ...Utils.keys.TAB];\n    if (isLetter && !specialKeys.includes(e.key)) {\n      this.filterQuery.push(keyText);\n      const string = this.filterQuery.join('');\n      const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\n        .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\n      if (newOptionEl) {\n        this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\n        this._focusFocusedItem();\n      }\n    }\n    this.filterTimeout = setTimeout(this._resetFilterQuery, 1000);\n  }\n\n  _resetFilterQuery = () => {\n    this.filterQuery = [];\n  }\n\n  _resetDropdownStyles() {\n    this.dropdownEl.style.display = '';\n    this.dropdownEl.style.width = '';\n    this.dropdownEl.style.height = '';\n    this.dropdownEl.style.left = '';\n    this.dropdownEl.style.top = '';\n    this.dropdownEl.style.transformOrigin = '';\n    this.dropdownEl.style.transform = '';\n    this.dropdownEl.style.opacity = '';\n  }\n\n  // Move dropdown after container or trigger\n  _moveDropdown(containerEl: HTMLElement = null) {\n    if (!!this.options.container) {\n      this.options.container.append(this.dropdownEl);\n    }\n    else if (containerEl) {\n      if (!containerEl.contains(this.dropdownEl)) {\n        containerEl.append(this.dropdownEl);\n      }\n    }\n    else {\n      this.el.after(this.dropdownEl);\n    }\n  }\n\n  _makeDropdownFocusable() {\n    if (!this.dropdownEl) return;\n    // Needed for arrow key navigation\n    this.dropdownEl.tabIndex = 0;\n    // Only set tabindex if it hasn't been set by user\n    Array.from(this.dropdownEl.children).forEach((el)=> {\n      if (!el.getAttribute('tabindex'))\n        el.setAttribute('tabindex', '0');\n    });\n  }\n\n  _focusFocusedItem() {\n    if (\n      this.focusedIndex >= 0 &&\n      this.focusedIndex < this.dropdownEl.children.length &&\n      this.options.autoFocus\n    ) {\n      (this.dropdownEl.children[this.focusedIndex] as HTMLElement).focus({\n        preventScroll: true\n      });\n      this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }\n\n  _getDropdownPosition(closestOverflowParent: HTMLElement) {\n    const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n    const triggerBRect = this.el.getBoundingClientRect();\n    const dropdownBRect = this.dropdownEl.getBoundingClientRect();\n\n    let idealHeight = dropdownBRect.height;\n    let idealWidth = dropdownBRect.width;\n    let idealXPos = triggerBRect.left - dropdownBRect.left;\n    let idealYPos = triggerBRect.top - dropdownBRect.top;\n\n    const dropdownBounds = {\n      left: idealXPos,\n      top: idealYPos,\n      height: idealHeight,\n      width: idealWidth\n    };\n\n    const alignments = Utils.checkPossibleAlignments(\n      this.el,\n      closestOverflowParent,\n      dropdownBounds,\n      this.options.coverTrigger ? 0 : triggerBRect.height\n    );\n\n    let verticalAlignment = 'top';\n    let horizontalAlignment = this.options.alignment;\n    idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n\n    // Reset isScrollable\n    this.isScrollable = false;\n\n    if (!alignments.top) {\n      if (alignments.bottom) {\n        verticalAlignment = 'bottom';\n\n        if (!this.options.coverTrigger) {\n          idealYPos -= triggerBRect.height;\n        }\n      } else {\n        this.isScrollable = true;\n\n        // Determine which side has most space and cutoff at correct height\n        idealHeight -= 20; // Add padding when cutoff\n        if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n          verticalAlignment = 'bottom';\n          idealHeight += alignments.spaceOnTop;\n          idealYPos -= this.options.coverTrigger\n            ? alignments.spaceOnTop - 20\n            : alignments.spaceOnTop - 20 + triggerBRect.height;\n        } else {\n          idealHeight += alignments.spaceOnBottom;\n        }\n      }\n    }\n\n    // If preferred horizontal alignment is possible\n    if (!alignments[horizontalAlignment]) {\n      const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n      if (alignments[oppositeAlignment]) {\n        horizontalAlignment = oppositeAlignment;\n      } else {\n        // Determine which side has most space and cutoff at correct height\n        if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n          horizontalAlignment = 'right';\n          idealWidth += alignments.spaceOnLeft;\n          idealXPos -= alignments.spaceOnLeft;\n        } else {\n          horizontalAlignment = 'left';\n          idealWidth += alignments.spaceOnRight;\n        }\n      }\n    }\n\n    if (verticalAlignment === 'bottom') {\n      idealYPos =\n        idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n    }\n    if (horizontalAlignment === 'right') {\n      idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n    }\n    return {\n      x: idealXPos,\n      y: idealYPos,\n      verticalAlignment: verticalAlignment,\n      horizontalAlignment: horizontalAlignment,\n      height: idealHeight,\n      width: idealWidth\n    };\n  }\n\n  _animateIn() {\n    const duration = this.options.inDuration;\n    this.dropdownEl.style.transition = 'none';\n    // from\n    this.dropdownEl.style.opacity = '0';\n    this.dropdownEl.style.transform = 'scale(0.3, 0.3)';\n    setTimeout(() => {\n      // easeOutQuad (opacity) & easeOutQuint    \n      this.dropdownEl.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n      // to\n      this.dropdownEl.style.opacity = '1';\n      this.dropdownEl.style.transform = 'scale(1, 1)';\n    }, 1);      \n    setTimeout(() => {\n      if (this.options.autoFocus) this.dropdownEl.focus();\n      if (typeof this.options.onOpenEnd === 'function') this.options.onOpenEnd.call(this, this.el);      \n    }, duration);\n  }\n\n  _animateOut() {\n    const duration = this.options.outDuration;\n    // easeOutQuad (opacity) & easeOutQuint    \n    this.dropdownEl.style.transition = `opacity ${duration}ms ease, transform ${duration}ms ease`;\n    // to\n    this.dropdownEl.style.opacity = '0';\n    this.dropdownEl.style.transform = 'scale(0.3, 0.3)';    \n    setTimeout(() => {\n      this._resetDropdownStyles();\n      if (typeof this.options.onCloseEnd === 'function') this.options.onCloseEnd.call(this, this.el);      \n    }, duration);\n  }\n\n  private _getClosestAncestor(el: HTMLElement, condition: Function): HTMLElement {\n    let ancestor = el.parentNode;\n    while (ancestor !== null && ancestor !== document) {\n      if (condition(ancestor)) {\n        return <HTMLElement>ancestor;\n      }\n      ancestor = ancestor.parentElement;\n    }\n    return null;\n  };\n\n  _placeDropdown() {\n    // Container here will be closest ancestor with overflow: hidden\n    let closestOverflowParent: HTMLElement = this._getClosestAncestor(this.dropdownEl, (ancestor: HTMLElement) => {\n      return !['HTML','BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\n    });\n    // Fallback\n    if (!closestOverflowParent) {\n      closestOverflowParent = <HTMLElement>(!!this.dropdownEl.offsetParent\n        ? this.dropdownEl.offsetParent\n        : this.dropdownEl.parentNode);\n    }\n\n    if (getComputedStyle(closestOverflowParent).position === 'static')\n      closestOverflowParent.style.position = 'relative';\n\n    this._moveDropdown(closestOverflowParent);\n\n    // Set width before calculating positionInfo\n    const idealWidth = this.options.constrainWidth\n      ? this.el.getBoundingClientRect().width\n      : this.dropdownEl.getBoundingClientRect().width;\n    this.dropdownEl.style.width = idealWidth + 'px';\n\n    const positionInfo = this._getDropdownPosition(closestOverflowParent);\n    this.dropdownEl.style.left = positionInfo.x + 'px';\n    this.dropdownEl.style.top = positionInfo.y + 'px';\n    this.dropdownEl.style.height = positionInfo.height + 'px';\n    this.dropdownEl.style.width = positionInfo.width + 'px';\n    this.dropdownEl.style.transformOrigin = `${\n      positionInfo.horizontalAlignment === 'left' ? '0' : '100%'\n    } ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n  }\n\n  /**\n   * Open dropdown.\n   */\n  open = () => {\n    if (this.isOpen) return;\n    this.isOpen = true;\n    // onOpenStart callback\n    if (typeof this.options.onOpenStart === 'function') {\n      this.options.onOpenStart.call(this, this.el);\n    }\n    // Reset styles\n    this._resetDropdownStyles();\n    this.dropdownEl.style.display = 'block';\n    this._placeDropdown();\n    this._animateIn();\n    this._setupTemporaryEventHandlers();\n  }\n\n  /**\n   * Close dropdown.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    this.focusedIndex = -1;\n    // onCloseStart callback\n    if (typeof this.options.onCloseStart === 'function') {\n      this.options.onCloseStart.call(this, this.el);\n    }\n    this._animateOut();\n    this._removeTemporaryEventHandlers();\n    if (this.options.autoFocus) {\n      this.el.focus();\n    }\n  }\n\n  /**\n   * While dropdown is open, you can recalculate its dimensions if its contents have changed.\n   */\n  recalculateDimensions = () => {\n    if (this.isOpen) {\n      this.dropdownEl.style.width = '';\n      this.dropdownEl.style.height = '';\n      this.dropdownEl.style.left = '';\n      this.dropdownEl.style.top = '';\n      this.dropdownEl.style.transformOrigin = '';\n      this._placeDropdown();\n    }\n  }\n\n}\n","import { Utils } from \"./utils\";\n\nexport class Forms {\n\n  /**\n   * Resizes the given TextArea after updating the\n   *  value content dynamically.\n   * @param textarea TextArea to be resized\n   */\n  static textareaAutoResize(textarea: HTMLTextAreaElement){\n    if (!textarea) {\n      console.error('No textarea element found');\n      return;\n    }\n    // Textarea Auto Resize\n    let hiddenDiv: HTMLDivElement = document.querySelector('.hiddendiv');\n    if (!hiddenDiv) {\n      hiddenDiv = document.createElement('div');\n      hiddenDiv.classList.add('hiddendiv', 'common');\n      document.body.append(hiddenDiv);\n    }\n    const style = getComputedStyle(textarea);\n    // Set font properties of hiddenDiv\n    const fontFamily = style.fontFamily; //textarea.css('font-family');\n    const fontSize = style.fontSize; //textarea.css('font-size');\n    const lineHeight = style.lineHeight; //textarea.css('line-height');\n    // Firefox can't handle padding shorthand.\n    const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\n    const paddingRight = style.paddingRight; //textarea.css('padding-right');\n    const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\n    const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\n\n    if (fontSize) hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\n    if (fontFamily) hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\n    if (lineHeight) hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);\n    if (paddingTop) hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);\n    if (paddingRight) hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);\n    if (paddingBottom) hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);\n    if (paddingLeft) hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);\n\n    // Set original-height, if none\n    if (!textarea.hasAttribute('original-height'))\n      textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n\n    if (textarea.getAttribute('wrap') === 'off') {\n      hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\n      hiddenDiv.style.whiteSpace = 'pre';  //.css('white-space', 'pre');\n    }\n\n    hiddenDiv.innerText = textarea.value + '\\n';\n\n    const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\n    hiddenDiv.innerHTML = content;\n\n    // When textarea is hidden, width goes crazy.\n    // Approximate with half of window size\n    if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\n      hiddenDiv.style.width = textarea.getBoundingClientRect().width +'px'; // ('width', textarea.width() + 'px');\n    }\n    else {\n      hiddenDiv.style.width = (window.innerWidth / 2)+'px' //css('width', window.innerWidth / 2 + 'px');\n    }\n\n    // Resize if the new height is greater than the\n    // original height of the textarea\n    const originalHeight = parseInt(textarea.getAttribute('original-height'));\n    const prevLength = parseInt(textarea.getAttribute('previous-length'));\n    if (isNaN(originalHeight)) return;\n    if (originalHeight <= hiddenDiv.clientHeight) {\n      textarea.style.height = hiddenDiv.clientHeight+'px';  //css('height', hiddenDiv.innerHeight() + 'px');\n    }\n    else if (textarea.value.length < prevLength) {\n    // In case the new height is less than original height, it\n    // means the textarea has less text than before\n    // So we set the height to the original one\n      textarea.style.height = originalHeight+'px';\n    }\n    textarea.setAttribute('previous-length', textarea.value.length.toString());\n  };\n\n  static Init(){\n    document.addEventListener(\"DOMContentLoaded\", () => {\n\n      document.addEventListener('keyup', (e: KeyboardEvent) => {\n        const target = <HTMLInputElement>e.target;\n        // Radio and Checkbox focus class\n        if (target instanceof HTMLInputElement && ['radio','checkbox'].includes(target.type)) {\n          // TAB, check if tabbing to radio or checkbox.\n          if (Utils.keys.TAB.includes(e.key)) {\n            target.classList.add('tabbed');\n            target.addEventListener('blur', e => target.classList.remove('tabbed'), {once: true});\n          }\n        }\n      });\n\n      document.querySelectorAll('.materialize-textarea').forEach((textArea: HTMLTextAreaElement) => {\n          Forms.textareaAutoResize(textArea);\n      });\n\n      // File Input Path\n      document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput: HTMLInputElement) => {\n          Forms.InitFileInputPath(fileInput);\n      });\n\n    });\n  }\n\n  static InitTextarea(textarea: HTMLTextAreaElement){\n        // Save Data in Element\n        textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n        Forms.textareaAutoResize(textarea);\n\n        textarea.addEventListener('keyup', e => Forms.textareaAutoResize(textarea));\n        textarea.addEventListener('keydown', e => Forms.textareaAutoResize(textarea));\n  }\n\n  static InitFileInputPath(fileInput: HTMLInputElement){\n        fileInput.addEventListener('change', e => {\n          const fileField = fileInput.closest('.file-field');\n          const pathInput = <HTMLInputElement>fileField.querySelector('input.file-path');\n          const files = fileInput.files;\n          const filenames = [];\n          for (let i = 0; i < files.length; i++) {\n            filenames.push(files[i].name);\n          }\n          pathInput.value = filenames.join(', ');\n          pathInput.dispatchEvent(new Event('change',{bubbles:true, cancelable:true, composed:true}));\n        });\n  }\n  \n}\n","import { Utils } from \"./utils\";\nimport { BaseOptions, Component, InitElements, MElement } from \"./component\";\n\nexport interface MaterialboxOptions extends BaseOptions {\n  /**\n   * Transition in duration in milliseconds.\n   * @default 275\n   */\n  inDuration: number;\n  /**\n   * Transition out duration in milliseconds.\n   * @default 200\n   */\n  outDuration: number;\n  /**\n   * Callback function called before materialbox is opened.\n   * @default null\n   */\n  onOpenStart: (el: Element) => void;\n  /**\n   * Callback function called after materialbox is opened.\n   * @default null\n   */\n  onOpenEnd: (el: Element) => void;\n  /**\n   * Callback function called before materialbox is closed.\n   * @default null\n   */\n  onCloseStart: (el: Element) => void;\n  /**\n   * Callback function called after materialbox is closed.\n   * @default null\n   */\n  onCloseEnd: (el: Element) => void;\n}\n\nconst _defaults: MaterialboxOptions = {\n  inDuration: 275,\n  outDuration: 200,\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,\n  onCloseEnd: null\n};\n\nexport class Materialbox extends Component<MaterialboxOptions> {\n  /** If the materialbox overlay is showing. */\n  overlayActive: boolean;\n  /** If the materialbox is no longer being animated. */\n  doneAnimating: boolean;\n  /** Caption, if specified. */\n  caption: string;\n  /** Original width of image. */\n  originalWidth: number;\n  /** Original height of image. */\n  originalHeight: number;\n  private originInlineStyles: string;\n  private placeholder: HTMLElement;\n  private _changedAncestorList: HTMLElement[];\n  private newHeight: number;\n  private newWidth: number;\n  private windowWidth: number;\n  private windowHeight: number;\n  private attrWidth: string;\n  private attrHeight: string;\n  private _overlay: HTMLElement;\n  private _photoCaption: HTMLElement;\n\n  constructor(el: HTMLElement, options: Partial<MaterialboxOptions>) {\n    super(el, options, Materialbox);\n    (this.el as any).M_Materialbox = this;\n\n    this.options = {\n      ...Materialbox.defaults,\n      ...options\n    };\n    \n    this.overlayActive = false;\n    this.doneAnimating = true;\n    this.placeholder = document.createElement('div');\n    this.placeholder.classList.add('material-placeholder');\n    this.originalWidth = 0;\n    this.originalHeight = 0;\n    this.originInlineStyles = this.el.getAttribute('style');\n    this.caption = this.el.getAttribute('data-caption') || '';\n    // Wrap\n    this.el.before(this.placeholder);\n    this.placeholder.append(this.el);\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): MaterialboxOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of MaterialBox.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<MaterialboxOptions>): Materialbox;\n  /**\n   * Initializes instances of MaterialBox.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<MaterialboxOptions>): Materialbox[];\n  /**\n   * Initializes instances of MaterialBox.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<MaterialboxOptions> = {}): Materialbox | Materialbox[]{\n    return super.init(els, options, Materialbox);\n  }\n\n  static getInstance(el: HTMLElement): Materialbox {\n    return (el as any).M_Materialbox;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).M_Materialbox = undefined;\n    // Unwrap image\n    //this.placeholder.after(this.el).remove();\n    this.placeholder.remove();\n    this.el.removeAttribute('style');\n  }\n\n  private _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleMaterialboxClick);\n  }\n\n  private _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleMaterialboxClick);\n  }\n\n  private _handleMaterialboxClick = () => {\n    // If already modal, return to original\n    if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\n      this.close();\n    else\n      this.open();\n  }\n\n  private _handleWindowScroll = () => {\n    if (this.overlayActive) this.close();\n  }\n\n  private _handleWindowResize = () => {\n    if (this.overlayActive) this.close();\n  }\n\n  private _handleWindowEscape = (e: KeyboardEvent) => {\n    if (Utils.keys.ESC.includes(e.key) && this.doneAnimating && this.overlayActive) this.close();\n  }\n\n  private _makeAncestorsOverflowVisible() {\n    this._changedAncestorList = [];\n    let ancestor = this.placeholder.parentNode;\n    while (ancestor !== null && ancestor !== document) {\n      const curr = <HTMLElement>ancestor;\n      if (curr.style.overflow !== 'visible') {\n        curr.style.overflow = 'visible';\n        this._changedAncestorList.push(curr);\n      }\n      ancestor = ancestor.parentNode;\n    }\n  }\n\n  private _offset(el: HTMLElement) {\n    const box = el.getBoundingClientRect();\n    const docElem = document.documentElement;\n    return {\n      top: box.top + window.pageYOffset - docElem.clientTop,\n      left: box.left + window.pageXOffset - docElem.clientLeft\n    };\n  }\n  private _updateVars(): void {\n    this.windowWidth = window.innerWidth;\n    this.windowHeight = window.innerHeight;\n    this.caption = this.el.getAttribute('data-caption') || '';\n  }\n\n  // Image\n  private _animateImageIn(): void {\n    this.el.style.maxHeight = this.newHeight.toString() + 'px';\n    this.el.style.maxWidth = this.newWidth.toString() + 'px';\n    const duration = this.options.inDuration;\n    // from\n    this.el.style.transition = 'none';\n    this.el.style.height = this.originalHeight + 'px';\n    this.el.style.width = this.originalWidth + 'px';\n    setTimeout(() => {\n      // easeOutQuad\n      this.el.style.transition = `height ${duration}ms ease,\n        width ${duration}ms ease,\n        left ${duration}ms ease,\n        top ${duration}ms ease\n      `;\n      // to\n      this.el.style.height = this.newHeight + 'px';\n      this.el.style.width = this.newWidth + 'px';\n      this.el.style.left = (Utils.getDocumentScrollLeft() +\n        this.windowWidth / 2 -\n        this._offset(this.placeholder).left -\n        this.newWidth / 2) + 'px';\n\n      this.el.style.top = (Utils.getDocumentScrollTop() +\n        this.windowHeight / 2 -\n        this._offset(this.placeholder).top -\n        this.newHeight / 2) + 'px';\n    }, 1);\n\n    setTimeout(() => {\n      this.doneAnimating = true;\n      if (typeof this.options.onOpenEnd === 'function') this.options.onOpenEnd.call(this, this.el);\n    }, duration);\n\n    /*\n    anim({\n      targets: this.el, // image\n      height: [this.originalHeight, this.newHeight],\n      width: [this.originalWidth, this.newWidth],\n      left:\n        Utils.getDocumentScrollLeft() +\n        this.windowWidth / 2 -\n        this._offset(this.placeholder).left -\n        this.newWidth / 2,\n      top:\n        Utils.getDocumentScrollTop() +\n        this.windowHeight / 2 -\n        this._offset(this.placeholder).top -\n        this.newHeight / 2,\n\n      duration: this.options.inDuration,\n      easing: 'easeOutQuad',\n      complete: () => {\n        this.doneAnimating = true;\n        if (typeof this.options.onOpenEnd === 'function') this.options.onOpenEnd.call(this, this.el);        \n      }\n    });\n    */\n  }\n  private _animateImageOut(): void {\n    const duration = this.options.outDuration;\n    // easeOutQuad\n    this.el.style.transition = `height ${duration}ms ease,\n      width ${duration}ms ease,\n      left ${duration}ms ease,\n      top ${duration}ms ease\n    `;\n    // to\n    this.el.style.height = this.originalWidth + 'px';\n    this.el.style.width = this.originalWidth + 'px';\n    this.el.style.left = '0';\n    this.el.style.top = '0';\n    setTimeout(() => {\n      this.placeholder.style.height = '';\n      this.placeholder.style.width = '';\n      this.placeholder.style.position = '';\n      this.placeholder.style.top = '';\n      this.placeholder.style.left = '';\n      // Revert to width or height attribute\n      if (this.attrWidth) this.el.setAttribute('width', this.attrWidth.toString());\n      if (this.attrHeight) this.el.setAttribute('height', this.attrHeight.toString());\n      this.el.removeAttribute('style');\n      this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\n      // Remove class\n      this.el.classList.remove('active');\n      this.doneAnimating = true;\n      // Remove overflow overrides on ancestors\n      this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\n      // onCloseEnd callback\n      if (typeof this.options.onCloseEnd === 'function') this.options.onCloseEnd.call(this, this.el);  \n    }, duration);\n  }\n\n  // Caption\n  private _addCaption(): void {\n    this._photoCaption = document.createElement('div');\n    this._photoCaption.classList.add('materialbox-caption');\n    this._photoCaption.innerText = this.caption;\n    document.body.append(this._photoCaption);\n    this._photoCaption.style.display = 'inline';\n    // Animate\n    this._photoCaption.style.transition = 'none';\n    this._photoCaption.style.opacity = '0'\n    const duration = this.options.inDuration;\n    setTimeout(() => {\n      this._photoCaption.style.transition = `opacity ${duration}ms ease`;\n      this._photoCaption.style.opacity = '1';\n    }, 1);\n  }\n  private _removeCaption(): void {\n    const duration = this.options.outDuration;\n    this._photoCaption.style.transition = `opacity ${duration}ms ease`;\n    this._photoCaption.style.opacity = '0';\n    setTimeout(() => {\n      this._photoCaption.remove();\n    }, duration);\n  }\n\n  // Overlay\n  private _addOverlay(): void {\n    this._overlay = document.createElement('div');\n    this._overlay.id = 'materialbox-overlay';\n    this._overlay.addEventListener('click', e => {\n      if (this.doneAnimating) this.close();\n    }, {once: true});\n\n    // Put before in origin image to preserve z-index layering.\n    this.el.before(this._overlay);\n\n    // Set dimensions if needed\n    const overlayOffset = this._overlay.getBoundingClientRect();\n    this._overlay.style.width = this.windowWidth + 'px';\n    this._overlay.style.height = this.windowHeight + 'px';\n    this._overlay.style.left = -1 * overlayOffset.left + 'px';\n    this._overlay.style.top = -1 * overlayOffset.top + 'px';\n\n    // Animate\n    this._overlay.style.transition = 'none';\n    this._overlay.style.opacity = '0'\n    const duration = this.options.inDuration;\n    setTimeout(() => {\n      this._overlay.style.transition = `opacity ${duration}ms ease`;\n      this._overlay.style.opacity = '1';\n    }, 1);\n  }\n  private _removeOverlay(): void {\n    const duration = this.options.outDuration;\n    this._overlay.style.transition = `opacity ${duration}ms ease`;\n    this._overlay.style.opacity = '0';\n    setTimeout(() => {\n      this.overlayActive = false;\n      this._overlay.remove();\n    }, duration);\n  }\n\n  /**\n   * Open materialbox.\n   */\n  open = () => {\n    this._updateVars();\n    this.originalWidth = this.el.getBoundingClientRect().width;\n    this.originalHeight = this.el.getBoundingClientRect().height;\n    // Set states\n    this.doneAnimating = false;\n    this.el.classList.add('active');\n    this.overlayActive = true;\n    // onOpenStart callback\n    if (typeof this.options.onOpenStart === 'function') this.options.onOpenStart.call(this, this.el);\n    // Set positioning for placeholder\n    this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\n    this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\n    this.placeholder.style.position = 'relative';\n    this.placeholder.style.top = '0';\n    this.placeholder.style.left = '0';\n    this._makeAncestorsOverflowVisible();\n    // Set css on origin\n    this.el.style.position = 'absolute';\n    this.el.style.zIndex = '1000';\n    this.el.style.willChange = 'left, top, width, height';\n    // Change from width or height attribute to css\n    this.attrWidth = this.el.getAttribute('width');\n    this.attrHeight = this.el.getAttribute('height');\n    if (this.attrWidth) {\n      this.el.style.width = this.attrWidth+'px';\n      this.el.removeAttribute('width');\n    }\n    if (this.attrHeight) {\n      this.el.style.width = this.attrHeight+'px';\n      this.el.removeAttribute('height');\n    }\n    this._addOverlay();\n    // Add and animate caption if it exists\n    if (this.caption !== '') this._addCaption();\n    // Resize Image\n    const widthPercent = this.originalWidth / this.windowWidth;\n    const heightPercent = this.originalHeight / this.windowHeight;\n    this.newWidth = 0;\n    this.newHeight = 0;\n    if (widthPercent > heightPercent) {\n      // Width first\n      const ratio = this.originalHeight / this.originalWidth;\n      this.newWidth = this.windowWidth * 0.9;\n      this.newHeight = this.windowWidth * 0.9 * ratio;\n    }\n    else {\n      // Height first\n      const ratio = this.originalWidth / this.originalHeight;\n      this.newWidth = this.windowHeight * 0.9 * ratio;\n      this.newHeight = this.windowHeight * 0.9;\n    }\n    this._animateImageIn();\n    // Handle Exit triggers\n    window.addEventListener('scroll', this._handleWindowScroll);\n    window.addEventListener('resize', this._handleWindowResize);\n    window.addEventListener('keyup', this._handleWindowEscape);\n  }\n\n  /**\n   * Close materialbox.\n   */\n  close = () => {\n    this._updateVars();\n    this.doneAnimating = false;\n    // onCloseStart callback\n    if (typeof this.options.onCloseStart === 'function') this.options.onCloseStart.call(this, this.el);\n    //anim.remove(this.el);\n    //anim.remove(this._overlay);\n    //if (this.caption !== '') anim.remove(this._photoCaption);\n    // disable exit handlers\n    window.removeEventListener('scroll', this._handleWindowScroll);\n    window.removeEventListener('resize', this._handleWindowResize);\n    window.removeEventListener('keyup', this._handleWindowEscape);\n    this._removeOverlay();\n    this._animateImageOut();\n    if (this.caption !== '') this._removeCaption();\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface ModalOptions extends BaseOptions {\n  /**\n   * Opacity of the modal overlay.\n   * @default 0.5\n   */\n  opacity: number;\n  /**\n   * Transition in duration in milliseconds.\n   * @default 250\n   */\n  inDuration: number;\n  /**\n   * Transition out duration in milliseconds.\n   * @default 250\n   */\n  outDuration: number;\n  /**\n   * Prevent page from scrolling while modal is open.\n   * @default true\n   */\n  preventScrolling: boolean;\n  /**\n   * Callback function called before modal is opened.\n   * @default null\n   */\n  onOpenStart: (this: Modal, el: HTMLElement) => void;\n  /**\n   * Callback function called after modal is opened.\n   * @default null\n   */\n  onOpenEnd: (this: Modal, el: HTMLElement) => void;\n  /**\n   * Callback function called before modal is closed.\n   * @default null\n   */\n  onCloseStart: (el: HTMLElement) => void;\n  /**\n   * Callback function called after modal is closed.\n   * @default null\n   */\n  onCloseEnd: (el: HTMLElement) => void;\n  /**\n   * Allow modal to be dismissed by keyboard or overlay click.\n   * @default true\n   */\n  dismissible: boolean;\n  /**\n   * Starting top offset.\n   * @default '4%'\n   */\n  startingTop: string;\n  /**\n   * Ending top offset.\n   * @default '10%'\n   */\n  endingTop: string;\n}\n\nconst _defaults = {\n  opacity: 0.5,\n  inDuration: 250,\n  outDuration: 250,\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,\n  onCloseEnd: null,\n  preventScrolling: true,\n  dismissible: true,\n  startingTop: '4%',\n  endingTop: '10%'\n};\n\nexport class Modal extends Component<ModalOptions> {\n\n  static _modalsOpen: number;\n  static _count: number;\n  \n  /**\n   * ID of the modal element.\n   */\n  id: string;\n  /**\n   * If the modal is open.\n   */\n  isOpen: boolean;\n  \n  private _openingTrigger: any;\n  private _overlay: HTMLDivElement;\n  private _nthModalOpened: number;\n\n  constructor(el: HTMLElement, options: Partial<ModalOptions>) {\n    super(el, options, Modal);\n    (this.el as any).M_Modal = this;\n\n    this.options = {\n      ...Modal.defaults,\n      ...options\n    };\n    \n    this.isOpen = false;\n    this.id = this.el.id;\n    this._openingTrigger = undefined;\n    this._overlay = document.createElement('div');\n    this._overlay.classList.add('modal-overlay');\n    this.el.tabIndex = 0;\n    this._nthModalOpened = 0;\n    Modal._count++;\n    this._setupEventHandlers();\n  }\n\n  static get defaults() {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Modal.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<ModalOptions>): Modal;\n  /**\n   * Initializes instances of Modal.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<ModalOptions>): Modal[];\n  /**\n   * Initializes instances of Modal.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<ModalOptions> = {}): Modal | Modal[] {\n    return super.init(els, options, Modal);\n  }\n\n  static getInstance(el: HTMLElement): Modal {\n    return (el as any).M_Modal;\n  }\n\n  destroy() {\n    Modal._count--;\n    this._removeEventHandlers();\n    this.el.removeAttribute('style');\n    this._overlay.remove();\n    (this.el as any).M_Modal = undefined;\n  }\n\n  _setupEventHandlers() {\n    if (Modal._count === 1) {\n      document.body.addEventListener('click', this._handleTriggerClick);\n    }\n    this._overlay.addEventListener('click', this._handleOverlayClick);\n    this.el.addEventListener('click', this._handleModalCloseClick);\n  }\n\n  _removeEventHandlers() {\n    if (Modal._count === 0) {\n      document.body.removeEventListener('click', this._handleTriggerClick);\n    }\n    this._overlay.removeEventListener('click', this._handleOverlayClick);\n    this.el.removeEventListener('click', this._handleModalCloseClick);\n  }\n\n  _handleTriggerClick = (e: MouseEvent) => {\n    const trigger = (e.target as HTMLElement).closest('.modal-trigger');\n    if (!trigger) return;\n    const modalId = Utils.getIdFromTrigger(trigger as HTMLElement);\n    const modalInstance = (document.getElementById(modalId) as any).M_Modal;\n    if (modalInstance) modalInstance.open(trigger);\n    e.preventDefault();\n  }\n\n  _handleOverlayClick = () => {\n    if (this.options.dismissible) this.close();\n  }\n\n  _handleModalCloseClick = (e: MouseEvent) => {\n    const closeTrigger = (e.target as HTMLElement).closest('.modal-close');\n    if (closeTrigger) this.close();\n  }\n\n  _handleKeydown = (e: KeyboardEvent) => {\n    if (Utils.keys.ESC.includes(e.key) && this.options.dismissible) this.close();\n  }\n\n  _handleFocus = (e: FocusEvent) => {\n    // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n    if (!this.el.contains(e.target as HTMLElement) && this._nthModalOpened === Modal._modalsOpen) {\n      this.el.focus();\n    }\n  }\n\n  _animateIn() {\n    // Set initial styles\n    this._overlay.style.display = 'block';\n    this._overlay.style.opacity = '0';\n    this.el.style.display = 'block';    \n    this.el.style.opacity = '0';\n\n    const duration = this.options.inDuration;\n    const isBottomSheet = this.el.classList.contains('bottom-sheet');\n\n    if (!isBottomSheet) {\n      this.el.style.top = this.options.startingTop;\n      this.el.style.transform = 'scaleX(0.9) scaleY(0.9)';\n    }\n    // Overlay\n    this._overlay.style.transition = `opacity ${duration}ms ease-out`; // v1: easeOutQuad\n    // Modal\n    this.el.style.transition = `\n      top ${duration}ms ease-out,\n      bottom ${duration}ms ease-out,\n      opacity ${duration}ms ease-out,\n      transform ${duration}ms ease-out\n    `;\n\n    setTimeout(() => {\n      this._overlay.style.opacity = this.options.opacity.toString();\n      this.el.style.opacity = '1';\n      if (isBottomSheet) {\n        this.el.style.bottom = '0';\n      }\n      else {\n        this.el.style.top = this.options.endingTop;    \n        this.el.style.transform = 'scaleX(1) scaleY(1)';\n      }\n      setTimeout(() => {\n        if (typeof this.options.onOpenEnd === 'function') {\n          this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n        }\n      }, duration);\n    }, 1);\n  }\n\n  _animateOut() {\n    const duration = this.options.outDuration;\n    const isBottomSheet = this.el.classList.contains('bottom-sheet');\n    if (!isBottomSheet) {\n      this.el.style.top = this.options.endingTop;\n    }\n\n    // Overlay\n    this._overlay.style.transition = `opacity ${duration}ms ease-out`; // v1: easeOutQuart\n\n    // Modal // easeOutCubic\n    this.el.style.transition = `\n      top ${duration}ms ease-out,\n      bottom ${duration}ms ease-out,\n      opacity ${duration}ms ease-out,\n      transform ${duration}ms ease-out\n    `;\n\n    setTimeout(() => {\n      this._overlay.style.opacity = '0';\n      this.el.style.opacity = '0';\n      if (isBottomSheet) {\n        this.el.style.bottom = '-100%';\n      }\n      else {\n        this.el.style.top = this.options.startingTop;    \n        this.el.style.transform = 'scaleX(0.9) scaleY(0.9)';\n      }\n      setTimeout(() => {\n        this.el.style.display = 'none';\n        this._overlay.remove();\n        if (typeof this.options.onCloseEnd === 'function') {\n          this.options.onCloseEnd.call(this, this.el);\n        }\n      }, duration);\n    }, 1);\n  }\n\n  /**\n   * Open modal.\n   */\n  open = (trigger?: HTMLElement): Modal => {\n    if (this.isOpen) return;\n    this.isOpen = true;\n    Modal._modalsOpen++;\n    this._nthModalOpened = Modal._modalsOpen;\n    // Set Z-Index based on number of currently open modals\n    this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\n    this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n    // Set opening trigger, undefined indicates modal was opened by javascript\n    this._openingTrigger = !!trigger ? trigger : undefined;\n    // onOpenStart callback\n    if (typeof this.options.onOpenStart === 'function') {\n      this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n    }\n    if (this.options.preventScrolling) {\n      document.body.style.overflow = 'hidden';\n    }\n    this.el.classList.add('open');\n    this.el.insertAdjacentElement('afterend', this._overlay);\n    if (this.options.dismissible) {\n      document.addEventListener('keydown', this._handleKeydown);\n      document.addEventListener('focus', this._handleFocus, true);\n    }\n    this._animateIn();\n    // Focus modal\n    this.el.focus();\n    return this;\n  }\n\n  /**\n   * Close modal.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    Modal._modalsOpen--;\n    this._nthModalOpened = 0;\n    // Call onCloseStart callback\n    if (typeof this.options.onCloseStart === 'function') {\n      this.options.onCloseStart.call(this, this.el);\n    }\n    this.el.classList.remove('open');\n    // Enable body scrolling only if there are no more modals open.\n    if (Modal._modalsOpen === 0) {\n      document.body.style.overflow = '';\n    }\n    if (this.options.dismissible) {\n      document.removeEventListener('keydown', this._handleKeydown);\n      document.removeEventListener('focus', this._handleFocus, true);\n    }\n    this._animateOut();\n    return this;\n  }\n\n  static{\n    Modal._modalsOpen = 0;\n    Modal._count = 0;\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface ParallaxOptions extends BaseOptions {\n  /**\n   * The minimum width of the screen, in pixels, where the parallax functionality starts working.\n   * @default 0\n   */\n  responsiveThreshold: number;\n}\n\nlet _defaults: ParallaxOptions = {\n  responsiveThreshold: 0 // breakpoint for swipeable\n};\n\nexport class Parallax extends Component<ParallaxOptions> {\n  private _enabled: boolean;\n  private _img: HTMLImageElement;\n  static _parallaxes: Parallax[] = [];\n  static _handleScrollThrottled: () => any;\n  static _handleWindowResizeThrottled: () => any;\n\n  constructor(el: HTMLElement, options: Partial<ParallaxOptions>) {\n    super(el, options, Parallax);\n    (this.el as any).M_Parallax = this;\n\n    this.options = {\n      ...Parallax.defaults,\n      ...options\n    };\n    \n    this._enabled = window.innerWidth > this.options.responsiveThreshold;\n    this._img = this.el.querySelector('img');\n    this._updateParallax();\n    this._setupEventHandlers();\n    this._setupStyles();\n    Parallax._parallaxes.push(this);\n  }\n\n  static get defaults(): ParallaxOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Parallax.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<ParallaxOptions>): Parallax;\n  /**\n   * Initializes instances of Parallax.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<ParallaxOptions>): Parallax[];\n  /**\n   * Initializes instances of Parallax.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<ParallaxOptions> = {}): Parallax | Parallax[] {\n    return super.init(els, options, Parallax);\n  }\n\n  static getInstance(el: HTMLElement): Parallax {\n    return (el as any).M_Parallax;\n  }\n\n  destroy() {\n    Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n    this._img.style.transform = '';\n    this._removeEventHandlers();\n    (this.el as any).M_Parallax = undefined;\n  }\n\n  static _handleScroll() {\n    for (let i = 0; i < Parallax._parallaxes.length; i++) {\n      let parallaxInstance = Parallax._parallaxes[i];\n      parallaxInstance._updateParallax.call(parallaxInstance);\n    }\n  }\n\n  static _handleWindowResize() {\n    for (let i = 0; i < Parallax._parallaxes.length; i++) {\n      let parallaxInstance = Parallax._parallaxes[i];\n      parallaxInstance._enabled =\n        window.innerWidth > parallaxInstance.options.responsiveThreshold;\n    }\n  }\n\n  _setupEventHandlers() {\n    this._img.addEventListener('load', this._handleImageLoad);\n    if (Parallax._parallaxes.length === 0) {\n      if (!Parallax._handleScrollThrottled){\n        Parallax._handleScrollThrottled = Utils.throttle(Parallax._handleScroll, 5);\n      }\n      if (!Parallax._handleWindowResizeThrottled){\n        Parallax._handleWindowResizeThrottled = Utils.throttle(Parallax._handleWindowResize, 5);\n      }\n      window.addEventListener('scroll', Parallax._handleScrollThrottled);\n      window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n    }\n  }\n\n  _removeEventHandlers() {\n    this._img.removeEventListener('load', this._handleImageLoad);\n    if (Parallax._parallaxes.length === 0) {\n      window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n      window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n    }\n  }\n\n  _setupStyles() {\n    this._img.style.opacity = '1';\n  }\n\n  _handleImageLoad = () => {\n    this._updateParallax();\n  }\n\n  private _offset(el: Element) {\n    const box = el.getBoundingClientRect();\n    const docElem = document.documentElement;\n    return {\n      top: box.top + window.pageYOffset - docElem.clientTop,\n      left: box.left + window.pageXOffset - docElem.clientLeft\n    };\n  }\n\n  _updateParallax() {\n    const containerHeight = this.el.getBoundingClientRect().height > 0 ? (this.el.parentNode as any).offsetHeight : 500;\n    const imgHeight = this._img.offsetHeight;\n    const parallaxDist = imgHeight - containerHeight;\n    const bottom = this._offset(this.el).top + containerHeight;\n    const top = this._offset(this.el).top;\n    const scrollTop = Utils.getDocumentScrollTop();\n    const windowHeight = window.innerHeight;\n    const windowBottom = scrollTop + windowHeight;\n    const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n    const parallax = parallaxDist * percentScrolled;\n\n    if (!this._enabled) {\n      this._img.style.transform = '';\n    }\n    else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n      this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n    }\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface PushpinOptions extends BaseOptions {\n  /**\n   * The distance in pixels from the top of the page where\n   * the element becomes fixed.\n   * @default 0\n   */\n  top: number;\n  /**\n   * The distance in pixels from the top of the page where\n   * the elements stops being fixed.\n   * @default Infinity\n   */\n  bottom: number;\n  /**\n   * The offset from the top the element will be fixed at.\n   * @default 0\n   */\n  offset: number;\n  /**\n   * Callback function called when pushpin position changes.\n   * You are provided with a position string.\n   * @default null\n   */\n  onPositionChange: (position: \"pinned\" | \"pin-top\" | \"pin-bottom\") => void;\n}\n\nlet _defaults = {\n  top: 0,\n  bottom: Infinity,\n  offset: 0,\n  onPositionChange: null\n};\n\nexport class Pushpin extends Component<PushpinOptions> {\n  static _pushpins: any[];\n  originalOffset: any;\n\n  constructor(el: HTMLElement, options: Partial<PushpinOptions>) {\n    super(el, options, Pushpin);\n    (this.el as any).M_Pushpin = this;\n\n    this.options = {\n      ...Pushpin.defaults,\n      ...options\n    };\n\n    this.originalOffset = (this.el as HTMLElement).offsetTop;\n    Pushpin._pushpins.push(this);\n    this._setupEventHandlers();\n    this._updatePosition();\n  }\n\n  static get defaults(): PushpinOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Pushpin.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<PushpinOptions>): Pushpin;\n  /**\n   * Initializes instances of Pushpin.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<PushpinOptions>): Pushpin[];\n  /**\n   * Initializes instances of Pushpin.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<PushpinOptions> = {}): Pushpin | Pushpin[] {\n    return super.init(els, options, Pushpin);\n  }\n\n  static getInstance(el: HTMLElement): Pushpin {\n    return (el as any).M_Pushpin;\n  }\n\n  destroy() {\n    (this.el as HTMLElement).style.top = null;\n    this._removePinClasses();\n    // Remove pushpin Inst\n    let index = Pushpin._pushpins.indexOf(this);\n    Pushpin._pushpins.splice(index, 1);\n    if (Pushpin._pushpins.length === 0) {\n      this._removeEventHandlers();\n    }\n    (this.el as any).M_Pushpin = undefined;\n  }\n\n  static _updateElements() {\n    for (let elIndex in Pushpin._pushpins) {\n      let pInstance = Pushpin._pushpins[elIndex];\n      pInstance._updatePosition();\n    }\n  }\n\n  _setupEventHandlers() {\n    document.addEventListener('scroll', Pushpin._updateElements);\n  }\n\n  _removeEventHandlers() {\n    document.removeEventListener('scroll', Pushpin._updateElements);\n  }\n\n  _updatePosition() {\n    let scrolled = Utils.getDocumentScrollTop() + this.options.offset;\n\n    if (\n      this.options.top <= scrolled &&\n      this.options.bottom >= scrolled &&\n      !this.el.classList.contains('pinned')\n    ) {\n      this._removePinClasses();\n      (this.el as HTMLElement).style.top = `${this.options.offset}px`;\n      this.el.classList.add('pinned');\n\n      // onPositionChange callback\n      if (typeof this.options.onPositionChange === 'function') {\n        this.options.onPositionChange.call(this, 'pinned');\n      }\n    }\n\n    // Add pin-top (when scrolled position is above top)\n    if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n      this._removePinClasses();\n      (this.el as HTMLElement).style.top = '0';\n      this.el.classList.add('pin-top');\n\n      // onPositionChange callback\n      if (typeof this.options.onPositionChange === 'function') {\n        this.options.onPositionChange.call(this, 'pin-top');\n      }\n    }\n\n    // Add pin-bottom (when scrolled position is below bottom)\n    if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n      this._removePinClasses();\n      this.el.classList.add('pin-bottom');\n      (this.el as HTMLElement).style.top = `${this.options.bottom - this.originalOffset}px`;\n\n      // onPositionChange callback\n      if (typeof this.options.onPositionChange === 'function') {\n        this.options.onPositionChange.call(this, 'pin-bottom');\n      }\n    }\n  }\n\n  _removePinClasses() {\n    // IE 11 bug (can't remove multiple classes in one line)\n    this.el.classList.remove('pin-top');\n    this.el.classList.remove('pinned');\n    this.el.classList.remove('pin-bottom');\n  }\n\n  static {\n    Pushpin._pushpins = [];\n  }\n}\n","import { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface RangeOptions extends BaseOptions {};\n\nconst _defaults: RangeOptions = {};\n\n// TODO: !!!!!\n\nexport class Range extends Component<RangeOptions> {\n  declare el: HTMLInputElement;\n  private _mousedown: boolean;\n  value: HTMLElement;\n  thumb: HTMLElement;\n\n  constructor(el: HTMLInputElement, options: Partial<RangeOptions>) {\n    super(el, options, Range);\n    (this.el as any).M_Range = this;\n\n    this.options = {\n      ...Range.defaults,\n      ...options\n    };\n\n    this._mousedown = false;\n    this._setupThumb();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): RangeOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Range.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLInputElement, options?: Partial<RangeOptions>): Range;\n  /**\n   * Initializes instances of Range.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<HTMLInputElement | MElement>, options?: Partial<RangeOptions>): Range[];\n  /**\n   * Initializes instances of Range.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLInputElement | InitElements<HTMLInputElement | MElement>, options: Partial<RangeOptions> = {}): Range | Range[] {\n    return super.init(els, options, Range);\n  }\n\n  static getInstance(el: HTMLInputElement): Range {\n    return (el as any).M_Range;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this._removeThumb();\n    (this.el as any).M_Range = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('change', this._handleRangeChange);\n    this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstart);\n    this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstart);\n    this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmove);\n    this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n    this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n    this.el.addEventListener('mouseup', this._handleRangeMouseupTouchend);\n    this.el.addEventListener('touchend', this._handleRangeMouseupTouchend);\n    this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n    this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n    this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('change', this._handleRangeChange);\n    this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstart);\n    this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstart);\n    this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmove);\n    this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n    this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n    this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchend);\n    this.el.removeEventListener('touchend', this._handleRangeMouseupTouchend);\n    this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n    this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n    this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n  }\n\n  _handleRangeChange = () => {\n    this.value.innerHTML = this.el.value;\n    if (!this.thumb.classList.contains('active')) {\n      this._showRangeBubble();\n    }\n    const offsetLeft = this._calcRangeOffset();\n    this.thumb.classList.add('active');\n    this.thumb.style.left = offsetLeft+'px';\n  }\n\n  _handleRangeMousedownTouchstart = (e: MouseEvent | TouchEvent) => {\n    // Set indicator value\n    this.value.innerHTML = this.el.value;\n    this._mousedown = true;\n    this.el.classList.add('active');\n    if (!this.thumb.classList.contains('active')) {\n      this._showRangeBubble();\n    }\n    if (e.type !== 'input') {\n      const offsetLeft = this._calcRangeOffset();\n      this.thumb.classList.add('active');\n      this.thumb.style.left = offsetLeft+'px';\n    }\n  }\n\n  _handleRangeInputMousemoveTouchmove = () => {\n    if (this._mousedown) {\n      if (!this.thumb.classList.contains('active')) {\n        this._showRangeBubble();\n      }\n      const offsetLeft = this._calcRangeOffset();\n      this.thumb.classList.add('active');\n      this.thumb.style.left = offsetLeft+'px';\n      this.value.innerHTML = this.el.value;\n    }\n  }\n\n  _handleRangeMouseupTouchend = () => {\n    this._mousedown = false;\n    this.el.classList.remove('active');\n  }\n\n  _handleRangeBlurMouseoutTouchleave = () => {\n    if (!this._mousedown) {\n      const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\n      const marginLeftText = 7 + paddingLeft + 'px';\n      if (this.thumb.classList.contains('active')) {\n        const duration = 100;\n        // from\n        this.thumb.style.transition = 'none';\n        setTimeout(() => {\n          this.thumb.style.transition = `\n            height ${duration}ms ease,\n            width ${duration}ms ease,\n            top ${duration}ms ease,\n            margin ${duration}ms ease\n          `;\n          // to          \n          this.thumb.style.height = '0';\n          this.thumb.style.width = '0';\n          this.thumb.style.top = '0';\n          this.thumb.style.marginLeft = marginLeftText;\n        }, 1);\n      }\n      this.thumb.classList.remove('active');\n    }\n  }\n\n  _setupThumb() {\n    this.thumb = document.createElement('span');\n    this.value = document.createElement('span');\n    this.thumb.classList.add('thumb');\n    this.value.classList.add('value');\n    this.thumb.append(this.value);\n    this.el.after(this.thumb);\n  }\n\n  _removeThumb() {\n    this.thumb.remove();\n  }\n\n  _showRangeBubble() {\n    const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\n    const marginLeftText = -7 + paddingLeft + 'px'; // TODO: fix magic number?\n    const duration = 300;\n    // easeOutQuint\n    this.thumb.style.transition = `\n      height ${duration}ms ease,\n      width ${duration}ms ease,\n      top ${duration}ms ease,\n      margin ${duration}ms ease\n    `;\n    // to\n    this.thumb.style.height = '30px';\n    this.thumb.style.width = '30px';\n    this.thumb.style.top = '-30px';\n    this.thumb.style.marginLeft = marginLeftText;\n  }\n\n  _calcRangeOffset(): number {\n    const width = this.el.getBoundingClientRect().width - 15;\n    const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\n    const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min\n    const percent = (parseFloat(this.el.value) - min) / (max - min);\n    return percent * width;\n  }\n\n  /**\n   * Initializes every range input in the current document.\n   */\n  static Init(){\n    Range.init((document.querySelectorAll('input[type=range]')) as NodeListOf<HTMLInputElement>, {});\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface ScrollSpyOptions extends BaseOptions {\n  /**\n   * Throttle of scroll handler.\n   * @default 100\n   */\n  throttle: number;\n  /**\n   * Offset for centering element when scrolled to.\n   * @default 200\n   */\n  scrollOffset: number;\n  /**\n   * Class applied to active elements.\n   * @default 'active'\n   */\n  activeClass: string;\n  /**\n   * Used to find active element.\n   * @default id => 'a[href=\"#' + id + '\"]'\n   */\n  getActiveElement: (id: string) => string;\n};\n\nlet _defaults: ScrollSpyOptions = {\n  throttle: 100,\n  scrollOffset: 200, // offset - 200 allows elements near bottom of page to scroll\n  activeClass: 'active',\n  getActiveElement: (id: string): string => { return 'a[href=\"#'+id+'\"]'; }\n};\n\nexport class ScrollSpy extends Component<ScrollSpyOptions> {\n  static _elements: ScrollSpy[];\n  static _count: number;\n  static _increment: number;\n  tickId: number;\n  id: any;\n  static _elementsInView: ScrollSpy[];\n  static _visibleElements: any[];\n  static _ticks: number;\n\n  constructor(el: HTMLElement, options: Partial<ScrollSpyOptions>) {\n    super(el, options, ScrollSpy);\n    (this.el as any).M_ScrollSpy = this;\n\n    this.options = {\n      ...ScrollSpy.defaults,\n      ...options\n    };\n\n    ScrollSpy._elements.push(this);\n    ScrollSpy._count++;\n    ScrollSpy._increment++;\n    this.tickId = -1;\n    this.id = ScrollSpy._increment;\n    this._setupEventHandlers();\n    this._handleWindowScroll();\n  }\n\n  static get defaults(): ScrollSpyOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of ScrollSpy.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<ScrollSpyOptions>): ScrollSpy;\n  /**\n   * Initializes instances of ScrollSpy.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<ScrollSpyOptions>): ScrollSpy[];\n  /**\n   * Initializes instances of ScrollSpy.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<ScrollSpyOptions> = {}): ScrollSpy | ScrollSpy[] {\n    return super.init(els, options, ScrollSpy);\n  }\n\n  static getInstance(el: HTMLElement): ScrollSpy {\n    return (el as any).M_ScrollSpy;\n  }\n\n  destroy() {\n    ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n    ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n    ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\n    ScrollSpy._count--;\n    this._removeEventHandlers();\n    const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\n    actElem.classList.remove(this.options.activeClass);\n    (this.el as any).M_ScrollSpy = undefined;\n  }\n\n  _setupEventHandlers() {\n    if (ScrollSpy._count === 1) {\n      window.addEventListener('scroll', this._handleWindowScroll);\n      window.addEventListener('resize', this._handleThrottledResize);\n      document.body.addEventListener('click', this._handleTriggerClick);\n    }\n  }\n\n  _removeEventHandlers() {\n    if (ScrollSpy._count === 0) {\n      window.removeEventListener('scroll', this._handleWindowScroll);\n      window.removeEventListener('resize', this._handleThrottledResize);\n      document.body.removeEventListener('click', this._handleTriggerClick);\n    }\n  }\n\n  _handleThrottledResize: () => void = Utils.throttle(function(){ this._handleWindowScroll(); }, 200).bind(this); \n\n  _handleTriggerClick = (e: MouseEvent) => {\n    const trigger = e.target;\n    for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n      const scrollspy = ScrollSpy._elements[i];\n      const x = document.querySelector('a[href=\"#'+scrollspy.el.id+'\"]');\n      if (trigger === x) {\n        e.preventDefault();\n        scrollspy.el.scrollIntoView({behavior: 'smooth'});\n        break;\n      }\n    }\n  }\n\n  _handleWindowScroll = () => {\n    // unique tick id\n    ScrollSpy._ticks++;\n\n    // viewport rectangle\n    let top = Utils.getDocumentScrollTop(),\n      left = Utils.getDocumentScrollLeft(),\n      right = left + window.innerWidth,\n      bottom = top + window.innerHeight;\n\n    // determine which elements are in view\n    let intersections = ScrollSpy._findElements(top, right, bottom, left);\n    for (let i = 0; i < intersections.length; i++) {\n      let scrollspy = intersections[i];\n      let lastTick = scrollspy.tickId;\n      if (lastTick < 0) {\n        // entered into view\n        scrollspy._enter();\n      }\n\n      // update tick id\n      scrollspy.tickId = ScrollSpy._ticks;\n    }\n\n    for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n      let scrollspy = ScrollSpy._elementsInView[i];\n      let lastTick = scrollspy.tickId;\n      if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n        // exited from view\n        scrollspy._exit();\n        scrollspy.tickId = -1;\n      }\n    }\n    // remember elements in view for next tick\n    ScrollSpy._elementsInView = intersections;\n  }\n\n  static _offset(el) {\n    const box = el.getBoundingClientRect();\n    const docElem = document.documentElement;\n    return {\n      top: box.top + window.pageYOffset - docElem.clientTop,\n      left: box.left + window.pageXOffset - docElem.clientLeft\n    };\n  }\n\n  static _findElements(top: number, right: number, bottom: number, left: number): ScrollSpy[] {\n    let hits = [];\n    for (let i = 0; i < ScrollSpy._elements.length; i++) {\n      let scrollspy = ScrollSpy._elements[i];\n      let currTop = top + scrollspy.options.scrollOffset || 200;\n\n      if (scrollspy.el.getBoundingClientRect().height > 0) {\n        let elTop = ScrollSpy._offset(scrollspy.el).top,\n          elLeft = ScrollSpy._offset(scrollspy.el).left,\n          elRight = elLeft + scrollspy.el.getBoundingClientRect().width,\n          elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\n\n        let isIntersect = !(\n          elLeft > right ||\n          elRight < left ||\n          elTop > bottom ||\n          elBottom < currTop\n        );\n\n        if (isIntersect) {\n          hits.push(scrollspy);\n        }\n      }\n    }\n    return hits;\n  }\n\n  _enter() {\n    ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n\n    if (ScrollSpy._visibleElements[0]) {\n      const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n      actElem?.classList.remove(this.options.activeClass);\n\n      if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\n        ScrollSpy._visibleElements.unshift(this.el);\n      }\n      else {\n        ScrollSpy._visibleElements.push(this.el);\n      }\n    }\n    else {\n      ScrollSpy._visibleElements.push(this.el);\n    }\n    const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n    document.querySelector(selector)?.classList.add(this.options.activeClass);\n  }\n\n  _exit() {\n    ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n\n    if (ScrollSpy._visibleElements[0]) {\n      const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n      actElem?.classList.remove(this.options.activeClass);\n\n      ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\n\n      if (ScrollSpy._visibleElements[0]) {\n        // Check if empty\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n        document.querySelector(selector)?.classList.add(this.options.activeClass);\n      }\n    }\n  }\n\n  static {\n    ScrollSpy._elements = [];\n    ScrollSpy._elementsInView = [];\n    ScrollSpy._visibleElements = []; // Array.<cash>\n    ScrollSpy._count = 0;\n    ScrollSpy._increment = 0;\n    ScrollSpy._ticks = 0;\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Dropdown, DropdownOptions } from \"./dropdown\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface FormSelectOptions extends BaseOptions {\n  /**\n   * Classes to be added to the select wrapper element.\n   * @default \"\"\n   */\n  classes: string;\n  /**\n   * Pass options object to select dropdown initialization.\n   * @default {}\n   */\n  dropdownOptions: Partial<DropdownOptions>;\n}\n\nlet _defaults: FormSelectOptions = {\n  classes: '',\n  dropdownOptions: {}\n};\n\ntype ValueStruct = {\n  el: HTMLOptionElement,\n  optionEl: HTMLElement,\n}\n\nexport class FormSelect extends Component<FormSelectOptions> {\n  declare el: HTMLSelectElement;\n  /** If this is a multiple select. */\n  isMultiple: boolean;\n  /**\n   * Label associated with the current select element.\n   * Is \"null\", if not detected.\n   */\n  labelEl: HTMLLabelElement;\n  /** Dropdown UL element. */\n  dropdownOptions: HTMLUListElement;\n  /** Text input that shows current selected option. */\n  input: HTMLInputElement;\n  /** Instance of the dropdown plugin for this select. */\n  dropdown: Dropdown;\n  /** The select wrapper element. */\n  wrapper: HTMLDivElement;\n  selectOptions: (HTMLOptionElement|HTMLOptGroupElement)[];\n  private _values: ValueStruct[];\n\n  constructor(el: HTMLSelectElement, options: FormSelectOptions) {\n    super(el, options, FormSelect);\n    if (this.el.classList.contains('browser-default')) return;\n    (this.el as any).M_FormSelect = this;\n\n    this.options = {\n      ...FormSelect.defaults,\n      ...options\n    };\n    \n    this.isMultiple = this.el.multiple;\n    this.el.tabIndex = -1;\n    this._values = [];\n    //this.labelEl = null;\n    //this._labelFor = false;\n    this._setupDropdown();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): FormSelectOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of FormSelect.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLSelectElement, options?: Partial<FormSelectOptions>): FormSelect;\n  /**\n   * Initializes instances of FormSelect.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<HTMLSelectElement | MElement>, options?: Partial<FormSelectOptions>): FormSelect[];\n  /**\n   * Initializes instances of FormSelect.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLSelectElement | InitElements<HTMLSelectElement | MElement>, options: Partial<FormSelectOptions> = {}): FormSelect | FormSelect[] {\n    return super.init(els, options, FormSelect);\n  }\n\n  static getInstance(el: HTMLElement): FormSelect {\n    return (el as any).M_FormSelect;\n  }\n\n  destroy() {\n    // Returns label to its original owner\n    //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\n    this._removeEventHandlers();\n    this._removeDropdown();\n    (this.el as any).M_FormSelect = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n      el.addEventListener('click', this._handleOptionClick);\n      el.addEventListener('keydown', (e: KeyboardEvent) => {\n        if (e.key === \" \" || e.key === \"Enter\") this._handleOptionClick(e);\n      });\n    });\n    this.el.addEventListener('change', this._handleSelectChange);\n    this.input.addEventListener('click', this._handleInputClick);\n  }\n\n  _removeEventHandlers() {\n    this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n      el.removeEventListener('click', this._handleOptionClick);\n    });\n    this.el.removeEventListener('change', this._handleSelectChange);\n    this.input.removeEventListener('click', this._handleInputClick);\n  }\n\n  _handleSelectChange = () => {\n    this._setValueToInput();\n  }\n\n  _handleOptionClick = (e: MouseEvent | KeyboardEvent) => {\n    e.preventDefault();\n    const virtualOption = (e.target as HTMLLIElement).closest('li');\n    this._selectOptionElement(virtualOption);\n    e.stopPropagation();\n  }\n\n  _arraysEqual<T, E>(a: T[], b: (E|T)[]) {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length !== b.length) return false;\n    for (let i = 0; i < a.length; ++i) if (a[i] !== b[i]) return false;\n    return true;\n  }\n\n  _selectOptionElement(virtualOption: HTMLElement) {\n    if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\n      const value = this._values.find((value) => value.optionEl === virtualOption);\n      const previousSelectedValues = this.getSelectedValues();\n      if (this.isMultiple) {\n        // Multi-Select\n        this._toggleEntryFromArray(value);\n      }\n      else {\n        // Single-Select\n        this._deselectAll();\n        this._selectValue(value);\n      }\n      // Refresh Input-Text\n      this._setValueToInput();\n      // Trigger Change-Event only when data is different\n      const actualSelectedValues = this.getSelectedValues();\n      const selectionHasChanged = !this._arraysEqual(\n        previousSelectedValues,\n        actualSelectedValues\n      );\n      if (selectionHasChanged) this.el.dispatchEvent(new Event('change',{bubbles:true, cancelable:true, composed:true})); // trigger('change');\n    }\n    if (!this.isMultiple) this.dropdown.close();\n  }\n\n  _handleInputClick = () => {\n    if (this.dropdown && this.dropdown.isOpen) {\n      this._setValueToInput();\n      this._setSelectedStates();\n    }\n  }\n\n  _setupDropdown() {\n    // Get Label\n    this.labelEl = this.el.parentElement.querySelector('label');\n\n    // Create Wrapper\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('select-wrapper', 'input-field');\n    if (this.options.classes.length > 0) {\n      this.wrapper.classList.add(...this.options.classes.split(' '));\n    }\n    this.el.before(this.wrapper);\n\n    // Move actual select element into overflow hidden wrapper\n    const hideSelect = document.createElement('div');\n    hideSelect.classList.add('hide-select');\n    this.wrapper.append(hideSelect);\n    hideSelect.appendChild(this.el);\n\n    if (this.el.disabled) this.wrapper.classList.add('disabled');\n\n    this.selectOptions = <(HTMLOptGroupElement|HTMLOptionElement)[]>Array.from(this.el.children).filter(el => ['OPTION','OPTGROUP'].includes(el.tagName));\n\n    // Create dropdown\n    this.dropdownOptions = document.createElement('ul');\n    this.dropdownOptions.id = `select-options-${Utils.guid()}`;\n    this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\n    this.dropdownOptions.setAttribute('role', 'listbox');\n    this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\n    if (this.isMultiple) this.dropdownOptions.classList.add('multiple-select-dropdown');\n\n    // Create dropdown structure\n    if (this.selectOptions.length > 0) {\n      this.selectOptions.forEach((realOption) => {\n        if (realOption.tagName === 'OPTION') {\n          // Option\n          const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n          this._addOptionToValues(realOption as HTMLOptionElement, virtualOption);\n        }\n        else if (realOption.tagName === 'OPTGROUP') {\n          // Optgroup\n          const groupId = \"opt-group-\"+Utils.guid();\n          const groupParent = document.createElement('li');\n          groupParent.classList.add('optgroup');\n          groupParent.tabIndex = -1;\n          groupParent.setAttribute('role', 'group');\n          groupParent.setAttribute('aria-labelledby', groupId);\n          groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\n          this.dropdownOptions.append(groupParent);\n\n          const groupChildren = [];\n          const selectOptions = <HTMLOptionElement[]>Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\n          selectOptions.forEach(realOption => {\n            const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n            const childId = \"opt-child-\"+Utils.guid();\n            virtualOption.id = childId;\n            groupChildren.push(childId);\n            this._addOptionToValues(realOption, virtualOption);\n          });\n          groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n        }\n      });\n    }\n    this.wrapper.append(this.dropdownOptions);\n\n    // Add input dropdown\n    this.input = document.createElement('input');\n    this.input.id = \"m_select-input-\" + Utils.guid();\n    this.input.classList.add('select-dropdown', 'dropdown-trigger');\n    this.input.type = 'text';\n    this.input.readOnly = true;\n    this.input.setAttribute('data-target', this.dropdownOptions.id);\n    this.input.ariaReadOnly = 'true';\n    this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n    if (this.el.disabled) this.input.disabled = true; // 'true');\n\n    // Place Label after input\n    if (this.labelEl) {\n      this.input.after(this.labelEl);\n      this.labelEl.setAttribute('for', this.input.id);\n      this.labelEl.id = \"m_select-label-\" + Utils.guid();\n      this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n    }\n\n    // Makes new element to assume HTML's select label and aria-attributes, if exists\n    /*\n    if (this.el.hasAttribute(\"aria-labelledby\")){\n      console.log(1);\n      this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n    }\n    else if (this.el.id != \"\"){\n      console.log(2);\n      const label = document.createElement('label');\n      label.setAttribute('for', this.el.id);\n      if (label){\n        this.labelEl = label;\n        this.labelEl.removeAttribute(\"for\");\n        this._labelFor = true;\n      }\n    }\n    */\n    // Tries to find a valid label in parent element\n    // if (!this.labelEl) {\n    //   this.labelEl = this.el.parentElement.querySelector('label');\n    // }\n    // if (this.labelEl && this.labelEl.id == \"\") {\n    //   this.labelEl.id = \"m_select-label-\" + Utils.guid();\n    // }\n    // if (this.labelEl) {\n    //   this.labelEl.setAttribute(\"for\", this.input.id);\n    //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n    // }\n    // else\n    //   this.dropdownOptions.ariaLabel = '';\n\n    const attrs = this.el.attributes;\n    for (let i = 0; i < attrs.length; ++i){\n      const attr = attrs[i];\n      if (attr.name.startsWith(\"aria-\"))\n        this.input.setAttribute(attr.name, attr.value);\n    }\n\n    // Adds aria-attributes to input element\n    this.input.setAttribute('role', 'combobox');\n    this.input.ariaExpanded = 'false';\n    this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n    this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n    this.input.placeholder = \" \";\n\n    this.wrapper.prepend(this.input);\n    this._setValueToInput();\n\n    // Add caret\n    const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\n    dropdownIcon.classList.add('caret');\n    dropdownIcon.setAttribute('height', '24');\n    dropdownIcon.setAttribute('width', '24');\n    dropdownIcon.setAttribute('viewBox', '0 0 24 24');\n    dropdownIcon.ariaHidden = 'true';\n    dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\n    this.wrapper.prepend(dropdownIcon);\n\n    // Initialize dropdown\n    if (!this.el.disabled) {\n      const dropdownOptions = {...this.options.dropdownOptions}; // TODO:\n      dropdownOptions.coverTrigger = false;\n      const userOnOpenEnd = dropdownOptions.onOpenEnd;\n      const userOnCloseEnd = dropdownOptions.onCloseEnd;\n      // Add callback for centering selected option when dropdown content is scrollable\n      dropdownOptions.onOpenEnd = (el) => {\n        const selectedOption = this.dropdownOptions.querySelector('.selected');\n        if (selectedOption) {\n          // Focus selected option in dropdown\n          Utils.keyDown = true;\n          this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\n          this.dropdown._focusFocusedItem();\n          Utils.keyDown = false;\n          // Handle scrolling to selected option\n          if (this.dropdown.isScrollable) {\n            let scrollOffset =\n              selectedOption.getBoundingClientRect().top -\n              (this.dropdownOptions as HTMLElement).getBoundingClientRect().top; // scroll to selected option\n            scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n            this.dropdownOptions.scrollTop = scrollOffset;\n          }\n        }\n        this.input.ariaExpanded = 'true';\n        // Handle user declared onOpenEnd if needed\n        if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n          userOnOpenEnd.call(this.dropdown, this.el);\n      };\n      // Add callback for reseting \"expanded\" state\n      dropdownOptions.onCloseEnd = (el) => {\n        this.input.ariaExpanded = 'false';\n        // Handle user declared onOpenEnd if needed\n        if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n          userOnCloseEnd.call(this.dropdown, this.el);\n      };\n      // Prevent dropdown from closing too early\n      dropdownOptions.closeOnClick = false;\n      this.dropdown = Dropdown.init(this.input, dropdownOptions);\n    }\n    // Add initial selections\n    this._setSelectedStates();\n\n    // ! Workaround for Label: move label up again\n    if (this.labelEl) this.input.after(this.labelEl);\n  }\n\n  _addOptionToValues(realOption: HTMLOptionElement, virtualOption: HTMLElement) {\n    this._values.push({ el: realOption, optionEl: virtualOption });\n  }\n\n  _removeDropdown() {\n    this.wrapper.querySelector('.caret').remove();\n    this.input.remove();\n    this.dropdownOptions.remove();\n    this.wrapper.before(this.el);\n    this.wrapper.remove();\n  }\n\n  _createAndAppendOptionWithIcon(realOption, type: string) {\n    const li = document.createElement('li');\n    li.setAttribute('role', 'option');\n    if (realOption.disabled){\n      li.classList.add('disabled');\n      li.ariaDisabled = 'true';\n    }\n    if (type === 'optgroup-option') li.classList.add(type);\n    // Text / Checkbox\n    const span = document.createElement('span');\n    if (this.isMultiple)\n      span.innerHTML = `<label><input type=\"checkbox\"${\n        realOption.disabled ? ' disabled=\"disabled\"' : ''\n      }><span>${realOption.innerHTML}</span></label>`;\n    else\n      span.innerHTML = realOption.innerHTML;\n    li.appendChild(span);\n    // add Icon\n    const iconUrl = realOption.getAttribute('data-icon');\n    const classes = realOption.getAttribute('class')?.split();\n    if (iconUrl) {\n      const img = document.createElement('img');\n      if (classes) img.classList.add(classes);\n      img.src = iconUrl;\n      img.ariaHidden = 'true';\n      li.prepend(img);\n    }\n    // Check for multiple type\n    this.dropdownOptions.append(li);\n    return li;\n  }\n\n  _selectValue(value: ValueStruct) {\n    value.el.selected = true;\n    value.optionEl.classList.add('selected');\n    value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\n    const checkbox = <HTMLInputElement>value.optionEl.querySelector('input[type=\"checkbox\"]');\n    if (checkbox) checkbox.checked = true;\n  }\n\n  _deselectValue(value: ValueStruct) {\n    value.el.selected = false;\n    value.optionEl.classList.remove('selected');\n    value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\n    const checkbox = <HTMLInputElement>value.optionEl.querySelector('input[type=\"checkbox\"]');\n    if (checkbox) checkbox.checked = false;\n  }\n\n  _deselectAll() {\n    this._values.forEach(value => this._deselectValue(value));\n  }\n\n  _isValueSelected(value: ValueStruct) {\n    const realValues = this.getSelectedValues();\n    return realValues.some((realValue) => realValue === value.el.value);\n  }\n\n  _toggleEntryFromArray(value: ValueStruct) {\n    if (this._isValueSelected(value))\n      this._deselectValue(value);\n    else\n      this._selectValue(value);\n  }\n\n  _getSelectedOptions(): HTMLOptionElement[] {\n    // remove null, false, ... values\n    return Array.prototype.filter.call(this.el.selectedOptions, (realOption: HTMLOptionElement) => realOption);\n  }\n\n  _setValueToInput() {\n    const realOptions = this._getSelectedOptions();\n    const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n    const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n    // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n    if (texts.length === 0) {\n      const firstDisabledOption = <HTMLOptionElement>this.el.querySelector('option:disabled');\n      if (firstDisabledOption && firstDisabledOption.value === '') {\n        this.input.value = firstDisabledOption.innerText;\n        return;\n      }\n    }\n    this.input.value = texts.join(', ');\n  }\n\n  _setSelectedStates() {\n    this._values.forEach((value) => {\n      const optionIsSelected = value.el.selected;\n      const cb = <HTMLInputElement>value.optionEl.querySelector('input[type=\"checkbox\"]');\n      if (cb) cb.checked = optionIsSelected;\n      if (optionIsSelected) {\n        this._activateOption(this.dropdownOptions, value.optionEl);\n      }\n      else {\n        value.optionEl.classList.remove('selected');\n        value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\n      }\n    });\n  }\n\n  _activateOption(ul: HTMLElement, li: HTMLElement) {\n    if (!li) return;\n    if (!this.isMultiple) ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\n    li.classList.add('selected');\n    li.ariaSelected = 'true';\n  }\n\n  getSelectedValues() {\n    return this._getSelectedOptions().map((realOption) => realOption.value);\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement, Openable } from \"./component\";\n\nexport interface SidenavOptions extends BaseOptions {\n  /**\n   * Side of screen on which Sidenav appears.\n   * @default 'left'\n   */\n  edge: 'left' | 'right';\n  /**\n   * Allow swipe gestures to open/close Sidenav.\n   * @default true\n   */\n  draggable: boolean;\n  /**\n   * Width of the area where you can start dragging.\n   * @default '10px'\n   */\n  dragTargetWidth: string;\n  /**\n   * Length in ms of enter transition.\n   * @default 250\n   */\n  inDuration: number;\n  /**\n   * Length in ms of exit transition.\n   * @default 200\n   */\n  outDuration: number;\n  /**\n   * Prevent page from scrolling while sidenav is open.\n   * @default true\n   */\n  preventScrolling: boolean;\n  /**\n   * Function called when sidenav starts entering.\n   */\n  onOpenStart: (elem: HTMLElement) => void;\n  /**\n   * Function called when sidenav finishes entering.\n   */\n  onOpenEnd: (elem: HTMLElement) => void;\n  /**\n   * Function called when sidenav starts exiting.\n   */\n  onCloseStart: (elem: HTMLElement) => void;\n  /**\n   * Function called when sidenav finishes exiting.\n   */\n  onCloseEnd: (elem: HTMLElement) => void;\n}\n\nconst _defaults: SidenavOptions = {\n  edge: 'left',\n  draggable: true,\n  dragTargetWidth: '10px',\n  inDuration: 250,\n  outDuration: 200,\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,\n  onCloseEnd: null,\n  preventScrolling: true\n};\n\nexport class Sidenav extends Component<SidenavOptions> implements Openable {\n  id: string;\n  /** Describes open/close state of Sidenav. */\n  isOpen: boolean;\n  /** Describes if sidenav is fixed. */\n  isFixed: boolean;\n  /** Describes if Sidenav is being dragged. */\n  isDragged: boolean;\n  lastWindowWidth: number;\n  lastWindowHeight: number;\n  static _sidenavs: Sidenav[];\n  private _overlay: HTMLElement;\n  dragTarget: Element;\n  private _startingXpos: number;\n  private _xPos: number;\n  private _time: number;\n  private _width: number;\n  private _initialScrollTop: number;\n  private _verticallyScrolling: boolean;\n  private deltaX: number;\n  private velocityX: number;\n  private percentOpen: number;\n\n  constructor(el: HTMLElement, options: Partial<SidenavOptions>) {\n    super(el, options, Sidenav);\n    (this.el as any).M_Sidenav = this;\n\n    this.options = {\n      ...Sidenav.defaults,\n      ...options\n    };\n\n    this.id = this.el.id;\n    this.isOpen = false;\n    this.isFixed = this.el.classList.contains('sidenav-fixed');\n    this.isDragged = false;\n    // Window size variables for window resize checks\n    this.lastWindowWidth = window.innerWidth;\n    this.lastWindowHeight = window.innerHeight;\n    this._createOverlay();\n    this._createDragTarget();\n    this._setupEventHandlers();\n    this._setupClasses();\n    this._setupFixed();\n    Sidenav._sidenavs.push(this);\n  }\n\n  static get defaults(): SidenavOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Sidenav.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<SidenavOptions>): Sidenav;\n  /**\n   * Initializes instances of Sidenav.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<SidenavOptions>): Sidenav[];\n  /**\n   * Initializes instances of Sidenav.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<SidenavOptions> = {}): Sidenav | Sidenav[] {\n    return super.init(els, options, Sidenav);\n  }\n\n  static getInstance(el: HTMLElement): Sidenav {\n    return (el as any).M_Sidenav;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this._enableBodyScrolling();\n    this._overlay.parentNode.removeChild(this._overlay);\n    this.dragTarget.parentNode.removeChild(this.dragTarget);\n    (this.el as any).M_Sidenav = undefined;\n    this.el.style.transform = '';\n    const index = Sidenav._sidenavs.indexOf(this);\n    if (index >= 0) {\n      Sidenav._sidenavs.splice(index, 1);\n    }\n  }\n\n  private _createOverlay() {\n    this._overlay = document.createElement('div');\n    this._overlay.classList.add('sidenav-overlay');\n    this._overlay.addEventListener('click', this.close);\n    document.body.appendChild(this._overlay);\n  }\n\n  private _setupEventHandlers() {\n    if (Sidenav._sidenavs.length === 0) {\n      document.body.addEventListener('click', this._handleTriggerClick);\n    }\n    var passiveIfSupported: boolean = null;\n    this.dragTarget.addEventListener('touchmove', this._handleDragTargetDrag, passiveIfSupported);\n    this.dragTarget.addEventListener('touchend', this._handleDragTargetRelease);\n    this._overlay.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n    this._overlay.addEventListener('touchend', this._handleCloseRelease);\n    this.el.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n    this.el.addEventListener('touchend', this._handleCloseRelease);\n    this.el.addEventListener('click', this._handleCloseTriggerClick);\n    // Add resize for side nav fixed\n    if (this.isFixed) {\n      window.addEventListener('resize', this._handleWindowResize);\n    }\n  }\n\n  private _removeEventHandlers() {\n    if (Sidenav._sidenavs.length === 1) {\n      document.body.removeEventListener('click', this._handleTriggerClick);\n    }\n    this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDrag);\n    this.dragTarget.removeEventListener('touchend', this._handleDragTargetRelease);\n    this._overlay.removeEventListener('touchmove', this._handleCloseDrag);\n    this._overlay.removeEventListener('touchend', this._handleCloseRelease);\n    this.el.removeEventListener('touchmove', this._handleCloseDrag);\n    this.el.removeEventListener('touchend', this._handleCloseRelease);\n    this.el.removeEventListener('click', this._handleCloseTriggerClick);\n\n    // Remove resize for side nav fixed\n    if (this.isFixed) {\n      window.removeEventListener('resize', this._handleWindowResize);\n    }\n  }\n\n  private _handleTriggerClick(e) {\n    const trigger = e.target.closest('.sidenav-trigger');\n    if (e.target && trigger) {\n      const sidenavId = Utils.getIdFromTrigger(trigger);\n      const sidenavInstance = (document.getElementById(sidenavId) as any).M_Sidenav;\n      if (sidenavInstance) {\n        sidenavInstance.open(trigger);\n      }\n      e.preventDefault();\n    }\n  }\n\n  // Set variables needed at the beginning of drag and stop any current transition.\n  private _startDrag(e) {\n    const clientX = e.targetTouches[0].clientX;\n    this.isDragged = true;\n    this._startingXpos = clientX;\n    this._xPos = this._startingXpos;\n    this._time = Date.now();\n    this._width = this.el.getBoundingClientRect().width;\n    this._overlay.style.display = 'block';\n    this._initialScrollTop = this.isOpen ? this.el.scrollTop : Utils.getDocumentScrollTop();\n    this._verticallyScrolling = false;\n  }\n\n  //Set variables needed at each drag move update tick\n  private _dragMoveUpdate(e) {\n    const clientX = e.targetTouches[0].clientX;\n    const currentScrollTop = this.isOpen ? this.el.scrollTop : Utils.getDocumentScrollTop();\n    this.deltaX = Math.abs(this._xPos - clientX);\n    this._xPos = clientX;\n    this.velocityX = this.deltaX / (Date.now() - this._time);\n    this._time = Date.now();\n    if (this._initialScrollTop !== currentScrollTop) {\n      this._verticallyScrolling = true;\n    }\n  }\n\n  private _handleDragTargetDrag = (e) => {\n    // Check if draggable\n    if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n      return;\n    }\n    // If not being dragged, set initial drag start variables\n    if (!this.isDragged) {\n      this._startDrag(e);\n    }\n    // Run touchmove updates\n    this._dragMoveUpdate(e);\n    // Calculate raw deltaX\n    let totalDeltaX = this._xPos - this._startingXpos;\n    // dragDirection is the attempted user drag direction\n    const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n    // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n    totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n    if (this.options.edge === dragDirection) {\n      totalDeltaX = 0;\n    }\n    /**\n     * transformX is the drag displacement\n     * transformPrefix is the initial transform placement\n     * Invert values if Sidenav is right edge\n     */\n    let transformX = totalDeltaX;\n    let transformPrefix = 'translateX(-100%)';\n    if (this.options.edge === 'right') {\n      transformPrefix = 'translateX(100%)';\n      transformX = -transformX;\n    }\n    // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n    this.percentOpen = Math.min(1, totalDeltaX / this._width);\n    // Set transform and opacity styles\n    this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n    this._overlay.style.opacity = this.percentOpen.toString();\n  }\n\n  private _handleDragTargetRelease = () => {\n    if (this.isDragged) {\n      if (this.percentOpen > 0.2) {\n        this.open();\n      } else {\n        this._animateOut();\n      }\n      this.isDragged = false;\n      this._verticallyScrolling = false;\n    }\n  }\n\n  private _handleCloseDrag = (e) => {\n    if (this.isOpen) {\n      // Check if draggable\n      if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n        return;\n      }\n      // If not being dragged, set initial drag start variables\n      if (!this.isDragged) {\n        this._startDrag(e);\n      }\n      // Run touchmove updates\n      this._dragMoveUpdate(e);\n      // Calculate raw deltaX\n      let totalDeltaX = this._xPos - this._startingXpos;\n      // dragDirection is the attempted user drag direction\n      let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n      // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n      totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n      if (this.options.edge !== dragDirection) {\n        totalDeltaX = 0;\n      }\n      let transformX = -totalDeltaX;\n      if (this.options.edge === 'right') {\n        transformX = -transformX;\n      }\n      // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n      this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n      // Set transform and opacity styles\n      this.el.style.transform = `translateX(${transformX}px)`;\n      this._overlay.style.opacity = this.percentOpen.toString();\n    }\n  }\n\n  private _handleCloseRelease = () => {\n    if (this.isOpen && this.isDragged) {\n      if (this.percentOpen > 0.8) {\n        this._animateIn();\n      } else {\n        this.close();\n      }\n      this.isDragged = false;\n      this._verticallyScrolling = false;\n    }\n  }\n\n  // Handles closing of Sidenav when element with class .sidenav-close\n  private _handleCloseTriggerClick = (e) => {\n    const closeTrigger = e.target.closest('.sidenav-close');\n    if (closeTrigger && !this._isCurrentlyFixed()) {\n      this.close();\n    }\n  }\n\n  private _handleWindowResize = () => {\n    // Only handle horizontal resizes\n    if (this.lastWindowWidth !== window.innerWidth) {\n      if (window.innerWidth > 992) {\n        this.open();\n      } else {\n        this.close();\n      }\n    }\n    this.lastWindowWidth = window.innerWidth;\n    this.lastWindowHeight = window.innerHeight;\n  }\n\n  private _setupClasses() {\n    if (this.options.edge === 'right') {\n      this.el.classList.add('right-aligned');\n      this.dragTarget.classList.add('right-aligned');\n    }\n  }\n\n  private _removeClasses() {\n    this.el.classList.remove('right-aligned');\n    this.dragTarget.classList.remove('right-aligned');\n  }\n\n  private _setupFixed() {\n    if (this._isCurrentlyFixed()) this.open();\n  }\n\n  private _isCurrentlyFixed() {\n    return this.isFixed && window.innerWidth > 992;\n  }\n\n  private _createDragTarget() {\n    const dragTarget = document.createElement('div');\n    dragTarget.classList.add('drag-target');\n    dragTarget.style.width = this.options.dragTargetWidth;\n    document.body.appendChild(dragTarget);\n    this.dragTarget = dragTarget;\n  }\n\n  private _preventBodyScrolling() {\n    document.body.style.overflow = 'hidden';\n  }\n\n  private _enableBodyScrolling() {\n    document.body.style.overflow = '';\n  }\n\n  /**\n   * Opens Sidenav.\n   */\n  open = () => {\n    if (this.isOpen === true) return;\n    this.isOpen = true;\n    // Run onOpenStart callback\n    if (typeof this.options.onOpenStart === 'function') {\n      this.options.onOpenStart.call(this, this.el);\n    }\n    // Handle fixed Sidenav\n    if (this._isCurrentlyFixed()) {\n      // Show if fixed\n      this.el.style.transform = 'translateX(0)';\n      this._enableBodyScrolling();\n      this._overlay.style.display = 'none';\n    }\n    // Handle non-fixed Sidenav\n    else {\n      if (this.options.preventScrolling) this._preventBodyScrolling();\n      if (!this.isDragged || this.percentOpen != 1) this._animateIn();\n    }\n  }\n\n  /**\n   * Closes Sidenav.\n   */\n  close = () => {\n    if (this.isOpen === false) return;\n    this.isOpen = false;\n    // Run onCloseStart callback\n    if (typeof this.options.onCloseStart === 'function') {\n      this.options.onCloseStart.call(this, this.el);\n    }\n    // Handle fixed Sidenav\n    if (this._isCurrentlyFixed()) {\n      const transformX = this.options.edge === 'left' ? '-105%' : '105%';\n      this.el.style.transform = `translateX(${transformX})`;\n    }\n    // Handle non-fixed Sidenav\n    else {\n      this._enableBodyScrolling();\n      if (!this.isDragged || this.percentOpen != 0) {\n        this._animateOut();\n      } else {\n        this._overlay.style.display = 'none';\n      }\n    }\n  }\n\n  private _animateIn() {\n    this._animateSidenavIn();\n    this._animateOverlayIn();\n  }\n\n  private _animateOut() {\n    this._animateSidenavOut();\n    this._animateOverlayOut();\n  }\n\n  private _animateSidenavIn() {\n    let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n    if (this.isDragged) {\n      slideOutPercent =\n        this.options.edge === 'left'\n          ? slideOutPercent + this.percentOpen\n          : slideOutPercent - this.percentOpen;\n    }\n    const duration = this.options.inDuration;\n    // from\n    this.el.style.transition = 'none';\n    this.el.style.transform = 'translateX(' + (slideOutPercent * 100) + '%)';\n    setTimeout(() => {\n      this.el.style.transition = `transform ${duration}ms ease`; // easeOutQuad\n      // to\n      this.el.style.transform = 'translateX(0)';\n    }, 1);\n    setTimeout(() => {\n      if (typeof this.options.onOpenEnd === 'function') this.options.onOpenEnd.call(this, this.el);\n    }, duration);\n  }\n\n  private _animateSidenavOut() {\n    const endPercent = this.options.edge === 'left' ? -1 : 1;\n    let slideOutPercent = 0;\n    if (this.isDragged) {\n      slideOutPercent =\n        this.options.edge === 'left'\n          ? endPercent + this.percentOpen\n          : endPercent - this.percentOpen;\n    }\n\n    const duration = this.options.outDuration;\n    this.el.style.transition = `transform ${duration}ms ease`; // easeOutQuad\n    // to\n    this.el.style.transform = 'translateX(' + (endPercent * 100) + '%)';\n    setTimeout(() => {\n      if (typeof this.options.onCloseEnd === 'function') this.options.onCloseEnd.call(this, this.el);\n    }, duration);\n  }\n\n  private _animateOverlayIn() {\n    let start = 0;\n    if (this.isDragged) \n      start = this.percentOpen;\n    else\n      this._overlay.style.display = 'block';\n    // Animation\n    const duration = this.options.inDuration;\n    // from\n    this._overlay.style.transition = 'none';\n    this._overlay.style.opacity = start.toString();\n    // easeOutQuad\n    setTimeout(() => {\n      this._overlay.style.transition = `opacity ${duration}ms ease`;\n      // to\n      this._overlay.style.opacity = '1';      \n    }, 1);\n  }\n\n  private _animateOverlayOut() {\n    const duration = this.options.outDuration;\n    // easeOutQuad\n    this._overlay.style.transition = `opacity ${duration}ms ease`;\n    // to\n    this._overlay.style.opacity = '0';  \n    setTimeout(() => {\n      this._overlay.style.display = 'none';\n    }, duration);\n  }\n\n  static  {\n    Sidenav._sidenavs = [];\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface SliderOptions extends BaseOptions {\n  /**\n   * Set to false to hide slide indicators.\n   * @default true\n   */\n  indicators: boolean;\n  /**\n   * Set height of slider.\n   * @default 400\n   */\n  height: number;\n  /**\n   * Set the duration of the transition animation in ms.\n   * @default 500\n   */\n  duration: number;\n  /**\n   * Set the duration between transitions in ms.\n   * @default 6000\n   */\n  interval: number;\n  /**\n   * If slider should pause when keyboard focus is received.\n   * @default true\n   */\n  pauseOnFocus: boolean;\n  /**\n   * If slider should pause when is hovered by a pointer.\n   * @default true\n   */\n  pauseOnHover: boolean;\n  /**\n   * Optional function used to generate ARIA label to indicators (for accessibility purposes).\n   * @param index Current index, starting from \"1\".\n   * @param current A which indicates whether it is the current element or not\n   * @returns a string to be used as label indicator.\n   * @default null\n   */\n  indicatorLabelFunc: (index: number, current: boolean) => string\n}\n\nlet _defaults: SliderOptions = {\n  indicators: true,\n  height: 400,\n  duration: 500,\n  interval: 6000,\n  pauseOnFocus: true,\n  pauseOnHover: true,\n  indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\n\nexport class Slider extends Component<SliderOptions> {\n  /** Index of current slide. */\n  activeIndex: number;\n  interval: string | number | NodeJS.Timeout;\n  eventPause: any;\n  _slider: HTMLUListElement;\n  _slides: HTMLLIElement[];\n  _activeSlide: HTMLLIElement;\n  _indicators: HTMLLIElement[];\n  _hovered: boolean;\n  _focused: boolean;\n  _focusCurrent: boolean;\n  _sliderId: string;\n\n  constructor(el: HTMLElement, options: Partial<SliderOptions>) {\n    super(el, options, Slider);\n    (this.el as any).M_Slider = this;\n\n    this.options = {\n      ...Slider.defaults,\n      ...options\n    };\n\n    // init props\n    this.interval = null;\n    this.eventPause = false;\n    this._hovered = false;\n    this._focused = false;\n    this._focusCurrent = false;\n\n    // setup\n    this._slider = this.el.querySelector('.slides');\n    this._slides = Array.from(this._slider.querySelectorAll('li'));\n    this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\n\n    if (this.activeIndex !== -1) {\n      this._activeSlide = this._slides[this.activeIndex];\n    }\n\n    this._setSliderHeight();\n\n    // Sets element id if it does not have one\n    if (this._slider.hasAttribute('id'))\n      this._sliderId = this._slider.getAttribute('id');\n    else {\n      this._sliderId = 'slider-' + Utils.guid();\n      this._slider.setAttribute('id', this._sliderId);\n    }\n\n    const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n    // Set initial positions of captions\n    this._slides.forEach(slide => {\n      // Caption\n      //const caption = <HTMLElement|null>slide.querySelector('.caption');\n      //if (caption) this._animateCaptionIn(caption, 0);\n      // Set Images as Background Images\n      const img = slide.querySelector('img');\n      if (img) {\n        if (img.src !== placeholderBase64) {\n          img.style.backgroundImage = 'url('+ img.src +')';\n          img.src = placeholderBase64;\n        }\n      }\n      // Sets slide as focusable by code\n      if (!slide.hasAttribute('tabindex'))\n        slide.setAttribute('tabindex', '-1');\n      // Removes initial visibility from \"inactive\" slides\n      slide.style.visibility = 'hidden';\n    });\n\n    this._setupIndicators();\n\n    // Show active slide\n    if (this._activeSlide) {\n      this._activeSlide.style.display = 'block';\n      this._activeSlide.style.visibility = 'visible';\n    }\n    else {\n      this.activeIndex = 0;\n      this._slides[0].classList.add('active');\n      this._slides[0].style.visibility = 'visible';\n      this._activeSlide = this._slides[0];\n      this._animateSlide(this._slides[0], true);\n      // Update indicators\n      if (this.options.indicators) {\n        this._indicators[this.activeIndex].children[0].classList.add('active');\n      }\n    }\n    this._setupEventHandlers();\n    // auto scroll\n    this.start();\n  }\n\n  static get defaults() {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Slider.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<SliderOptions>): Slider;\n  /**\n   * Initializes instances of Slider.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<SliderOptions>): Slider[];\n  /**\n   * Initializes instances of Slider.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<SliderOptions> = {}): Slider | Slider[] {\n    return super.init(els, options, Slider);\n  }\n\n  static getInstance(el: HTMLElement): Slider {\n    return (el as any).M_Slider;\n  }\n\n  destroy() {\n    this.pause();\n    this._removeIndicators();\n    this._removeEventHandlers();\n    (this.el as any).M_Slider = undefined;\n  }\n\n  private _setupEventHandlers() {\n    if (this.options.pauseOnFocus) {\n      this.el.addEventListener('focusin', this._handleAutoPauseFocus);\n      this.el.addEventListener('focusout', this._handleAutoStartFocus);\n    }\n    if (this.options.pauseOnHover) {\n      this.el.addEventListener('mouseenter', this._handleAutoPauseHover);\n      this.el.addEventListener('mouseleave', this._handleAutoStartHover);\n    }\n    if (this.options.indicators) {\n      this._indicators.forEach((el) => {\n        el.addEventListener('click', this._handleIndicatorClick);\n      });\n    }\n  }\n\n  private _removeEventHandlers() {\n    if (this.options.pauseOnFocus) {\n      this.el.removeEventListener('focusin', this._handleAutoPauseFocus);\n      this.el.removeEventListener('focusout', this._handleAutoStartFocus);\n    }\n    if (this.options.pauseOnHover) {\n      this.el.removeEventListener('mouseenter', this._handleAutoPauseHover);\n      this.el.removeEventListener('mouseleave', this._handleAutoStartHover);\n    }\n    if (this.options.indicators) {\n      this._indicators.forEach((el) => {\n        el.removeEventListener('click', this._handleIndicatorClick);\n      });\n    }\n  }\n\n  private _handleIndicatorClick = (e: MouseEvent) => {\n    const el = (<HTMLElement>e.target).parentElement;\n    const currIndex = [...el.parentNode.children].indexOf(el);\n    this._focusCurrent = true;\n    this.set(currIndex);\n  }\n\n  private _handleAutoPauseHover = () => {\n    this._hovered = true;\n    if (this.interval != null) {\n      this._pause(true);\n    }\n  }\n\n  private _handleAutoPauseFocus = () => {\n    this._focused = true;\n    if (this.interval != null) {\n      this._pause(true);\n    }\n  }\n\n  private _handleAutoStartHover = () => {\n    this._hovered = false;\n    if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n      this.start();\n    }\n  }\n\n  private _handleAutoStartFocus = () => {\n    this._focused = false;\n    if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n      this.start();\n    }\n  }\n\n  private _handleInterval = () => {\n    const activeElem = this._slider.querySelector('.active');\n    let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\n    if (this._slides.length === newActiveIndex + 1)\n      newActiveIndex = 0; // loop to start\n    else\n      newActiveIndex += 1;\n    this.set(newActiveIndex);\n  }\n\n  private _animateSlide(slide: HTMLElement, isDirectionIn: boolean): void {\n    let dx = 0, dy = 0;\n    // from\n    slide.style.opacity = isDirectionIn ? '0' : '1';\n    setTimeout(() => {\n      slide.style.transition = `opacity ${this.options.duration}ms ease`;\n      // to\n      slide.style.opacity = isDirectionIn ? '1' : '0';\n    }, 1);\n    // Caption\n    const caption: HTMLElement = slide.querySelector('.caption');\n    if (!caption) return;\n    if (caption.classList.contains('center-align')) dy = -100;\n    else if (caption.classList.contains('right-align')) dx = 100;\n    else if (caption.classList.contains('left-align')) dx = -100;\n    // from\n    caption.style.opacity = isDirectionIn ? '0' : '1';\n    caption.style.transform = isDirectionIn ? `translate(${dx}px, ${dy}px)` : `translate(0, 0)`;\n    setTimeout(() => {\n      caption.style.transition = `opacity ${this.options.duration}ms ease, transform ${this.options.duration}ms ease`;\n      // to\n      caption.style.opacity = isDirectionIn ? '1' : '0';\n      caption.style.transform = isDirectionIn ? `translate(0, 0)` : `translate(${dx}px, ${dy}px)`;\n    }, this.options.duration); // delay\n  }\n\n  private _setSliderHeight() {\n    // If fullscreen, do nothing\n    if (!this.el.classList.contains('fullscreen')) {\n      if (this.options.indicators) {\n        // Add height if indicators are present\n        this.el.style.height = (this.options.height + 40)+'px'; //.css('height', this.options.height + 40 + 'px');\n      }\n      else {\n        this.el.style.height = this.options.height + 'px';\n      }\n      this._slider.style.height = this.options.height + 'px';\n    }\n  }\n\n  private _setupIndicators() {\n    if (this.options.indicators) {\n      const ul = document.createElement('ul');\n      ul.classList.add('indicators');\n\n      const arrLi = [];\n      this._slides.forEach((el, i) => {\n        const label = this.options.indicatorLabelFunc\n          ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n          : `${i + 1}`;\n        const li = document.createElement('li');\n        li.classList.add('indicator-item');\n        li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\n        arrLi.push(li);\n        ul.append(li);\n      });\n\n      this.el.append(ul);\n      this._indicators = arrLi;\n    }\n  }\n\n  private _removeIndicators() {\n    this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\n  }\n\n  set(index: number) {\n    // Wrap around indices.\n    if (index >= this._slides.length) index = 0;\n    else if (index < 0) index = this._slides.length - 1;\n\n    // Only do if index changes\n    if (this.activeIndex === index) return;\n\n    this._activeSlide = this._slides[this.activeIndex];\n    const _caption = <HTMLElement|null>this._activeSlide.querySelector('.caption');\n\n    this._activeSlide.classList.remove('active');\n    // Enables every slide\n    this._slides.forEach(slide => slide.style.visibility = 'visible');\n\n    //--- Hide active Slide + Caption\n    this._activeSlide.style.opacity = '0';\n    setTimeout(() => {\n      this._slides.forEach(slide => {\n        if (slide.classList.contains('active')) return;\n        slide.style.opacity = '0';\n        slide.style.transform = 'translate(0, 0)';\n        // Disables invisible slides (for assistive technologies)\n        slide.style.visibility = 'hidden';\n      });\n\n    }, this.options.duration);\n\n    // Hide active Caption\n    //this._animateCaptionIn(_caption, this.options.duration);\n    _caption.style.opacity = '0';\n\n    // Update indicators\n    if (this.options.indicators) {\n      const activeIndicator = this._indicators[this.activeIndex].children[0];\n      const nextIndicator = this._indicators[index].children[0];\n      activeIndicator.classList.remove('active');\n      nextIndicator.classList.add('active');\n      if (typeof this.options.indicatorLabelFunc === \"function\"){\n        activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\n        nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\n      }\n    }\n\n    //--- Show new Slide + Caption\n    this._animateSlide(this._slides[index], true);\n    this._slides[index].classList.add('active');\n    this.activeIndex = index;\n\n    // Reset interval, if allowed. This check prevents autostart\n    // when slider is paused, since it can be changed though indicators.\n    if (this.interval != null) {\n      this.start();\n    }\n  }\n\n  _pause(fromEvent: boolean) {\n    clearInterval(this.interval);\n    this.eventPause = fromEvent;\n    this.interval = null;\n  }\n\n  /**\n   * Pause slider autoslide.\n   */\n  pause = () => {\n    this._pause(false);\n  }\n\n  /**\n   * Start slider autoslide.\n   */\n  start = () => {\n    clearInterval(this.interval);\n    this.interval = setInterval(\n      this._handleInterval,\n      this.options.duration + this.options.interval\n    );\n    this.eventPause = false;\n  }\n\n  /**\n   * Move to next slider.\n   */\n  next = () => {\n    let newIndex = this.activeIndex + 1;\n    // Wrap around indices.\n    if (newIndex >= this._slides.length) newIndex = 0;\n    else if (newIndex < 0) newIndex = this._slides.length - 1;\n    this.set(newIndex);\n  }\n\n  /**\n   * Move to prev slider.\n   */\n  prev = () => {\n    let newIndex = this.activeIndex - 1;\n    // Wrap around indices.\n    if (newIndex >= this._slides.length) newIndex = 0;\n    else if (newIndex < 0) newIndex = this._slides.length - 1;\n    this.set(newIndex);\n  }\n}\n","import { Carousel } from \"./carousel\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport interface TabsOptions extends BaseOptions {\n  /**\n   * Transition duration in milliseconds.\n   * @default 300\n   */\n  duration: number;\n  /**\n   * Callback for when a new tab content is shown.\n   * @default null\n   */\n  onShow: (newContent: Element) => void;\n  /**\n   * Set to true to enable swipeable tabs.\n   * This also uses the responsiveThreshold option.\n   * @default false\n   */\n  swipeable: boolean;\n  /**\n   * The maximum width of the screen, in pixels,\n   * where the swipeable functionality initializes.\n   * @default infinity\n   */\n  responsiveThreshold: number;\n};\n\nlet _defaults: TabsOptions = {\n  duration: 300,\n  onShow: null,\n  swipeable: false,\n  responsiveThreshold: Infinity // breakpoint for swipeable\n};\n\nexport class Tabs extends Component<TabsOptions> {\n  _tabLinks: NodeListOf<HTMLAnchorElement>;\n  _index: number;\n  _indicator: HTMLLIElement;\n  _tabWidth: number;\n  _tabsWidth: number;\n  _tabsCarousel: any;\n  _activeTabLink: any;\n  _content: any;\n\n  constructor(el: HTMLElement, options: Partial<TabsOptions>) {\n    super(el, options, Tabs);\n    (this.el as any).M_Tabs = this;\n\n    this.options = {\n      ...Tabs.defaults,\n      ...options\n    };\n\n    this._tabLinks = this.el.querySelectorAll('li.tab > a');\n    this._index = 0;\n    this._setupActiveTabLink();\n    if (this.options.swipeable) {\n      this._setupSwipeableTabs();\n    } else {\n      this._setupNormalTabs();\n    }\n    // Setup tabs indicator after content to ensure accurate widths\n    this._setTabsAndTabWidth();\n    this._createIndicator();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): TabsOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Tabs.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<TabsOptions>): Tabs;\n  /**\n   * Initializes instances of Tabs.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<TabsOptions>): Tabs[];\n  /**\n   * Initializes instances of Tabs.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<TabsOptions> = {}): Tabs | Tabs[] {\n    return super.init(els, options, Tabs);\n  }\n\n  static getInstance(el: HTMLElement): Tabs {\n    return (el as any).M_Tabs;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this._indicator.parentNode.removeChild(this._indicator);\n    if (this.options.swipeable) {\n      this._teardownSwipeableTabs();\n    }\n    else {\n      this._teardownNormalTabs();\n    }\n    (this.el as any).M_Tabs = undefined;\n  }\n\n  /**\n   * The index of tab that is currently shown.\n   */\n  get index(){ return this._index; }\n\n  _setupEventHandlers() {\n    window.addEventListener('resize', this._handleWindowResize);\n    this.el.addEventListener('click', this._handleTabClick);\n  }\n\n  _removeEventHandlers() {\n    window.removeEventListener('resize', this._handleWindowResize);\n    this.el.removeEventListener('click', this._handleTabClick);\n  }\n\n  _handleWindowResize = () => {\n    this._setTabsAndTabWidth();\n    if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n      this._indicator.style.left = this._calcLeftPos(this._activeTabLink)+'px';\n      this._indicator.style.right = this._calcRightPos(this._activeTabLink)+'px';\n    }\n  }\n\n  _handleTabClick = (e: MouseEvent) => {\n    const tabLink = e.target as HTMLAnchorElement;\n    const tab = tabLink.parentElement;\n    // Handle click on tab link only\n    if (!tabLink || !tab.classList.contains('tab')) return;\n    // is disabled?\n    if (tab.classList.contains('disabled')) {\n      e.preventDefault();\n      return;\n    }\n    // Act as regular link if target attribute is specified.\n    if (tabLink.hasAttribute('target')) return;\n    // Make the old tab inactive.\n    this._activeTabLink.classList.remove('active');\n    const _oldContent = this._content;\n    // Update the variables with the new link and content\n\n      this._activeTabLink = tabLink;\n      if (tabLink.hash)\n        this._content = document.querySelector(tabLink.hash);\n      this._tabLinks = this.el.querySelectorAll('li.tab > a');\n      // Make the tab active\n      this._activeTabLink.classList.add('active');\n      const prevIndex = this._index;\n      this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n\n    // Swap content\n    if (this.options.swipeable) {\n      if (this._tabsCarousel) {\n        this._tabsCarousel.set(this._index, () => {\n          if (typeof this.options.onShow === 'function')\n            this.options.onShow.call(this, this._content);\n        });\n      }\n    } else {\n      if (this._content) {\n        this._content.style.display = 'block';\n        this._content.classList.add('active');\n        if (typeof this.options.onShow === 'function')\n          this.options.onShow.call(this, this._content);\n        if (_oldContent && _oldContent !== this._content) {\n          _oldContent.style.display = 'none';\n          _oldContent.classList.remove('active');\n        }\n      }\n    }\n    // Update widths after content is swapped (scrollbar bugfix)\n    this._setTabsAndTabWidth();\n    this._animateIndicator(prevIndex);\n    e.preventDefault();\n  }\n\n  _createIndicator() {\n    const indicator = document.createElement('li');\n    indicator.classList.add('indicator');\n    this.el.appendChild(indicator);\n    this._indicator = indicator;\n    this._indicator.style.left = this._calcLeftPos(this._activeTabLink)+'px';\n    this._indicator.style.right = this._calcRightPos(this._activeTabLink)+'px';\n  }\n\n  _setupActiveTabLink() {\n    // If the location.hash matches one of the links, use that as the active tab.\n    this._activeTabLink = Array.from(this._tabLinks).find((a: HTMLAnchorElement) => a.getAttribute('href') === location.hash);\n    // If no match is found, use the first link or any with class 'active' as the initial active tab.\n    if (!this._activeTabLink) {\n      this._activeTabLink = this.el.querySelector('li.tab a.active');\n    }\n    if (this._activeTabLink.length === 0) {\n      this._activeTabLink = this.el.querySelector('li.tab a');\n    }\n    Array.from(this._tabLinks).forEach((a: HTMLAnchorElement) => a.classList.remove('active'));\n    this._activeTabLink.classList.add('active');\n\n      this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n      if (this._activeTabLink && this._activeTabLink.hash) {\n        this._content = document.querySelector(this._activeTabLink.hash);\n        this._content.classList.add('active');\n      }\n    }\n\n  _setupSwipeableTabs() {\n    // Change swipeable according to responsive threshold\n    if (window.innerWidth > this.options.responsiveThreshold)\n      this.options.swipeable = false;\n\n      const tabsContent = [];\n      this._tabLinks.forEach(a => {\n        if (a.hash) {\n          const currContent = document.querySelector(a.hash);\n          currContent.classList.add('carousel-item');\n          tabsContent.push(currContent);  \n        }\n      });\n\n    // Create Carousel-Wrapper around Tab-Contents\n    const tabsWrapper = document.createElement('div');\n    tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n\n    // Wrap around\n    tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n    tabsContent.forEach(tabContent => {\n      tabsWrapper.appendChild(tabContent);\n      tabContent.style.display = '';\n    });\n\n    // Keep active tab index to set initial carousel slide\n    const tab = this._activeTabLink.parentElement;\n    const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n\n    this._tabsCarousel = Carousel.init(tabsWrapper, {\n      fullWidth: true,\n      noWrap: true,\n      onCycleTo: (item) => {\n        const prevIndex = this._index;\n        this._index = Array.from(item.parentNode.children).indexOf(item);\n        this._activeTabLink.classList.remove('active');\n        this._activeTabLink = Array.from(this._tabLinks)[this._index];\n        this._activeTabLink.classList.add('active');\n        this._animateIndicator(prevIndex);\n        if (typeof this.options.onShow === 'function')\n          this.options.onShow.call(this, this._content);\n      }\n    });\n    // Set initial carousel slide to active tab\n    this._tabsCarousel.set(activeTabIndex);\n  }\n\n  _teardownSwipeableTabs() {\n    const tabsWrapper = this._tabsCarousel.el;\n    this._tabsCarousel.destroy();\n    // Unwrap\n    tabsWrapper.after(tabsWrapper.children);\n    tabsWrapper.remove();\n  }\n\n  _setupNormalTabs() {\n    // Hide Tabs Content\n    Array.from(this._tabLinks).forEach((a) => {\n      if (a === this._activeTabLink) return;\n      if ((<HTMLAnchorElement>a).hash) {\n        const currContent = document.querySelector((<HTMLAnchorElement>a).hash);\n        if (currContent) (<HTMLElement>currContent).style.display = 'none';\n      }\n    });\n  }\n\n  _teardownNormalTabs() {\n    // show Tabs Content\n    this._tabLinks.forEach((a) => {\n      if (a.hash) {\n        const currContent = document.querySelector(a.hash) as HTMLElement;\n        if (currContent) currContent.style.display = '';\n      }\n    });\n  }\n\n  _setTabsAndTabWidth() {\n    this._tabsWidth = this.el.getBoundingClientRect().width;\n    this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n  }\n\n  _calcRightPos(el) {\n    return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n  }\n\n  _calcLeftPos(el) {\n    return Math.floor(el.offsetLeft);\n  }\n\n  /**\n   * Recalculate tab indicator position. This is useful when\n   * the indicator position is not correct.\n   */\n  updateTabIndicator() {\n    this._setTabsAndTabWidth();\n    this._animateIndicator(this._index);\n  }\n\n  _animateIndicator(prevIndex) {\n    let leftDelay = 0, rightDelay = 0;\n\n    const isMovingLeftOrStaying = (this._index - prevIndex >= 0);\n    if (isMovingLeftOrStaying)\n      leftDelay = 90;\n    else\n      rightDelay = 90;\n\n    // in v1: easeOutQuad\n    this._indicator.style.transition = `\n      left ${this.options.duration}ms ease-out ${leftDelay}ms,\n      right ${this.options.duration}ms ease-out ${rightDelay}ms`;\n\n    this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n    this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n  }\n\n  /**\n   * Show tab content that corresponds to the tab with the id.\n   * @param tabId The id of the tab that you want to switch to.\n   */\n  select(tabId: string) {\n    const tab = Array.from(this._tabLinks).find((a: HTMLAnchorElement) => a.getAttribute('href') === '#'+tabId);\n    if (tab) (<HTMLAnchorElement>tab).click();\n  }\n}\n","import { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement, Openable } from \"./component\";\n\nexport interface TapTargetOptions extends BaseOptions {\n  /**\n   * Callback function called when Tap Target is opened.\n   * @default null\n   */\n  onOpen: (origin: HTMLElement) => void;\n  /**\n   * Callback function called when Tap Target is closed.\n   * @default null\n   */\n  onClose: (origin: HTMLElement) => void;\n};\n\nlet _defaults: TapTargetOptions = {\n  onOpen: null,\n  onClose: null\n};\n\nexport class TapTarget extends Component<TapTargetOptions> implements Openable {\n  /**\n   * If the tap target is open.\n   */\n  isOpen: boolean;\n\n  private wrapper: HTMLElement;\n  private _origin: HTMLElement;\n  private originEl: HTMLElement;\n  private waveEl: HTMLElement & Element & Node;\n  private contentEl: HTMLElement;\n\n  constructor(el: HTMLElement, options: Partial<TapTargetOptions>) {\n    super(el, options, TapTarget);\n    (this.el as any).M_TapTarget = this;\n\n    this.options = {\n      ...TapTarget.defaults,\n      ...options\n    };\n\n    this.isOpen = false;\n    // setup\n    this._origin = document.querySelector(`#${el.dataset.target}`);\n    this._setup();\n    this._calculatePositioning();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): TapTargetOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of TapTarget.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<TapTargetOptions>): TapTarget;\n  /**\n   * Initializes instances of TapTarget.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<TapTargetOptions>): TapTarget[];\n  /**\n   * Initializes instances of TapTarget.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<TapTargetOptions> = {}): TapTarget | TapTarget[] {\n    return super.init(els, options, TapTarget);\n  }\n\n  static getInstance(el: HTMLElement): TapTarget {\n    return (el as any).M_TapTarget;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    (this.el as any).TapTarget = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleTargetClick);\n    this.originEl.addEventListener('click', this._handleOriginClick);\n    // Resize\n    window.addEventListener('resize', this._handleThrottledResize);\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleTargetClick);\n    this.originEl.removeEventListener('click', this._handleOriginClick);\n    window.removeEventListener('resize', this._handleThrottledResize);\n  }\n\n  _handleThrottledResize: () => void = Utils.throttle(function(){ this._handleResize(); }, 200).bind(this);\n\n  _handleTargetClick = () => {\n    this.open();\n  }\n\n  _handleOriginClick = () => {\n    this.close();\n  }\n\n  _handleResize = () => {\n    this._calculatePositioning();\n  }\n\n  _handleDocumentClick = (e: MouseEvent | TouchEvent) => {\n    if (!(e.target as HTMLElement).closest('.tap-target-wrapper')) {\n      this.close();\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  _setup() {\n    // Creating tap target\n    this.wrapper = this.el.parentElement;\n    this.waveEl = this.wrapper.querySelector('.tap-target-wave');\n    this.originEl = this.wrapper.querySelector('.tap-target-origin');\n    this.contentEl = this.el.querySelector('.tap-target-content');\n    // Creating wrapper\n    if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\n      this.wrapper = document.createElement('div');\n      this.wrapper.classList.add('tap-target-wrapper');\n      this.el.before(this.wrapper);\n      this.wrapper.append(this.el);\n    }\n    // Creating content\n    if (!this.contentEl) {\n      this.contentEl = document.createElement('div');\n      this.contentEl.classList.add('tap-target-content');\n      this.el.append(this.contentEl);\n    }\n    // Creating foreground wave\n    if (!this.waveEl) {\n      this.waveEl = document.createElement('div');\n      this.waveEl.classList.add('tap-target-wave');\n      // Creating origin\n      if (!this.originEl) {\n        this.originEl = <HTMLElement>this._origin.cloneNode(true); // .clone(true, true);\n        this.originEl.classList.add('tap-target-origin');\n        this.originEl.removeAttribute('id');\n        this.originEl.removeAttribute('style');\n        this.waveEl.append(this.originEl);\n      }\n      this.wrapper.append(this.waveEl);\n    }\n  }\n\n  private _offset(el: HTMLElement) {\n    const box = el.getBoundingClientRect();\n    const docElem = document.documentElement;\n    return {\n      top: box.top + window.pageYOffset - docElem.clientTop,\n      left: box.left + window.pageXOffset - docElem.clientLeft\n    };\n  }\n\n  _calculatePositioning() {\n    // Element or parent is fixed position?\n    let isFixed = getComputedStyle(this._origin).position === 'fixed';\n    if (!isFixed) {\n\n      let currentElem: any = this._origin;\n      const parents = [];\n      while ((currentElem = currentElem.parentNode) && currentElem !== document)\n        parents.push(currentElem);\n\n      for (let i = 0; i < parents.length; i++) {\n        isFixed = getComputedStyle(parents[i]).position === 'fixed';\n        if (isFixed) break;\n      }\n    }\n    // Calculating origin\n    const originWidth = this._origin.offsetWidth;\n    const originHeight = this._origin.offsetHeight;\n    const originTop = isFixed ? this._offset(this._origin).top - Utils.getDocumentScrollTop() : this._offset(this._origin).top;\n    const originLeft = isFixed ? this._offset(this._origin).left - Utils.getDocumentScrollLeft() : this._offset(this._origin).left;\n\n    // Calculating screen\n    const windowWidth = window.innerWidth;\n    const windowHeight = window.innerHeight;\n    const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n    const centerX = windowWidth / 2;\n    const centerY = windowHeight / 2;\n    const isLeft = originLeft <= centerX;\n    const isRight = originLeft > centerX;\n    const isTop = originTop <= centerY;\n    const isBottom = originTop > centerY;\n    const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n\n    // Calculating tap target\n    const tapTargetWidth = this.el.offsetWidth;\n    const tapTargetHeight = this.el.offsetHeight;\n    const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n    const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n    const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n\n    // Calculating content\n    const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n    const tapTargetTextHeight = tapTargetHeight / 2;\n    const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n    const tapTargetTextBottom = 0;\n    const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n    const tapTargetTextRight = 0;\n    const tapTargetTextPadding = originWidth;\n    const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n\n    // Calculating wave\n    const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n    const tapTargetWaveHeight = tapTargetWaveWidth;\n    const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n    const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n\n    // Setting tap target\n    this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\n    this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\n    this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\n    this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\n    this.wrapper.style.position = tapTargetPosition;\n\n    // Setting content\n    this.contentEl.style.width = tapTargetTextWidth + 'px';\n    this.contentEl.style.height = tapTargetTextHeight + 'px';\n    this.contentEl.style.top = tapTargetTextTop + 'px';\n    this.contentEl.style.right = tapTargetTextRight + 'px';\n    this.contentEl.style.bottom = tapTargetTextBottom + 'px';\n    this.contentEl.style.left = tapTargetTextLeft + 'px';\n    this.contentEl.style.padding = tapTargetTextPadding + 'px';\n    this.contentEl.style.verticalAlign = tapTargetTextAlign;\n\n    // Setting wave\n    this.waveEl.style.top = tapTargetWaveTop+'px';\n    this.waveEl.style.left = tapTargetWaveLeft+'px';\n    this.waveEl.style.width = tapTargetWaveWidth+'px';\n    this.waveEl.style.height = tapTargetWaveHeight+'px';\n  }\n\n  /**\n   * Open Tap Target.\n   */\n  open = () => {\n    if (this.isOpen) return;\n    // onOpen callback\n    if (typeof this.options.onOpen === 'function') {\n      this.options.onOpen.call(this, this._origin);\n    }\n    this.isOpen = true;\n    this.wrapper.classList.add('open');\n    document.body.addEventListener('click', this._handleDocumentClick, true);\n    document.body.addEventListener('touchend', this._handleDocumentClick);\n  };\n\n  /**\n   * Close Tap Target.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    // onClose callback\n    if (typeof this.options.onClose === 'function') {\n      this.options.onClose.call(this, this._origin);\n    }\n    this.isOpen = false;\n    this.wrapper.classList.remove('open');\n    document.body.removeEventListener('click', this._handleDocumentClick, true);\n    document.body.removeEventListener('touchend', this._handleDocumentClick);\n  };\n}\n","import { Modal } from \"./modal\";\nimport { Utils } from \"./utils\";\nimport { Component, BaseOptions, InitElements, MElement, I18nOptions } from \"./component\";\n\nexport type Views = \"hours\" | \"minutes\";\n\nexport interface TimepickerOptions extends BaseOptions {\n  /**\n   * Dial radius.\n   * @default 135\n   */\n  dialRadius: number;\n  /**\n   * Outer radius.\n   * @default 105\n   */\n  outerRadius: number;\n  /**\n   * Inner radius.\n   * @default 70\n   */\n  innerRadius: number;\n  /**\n   * Tick radius.\n   * @default 20\n   */\n  tickRadius: number;\n  /**\n   * Duration of the transition from/to the hours/minutes view.\n   * @default 350\n   */\n  duration: number;\n  /**\n   * Specify a DOM element OR selector for a DOM element to render\n   * the time picker in, by default it will be placed before the input.\n   * @default null\n   */\n  container: HTMLElement | string | null;\n  /**\n   * Show the clear button in the Timepicker.\n   * @default false\n   */\n  showClearBtn: boolean;\n  /**\n   * Default time to set on the timepicker 'now' or '13:14'.\n   * @default 'now';\n   */\n  defaultTime: string;\n  /**\n   * Millisecond offset from the defaultTime.\n   * @default 0\n   */\n  fromNow: number;\n  /**\n   * Internationalization options.\n   */\n  i18n: Partial<I18nOptions>;\n  /**\n   * Automatically close picker when minute is selected.\n   * @default false;\n   */\n  autoClose: boolean;\n  /**\n   * Use 12 hour AM/PM clock instead of 24 hour clock.\n   * @default true\n   */\n  twelveHour: boolean;\n  /**\n   * Vibrate device when dragging clock hand.\n   * @default true\n   */\n  vibrate: boolean;\n  /**\n   * Callback function called before modal is opened.\n   * @default null\n   */\n  onOpenStart: (el: HTMLElement) => void;\n  /**\n   * Callback function called after modal is opened.\n   * @default null\n   */\n  onOpenEnd: (el: HTMLElement) => void;\n  /**\n   * Callback function called before modal is closed.\n   * @default null\n   */\n  onCloseStart: (el: HTMLElement) => void;\n  /**\n   * Callback function called after modal is closed.\n   * @default null\n   */\n  onCloseEnd: (el: HTMLElement) => void;\n  /**\n   * Callback function when a time is selected.\n   * @default null\n   */\n  onSelect: (hour: number, minute: number) => void;\n}\n\nlet _defaults: TimepickerOptions = {\n  dialRadius: 135,\n  outerRadius: 105,\n  innerRadius: 70,\n  tickRadius: 20,\n  duration: 350,\n  container: null,\n  defaultTime: 'now', // default time, 'now' or '13:14' e.g.\n  fromNow: 0, // Millisecond offset from the defaultTime\n  showClearBtn: false,\n  // internationalization\n  i18n: {\n    cancel: 'Cancel',\n    clear: 'Clear',\n    done: 'Ok'\n  },\n  autoClose: false, // auto close when minute is selected\n  twelveHour: true, // change to 12 hour AM/PM clock from 24 hour\n  vibrate: true, // vibrate the device when dragging clock hand\n  // Callbacks\n  onOpenStart: null,\n  onOpenEnd: null,\n  onCloseStart: null,\n  onCloseEnd: null,\n  onSelect: null\n};\n\ntype Point = {\n  x: number,\n  y: number\n};\n\nexport class Timepicker extends Component<TimepickerOptions> {\n  declare el: HTMLInputElement;\n  id: string;\n  modal: Modal;\n  modalEl: HTMLElement;\n  plate: any;\n  digitalClock: any;\n  inputHours: HTMLInputElement;\n  inputMinutes: HTMLInputElement;\n  x0: number;\n  y0: number;\n  moved: boolean;\n  dx: number;\n  dy: number;\n  /**\n   * Current view on the timepicker.\n   * @default 'hours'\n   */\n  currentView: Views;\n  hand: any;\n  minutesView: HTMLElement;\n  hours: any;\n  minutes: any;\n  /** The selected time. */\n  time: string;\n  /**\n   * If the time is AM or PM on twelve-hour clock.\n   * @default 'PM'\n   */\n  amOrPm: \"AM\" | \"PM\";\n  static _template: any;\n  /** If the picker is open. */\n  isOpen: boolean;\n  /** Vibrate device when dragging clock hand. */\n  vibrate: \"vibrate\" | \"webkitVibrate\" | null;\n  _canvas: HTMLElement;\n  hoursView: any;\n  spanAmPm: HTMLSpanElement;\n  footer: HTMLElement;\n  private _amBtn: HTMLElement;\n  private _pmBtn: HTMLElement;\n  bg: Element;\n  bearing: Element;\n  g: Element;\n  toggleViewTimer: string | number | NodeJS.Timeout;\n  canvas: any;\n  vibrateTimer: any;\n\n  constructor(el: HTMLInputElement, options: Partial<TimepickerOptions>) {\n    super(el, options, Timepicker);\n    (this.el as any).M_Timepicker = this;\n\n    this.options = {\n      ...Timepicker.defaults,\n      ...options\n    };\n\n    this.id = Utils.guid();\n    this._insertHTMLIntoDOM();\n    this._setupModal();\n    this._setupVariables();\n    this._setupEventHandlers();\n    this._clockSetup();\n    this._pickerSetup();\n  }\n\n  static get defaults(): TimepickerOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Timepicker.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLInputElement, options?: Partial<TimepickerOptions>): Timepicker;\n  /**\n   * Initializes instances of Timepicker.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<HTMLInputElement | MElement>, options?: Partial<TimepickerOptions>): Timepicker[];\n  /**\n   * Initializes instances of Timepicker.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLInputElement | InitElements<HTMLInputElement | MElement>, options: Partial<TimepickerOptions> = {}): Timepicker | Timepicker[] {\n    return super.init(els, options, Timepicker);\n  }\n\n  static _addLeadingZero(num: number) {\n    return (num < 10 ? '0' : '') + num;\n  }\n\n  static _createSVGEl(name: string) {\n    let svgNS = 'http://www.w3.org/2000/svg';\n    return document.createElementNS(svgNS, name);\n  }\n\n  static _Pos(e: TouchEvent | MouseEvent): Point {\n    if (e.type.startsWith(\"touch\") && (e as TouchEvent).targetTouches.length >= 1) {\n      return { x: (e as TouchEvent).targetTouches[0].clientX, y: (e as TouchEvent).targetTouches[0].clientY };\n    }\n    // mouse event\n    return { x: (e as MouseEvent).clientX, y: (e as MouseEvent).clientY };\n  }\n\n  static getInstance(el: HTMLElement): Timepicker {\n    return (el as any).M_Timepicker;\n  }\n\n  destroy() {\n    this._removeEventHandlers();\n    this.modal.destroy();\n    this.modalEl.remove();\n    (this.el as any).M_Timepicker = undefined;\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('click', this._handleInputClick);\n    this.el.addEventListener('keydown', this._handleInputKeydown);\n    this.plate.addEventListener('mousedown', this._handleClockClickStart);\n    this.plate.addEventListener('touchstart', this._handleClockClickStart);\n    this.digitalClock.addEventListener('keyup', this._inputFromTextField);\n    this.inputHours.addEventListener('click', () => this.showView('hours'));\n    this.inputMinutes.addEventListener('click', () => this.showView('minutes'));\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('click', this._handleInputClick);\n    this.el.removeEventListener('keydown', this._handleInputKeydown);\n  }\n\n  _handleInputClick = () => {\n    this.open();\n  }\n\n  _handleInputKeydown = (e: KeyboardEvent) => {\n    if (Utils.keys.ENTER.includes(e.key)) {\n      e.preventDefault();\n      this.open();\n    }\n  }\n\n  _handleTimeInputEnterKey = (e: KeyboardEvent) => {\n    if (Utils.keys.ENTER.includes(e.key)) {\n      e.preventDefault();\n      this._inputFromTextField();\n    }\n  }\n\n  _handleClockClickStart = (e) => {\n    e.preventDefault();\n    let clockPlateBR = this.plate.getBoundingClientRect();\n    let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n\n    this.x0 = offset.x + this.options.dialRadius;\n    this.y0 = offset.y + this.options.dialRadius;\n    this.moved = false;\n    let clickPos = Timepicker._Pos(e);\n    this.dx = clickPos.x - this.x0;\n    this.dy = clickPos.y - this.y0;\n\n    // Set clock hands\n    this.setHand(this.dx, this.dy, false);\n    // Mousemove on document\n    document.addEventListener('mousemove', this._handleDocumentClickMove);\n    document.addEventListener('touchmove', this._handleDocumentClickMove);\n    // Mouseup on document\n    document.addEventListener('mouseup', this._handleDocumentClickEnd);\n    document.addEventListener('touchend', this._handleDocumentClickEnd);\n  }\n\n  _handleDocumentClickMove = (e) => {\n    e.preventDefault();\n    let clickPos = Timepicker._Pos(e);\n    let x = clickPos.x - this.x0;\n    let y = clickPos.y - this.y0;\n    this.moved = true;\n    this.setHand(x, y, false);\n  }\n\n  _handleDocumentClickEnd = (e) => {\n    e.preventDefault();\n    document.removeEventListener('mouseup', this._handleDocumentClickEnd);\n    document.removeEventListener('touchend', this._handleDocumentClickEnd);\n    let clickPos = Timepicker._Pos(e);\n    let x = clickPos.x - this.x0;\n    let y = clickPos.y - this.y0;\n    if (this.moved && x === this.dx && y === this.dy) {\n      this.setHand(x, y);\n    }\n    if (this.currentView === 'hours') {\n      this.showView('minutes', this.options.duration / 2);\n    }\n    else if (this.options.autoClose) {\n      this.minutesView.classList.add('timepicker-dial-out');\n      setTimeout(() => {\n        this.done();\n      }, this.options.duration / 2);\n    }\n    if (typeof this.options.onSelect === 'function') {\n      this.options.onSelect.call(this, this.hours, this.minutes);\n    }\n    // Unbind mousemove event\n    document.removeEventListener('mousemove', this._handleDocumentClickMove);\n    document.removeEventListener('touchmove', this._handleDocumentClickMove);\n  }\n\n  _insertHTMLIntoDOM() {\n    const template = document.createElement('template');\n    template.innerHTML = Timepicker._template.trim();\n    this.modalEl = <HTMLElement>template.content.firstChild;\n    this.modalEl.id = 'modal-' + this.id;\n\n    // Append popover to input by default\n    const optEl = this.options.container;\n    const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n\n    if (this.options.container && !!containerEl) {\n      containerEl.append(this.modalEl);\n    }\n    else {\n      this.el.parentElement.appendChild(this.modalEl);\n    }\n  }\n\n  _setupModal() {\n    this.modal = Modal.init(this.modalEl, {\n      onOpenStart: this.options.onOpenStart,\n      onOpenEnd: this.options.onOpenEnd,\n      onCloseStart: this.options.onCloseStart,\n      onCloseEnd: () => {\n        if (typeof this.options.onCloseEnd === 'function') {\n          this.options.onCloseEnd.call(this);\n        }\n        this.isOpen = false;\n      }\n    });\n  }\n\n  _setupVariables() {\n    this.currentView = 'hours';\n    this.vibrate = navigator.vibrate\n      ? 'vibrate'\n      : (navigator as any).webkitVibrate\n      ? 'webkitVibrate'\n      : null;\n    this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n    this.plate = this.modalEl.querySelector('.timepicker-plate');\n    this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n    this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n    this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n    this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n    this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n    this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n    this.footer = this.modalEl.querySelector('.timepicker-footer');\n    this.amOrPm = 'PM';\n  }\n\n  private _createButton(text: string, visibility: string): HTMLButtonElement {\n    const button = document.createElement('button');\n    button.classList.add('btn-flat', 'waves-effect');\n    button.style.visibility = visibility;\n    button.type = 'button';\n    button.tabIndex = this.options.twelveHour ? 3 : 1;\n    button.innerText = text;\n    return button;\n  }\n\n  _pickerSetup() {\n    const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\n    clearButton.classList.add('timepicker-clear');\n    clearButton.addEventListener('click', this.clear);\n    this.footer.appendChild(clearButton);\n\n    const confirmationBtnsContainer = document.createElement('div');\n    confirmationBtnsContainer.classList.add('confirmation-btns');\n    this.footer.append(confirmationBtnsContainer);\n\n    const cancelButton = this._createButton(this.options.i18n.cancel, '');\n    cancelButton.classList.add('timepicker-close');\n    cancelButton.addEventListener('click', this.close);\n    confirmationBtnsContainer.appendChild(cancelButton);\n\n    const doneButton = this._createButton(this.options.i18n.done, '');\n    doneButton.classList.add('timepicker-close');\n    doneButton.addEventListener('click', this.done);\n    confirmationBtnsContainer.appendChild(doneButton);\n  }\n\n  _clockSetup() {\n    if (this.options.twelveHour) {\n      // AM Button\n      this._amBtn = document.createElement('div');\n      this._amBtn.classList.add('am-btn');\n      this._amBtn.innerText = 'AM';\n      this._amBtn.addEventListener('click', this._handleAmPmClick);\n      this.spanAmPm.appendChild(this._amBtn);\n      // PM Button\n      this._pmBtn = document.createElement('div');\n      this._pmBtn.classList.add('pm-btn');\n      this._pmBtn.innerText = 'PM';\n      this._pmBtn.addEventListener('click', this._handleAmPmClick);\n      this.spanAmPm.appendChild(this._pmBtn);\n    }\n    this._buildHoursView();\n    this._buildMinutesView();\n    this._buildSVGClock();\n  }\n\n  _buildSVGClock() {\n    // Draw clock hands and others\n    let dialRadius = this.options.dialRadius;\n    let tickRadius = this.options.tickRadius;\n    let diameter = dialRadius * 2;\n    let svg = Timepicker._createSVGEl('svg');\n    svg.setAttribute('class', 'timepicker-svg');\n    svg.setAttribute('width', diameter.toString());\n    svg.setAttribute('height', diameter.toString());\n    let g = Timepicker._createSVGEl('g');\n    g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n    let bearing = Timepicker._createSVGEl('circle');\n    bearing.setAttribute('class', 'timepicker-canvas-bearing');\n    bearing.setAttribute('cx', '0');\n    bearing.setAttribute('cy', '0');\n    bearing.setAttribute('r', '4');\n    let hand = Timepicker._createSVGEl('line');\n    hand.setAttribute('x1', '0');\n    hand.setAttribute('y1', '0');\n    let bg = Timepicker._createSVGEl('circle');\n    bg.setAttribute('class', 'timepicker-canvas-bg');\n    bg.setAttribute('r', tickRadius.toString());\n    g.appendChild(hand);\n    g.appendChild(bg);\n    g.appendChild(bearing);\n    svg.appendChild(g);\n    this._canvas.appendChild(svg);\n    this.hand = hand;\n    this.bg = bg;\n    this.bearing = bearing;\n    this.g = g;\n  }\n\n  _buildHoursView() {\n    const $tick = document.createElement('div');\n    $tick.classList.add('timepicker-tick');\n    // Hours view\n    if (this.options.twelveHour) {\n      for (let i = 1; i < 13; i += 1) {\n        const tick = <HTMLElement>$tick.cloneNode(true);\n        const radian = (i / 6) * Math.PI;\n        const radius = this.options.outerRadius;\n        tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n        tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n        tick.innerHTML = i === 0 ? '00' : i.toString();\n        this.hoursView.appendChild(tick);\n        // tick.on(mousedownEvent, mousedown);\n      }\n    }\n    else {\n      for (let i = 0; i < 24; i += 1) {\n        const tick = <HTMLElement>$tick.cloneNode(true);\n        const radian = (i / 6) * Math.PI;\n        const inner = i > 0 && i < 13;\n        const radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n        tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n        tick.innerHTML = i === 0 ? '00' : i.toString();\n        this.hoursView.appendChild(tick);\n        // tick.on(mousedownEvent, mousedown);\n      }\n    }\n  }\n\n  _buildMinutesView() {\n    const _tick = document.createElement('div');\n    _tick.classList.add('timepicker-tick');\n    // Minutes view\n    for (let i = 0; i < 60; i += 5) {\n      const tick = <HTMLElement>_tick.cloneNode(true);\n      const radian = (i / 30) * Math.PI;\n      tick.style.left =\n        this.options.dialRadius +\n        Math.sin(radian) * this.options.outerRadius -\n        this.options.tickRadius +\n        'px';\n      tick.style.top =\n          this.options.dialRadius -\n          Math.cos(radian) * this.options.outerRadius -\n          this.options.tickRadius +\n          'px';\n      tick.innerHTML = Timepicker._addLeadingZero(i);\n      this.minutesView.appendChild(tick);\n    }\n  }\n\n  _handleAmPmClick = (e) => {\n    const btnClicked = <HTMLElement>e.target;\n    this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\n    this._updateAmPmView();\n  }\n\n  _updateAmPmView() {\n    if (this.options.twelveHour) {\n      if (this.amOrPm === 'PM') {\n        this._amBtn.classList.remove('text-primary');\n        this._pmBtn.classList.add('text-primary');\n      }\n      else if (this.amOrPm === 'AM') {\n        this._amBtn.classList.add('text-primary');\n        this._pmBtn.classList.remove('text-primary');\n      }\n    }\n  }\n\n  _updateTimeFromInput() {\n    // Get the time\n    let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n    if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n      if (value[1].toUpperCase().indexOf('AM') > 0) {\n        this.amOrPm = 'AM';\n      } else {\n        this.amOrPm = 'PM';\n      }\n      value[1] = value[1].replace('AM', '').replace('PM', '');\n    }\n    if (value[0] === 'now') {\n      let now = new Date(+new Date() + this.options.fromNow);\n      value = [now.getHours().toString(), now.getMinutes().toString()];\n      if (this.options.twelveHour) {\n        this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n      }\n    }\n    this.hours = +value[0] || 0;\n    this.minutes = +value[1] || 0;\n    this.inputHours.value = this.hours;\n    this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n\n    this._updateAmPmView();\n  }\n\n  /**\n   * Show hours or minutes view on timepicker.\n   * @param view The name of the view you want to switch to, 'hours' or 'minutes'.\n   */\n  showView = (view: Views, delay: number = null) => {\n    if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\n      // raiseCallback(this.options.beforeHourSelect);\n    }\n    let isHours = view === 'hours',\n      nextView = isHours ? this.hoursView : this.minutesView,\n      hideView = isHours ? this.minutesView : this.hoursView;\n    this.currentView = view;\n\n    if (isHours) {\n      this.inputHours.classList.add('text-primary');\n      this.inputMinutes.classList.remove('text-primary');\n    }\n    else {\n      this.inputHours.classList.remove('text-primary');\n      this.inputMinutes.classList.add('text-primary');\n    }\n\n    // Transition view\n    hideView.classList.add('timepicker-dial-out');\n\n    nextView.style.visibility = 'visible';\n    nextView.classList.remove('timepicker-dial-out');\n\n    // Reset clock hand\n    this.resetClock(delay);\n    // After transitions ended\n    clearTimeout(this.toggleViewTimer);\n    this.toggleViewTimer = setTimeout(() => {\n      hideView.style.visibility = 'hidden';\n    }, this.options.duration);\n  }\n\n  resetClock(delay) {\n    let view = this.currentView,\n      value = this[view],\n      isHours = view === 'hours',\n      unit = Math.PI / (isHours ? 6 : 30),\n      radian = value * unit,\n      radius =\n        isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius,\n      x = Math.sin(radian) * radius,\n      y = -Math.cos(radian) * radius,\n      self = this;\n\n    if (delay) {\n      this.canvas?.classList.add('timepicker-canvas-out');\n      setTimeout(() => {\n        self.canvas?.classList.remove('timepicker-canvas-out');\n        self.setHand(x, y);\n      }, delay);\n    }\n    else {\n      this.setHand(x, y);\n    }\n  }\n\n  _inputFromTextField = () => {\n    const isHours = this.currentView === 'hours';\n    if (isHours) {\n      const value = parseInt(this.inputHours.value);\n      if (value > 0 && value < 13) {\n        this.drawClockFromTimeInput(value, isHours);\n        this.showView('minutes', this.options.duration / 2);\n        this.hours = value;\n        this.inputMinutes.focus();\n      }\n      else {\n        const hour = new Date().getHours();\n        this.inputHours.value = (hour % 12).toString();\n      }\n    }\n    else {\n      const value = parseInt(this.inputMinutes.value);\n      if (value >= 0 && value < 60) {\n        this.inputMinutes.value = Timepicker._addLeadingZero(value);\n        this.drawClockFromTimeInput(value, isHours);\n        this.minutes = value;\n        (<HTMLElement>this.modalEl.querySelector('.confirmation-btns :nth-child(2)')).focus();\n      }\n      else {\n        const minutes = new Date().getMinutes();\n        this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\n      }\n    }\n  }\n\n  drawClockFromTimeInput(value, isHours) {\n    const unit = Math.PI / (isHours ? 6 : 30);\n    const radian = value * unit;\n    let radius;\n    if (this.options.twelveHour) {\n      radius = this.options.outerRadius;\n    }\n    let cx1 = Math.sin(radian) * (radius - this.options.tickRadius),\n      cy1 = -Math.cos(radian) * (radius - this.options.tickRadius),\n      cx2 = Math.sin(radian) * radius,\n      cy2 = -Math.cos(radian) * radius;\n    this.hand.setAttribute('x2', cx1.toString());\n    this.hand.setAttribute('y2', cy1.toString());\n    this.bg.setAttribute('cx', cx2.toString());\n    this.bg.setAttribute('cy', cy2.toString());\n  }\n\n  setHand(x, y, roundBy5: boolean = false) {\n    let radian = Math.atan2(x, -y),\n      isHours = this.currentView === 'hours',\n      unit = Math.PI / (isHours || roundBy5 ? 6 : 30),\n      z = Math.sqrt(x * x + y * y),\n      inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2,\n      radius = inner ? this.options.innerRadius : this.options.outerRadius;\n\n    if (this.options.twelveHour) {\n      radius = this.options.outerRadius;\n    }\n\n    // Radian should in range [0, 2PI]\n    if (radian < 0) {\n      radian = Math.PI * 2 + radian;\n    }\n\n    // Get the round value\n    let value = Math.round(radian / unit);\n\n    // Get the round radian\n    radian = value * unit;\n\n    // Correct the hours or minutes\n    if (this.options.twelveHour) {\n      if (isHours) {\n        if (value === 0) value = 12;\n      } else {\n        if (roundBy5) value *= 5;\n        if (value === 60) value = 0;\n      }\n    } else {\n      if (isHours) {\n        if (value === 12) {\n          value = 0;\n        }\n        value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n      } else {\n        if (roundBy5) {\n          value *= 5;\n        }\n        if (value === 60) {\n          value = 0;\n        }\n      }\n    }\n\n    // Once hours or minutes changed, vibrate the device\n    if (this[this.currentView] !== value) {\n      if (this.vibrate && this.options.vibrate) {\n        // Do not vibrate too frequently\n        if (!this.vibrateTimer) {\n          navigator[this.vibrate](10);\n          this.vibrateTimer = setTimeout(() => {\n            this.vibrateTimer = null;\n          }, 100);\n        }\n      }\n    }\n\n    this[this.currentView] = value;\n    if (isHours) {\n      this.inputHours.value = value.toString();\n    }\n    else {\n      this.inputMinutes.value = Timepicker._addLeadingZero(value);\n    }\n\n    // Set clock hand and others' position\n    let cx1 = Math.sin(radian) * (radius - this.options.tickRadius),\n      cy1 = -Math.cos(radian) * (radius - this.options.tickRadius),\n      cx2 = Math.sin(radian) * radius,\n      cy2 = -Math.cos(radian) * radius;\n    this.hand.setAttribute('x2', cx1.toString());\n    this.hand.setAttribute('y2', cy1.toString());\n    this.bg.setAttribute('cx', cx2.toString());\n    this.bg.setAttribute('cy', cy2.toString());\n  }\n\n  /**\n   * Open timepicker.\n   */\n  open = () => {\n    if (this.isOpen) return;\n    this.isOpen = true;\n    this._updateTimeFromInput();\n    this.showView('hours');\n    this.modal.open(undefined);\n  }\n\n  /**\n   * Close timepicker.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    this.isOpen = false;\n    this.modal.close();\n  }\n\n  done = (e = null, clearValue = null) => {\n    // Set input value\n    let last = this.el.value;\n    let value = clearValue\n      ? ''\n      : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n    this.time = value;\n    if (!clearValue && this.options.twelveHour) {\n      value = `${value} ${this.amOrPm}`;\n    }\n    this.el.value = value;\n    // Trigger change event\n    if (value !== last) {\n      this.el.dispatchEvent(new Event('change',{bubbles:true, cancelable:true, composed:true}));\n    }\n    this.close();\n    this.el.focus();\n  }\n\n  clear = () => {\n    this.done(null, true);\n  }\n\n  static {\n    Timepicker._template = `\n      <div class=\"modal timepicker-modal\">\n        <div class=\"modal-content timepicker-container\">\n          <div class=\"timepicker-digital-display\">\n            <div class=\"timepicker-text-container\">\n              <div class=\"timepicker-display-column\">\n                <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\n                :\n                <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\n              </div>\n              <div class=\"timepicker-display-column timepicker-display-am-pm\">\n                <div class=\"timepicker-span-am-pm\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"timepicker-analog-display\">\n            <div class=\"timepicker-plate\">\n              <div class=\"timepicker-canvas\"></div>\n              <div class=\"timepicker-dial timepicker-hours\"></div>\n              <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\n            </div>\n            <div class=\"timepicker-footer\"></div>\n          </div>\n        </div>\n      </div`;\n  }\n}\n","import { BaseOptions } from \"./component\";\n\nexport interface ToastOptions extends BaseOptions {\n  /**\n   * The content of the Toast.\n   * @default \"\"\n   */\n  text: string;\n  /**\n   * Element Id for the tooltip.\n   * @default \"\"\n   */\n  toastId?: string;\n  /**\n   * Length in ms the Toast stays before dismissal.\n   * @default 4000\n   */\n  displayLength: number;\n  /**\n   * Transition in duration in milliseconds.\n   * @default 300\n   */\n  inDuration: number;\n  /**\n   * Transition out duration in milliseconds.\n   * @default 375\n   */\n  outDuration: number;\n  /**\n   * Classes to be added to the toast element.\n   * @default \"\"\n   */\n  classes: string;\n  /**\n   * Callback function called when toast is dismissed.\n   * @default null\n   */\n  completeCallback: () => void;\n  /**\n   * The percentage of the toast's width it takes fora drag\n   * to dismiss a Toast.\n   * @default 0.8\n   */\n  activationPercent: number;\n}\n\nlet _defaults: ToastOptions = {\n  text: '',\n  displayLength: 4000,\n  inDuration: 300,\n  outDuration: 375,\n  classes: '',\n  completeCallback: null,\n  activationPercent: 0.8\n};\n\nexport class Toast {\n  /** The toast element. */\n  el: HTMLElement;\n  /**\n   * The remaining amount of time in ms that the toast\n   * will stay before dismissal.\n   */\n  timeRemaining: number;\n  /**\n   * Describes the current pan state of the Toast.\n   */\n  panning: boolean;\n  options: ToastOptions;\n  message: string;\n  counterInterval: NodeJS.Timeout;\n  wasSwiped: boolean;\n  startingXPos: number;\n  xPos: number;\n  time: number;\n  deltaX: number;\n  velocityX: number;\n\n  static _toasts: Toast[];\n  static _container: any;\n  static _draggedToast: Toast;\n\n  constructor(options: Partial<ToastOptions>) {\n    this.options = {\n      ...Toast.defaults,\n      ...options\n    };\n    this.message = this.options.text;\n    this.panning = false;\n    this.timeRemaining = this.options.displayLength;\n    if (Toast._toasts.length === 0) {\n      Toast._createContainer();\n    }\n    // Create new toast\n    Toast._toasts.push(this);\n    let toastElement = this._createToast();\n    (toastElement as any).M_Toast = this;\n    this.el = toastElement;\n    this._animateIn();\n    this._setTimer();\n  }\n\n  static get defaults(): ToastOptions {\n    return _defaults;\n  }\n\n  static getInstance(el: HTMLElement): Toast {\n    return (el as any).M_Toast;\n  }\n\n  static _createContainer() {\n    const container = document.createElement('div');\n    container.setAttribute('id', 'toast-container');\n    // Add event handler\n    container.addEventListener('touchstart', Toast._onDragStart);\n    container.addEventListener('touchmove', Toast._onDragMove);\n    container.addEventListener('touchend', Toast._onDragEnd);\n    container.addEventListener('mousedown', Toast._onDragStart);\n    document.addEventListener('mousemove', Toast._onDragMove);\n    document.addEventListener('mouseup', Toast._onDragEnd);\n    document.body.appendChild(container);\n    Toast._container = container;\n  }\n\n  static _removeContainer() {\n    document.removeEventListener('mousemove', Toast._onDragMove);\n    document.removeEventListener('mouseup', Toast._onDragEnd);\n    Toast._container.remove();\n    Toast._container = null;\n  }\n\n  static _onDragStart(e: TouchEvent | MouseEvent) {\n    if (e.target && (<HTMLElement>e.target).closest('.toast')) {\n      const toastElem = (<HTMLElement>e.target).closest('.toast');\n      const toast: Toast = (toastElem as any).M_Toast;\n      toast.panning = true;\n      Toast._draggedToast = toast;\n      toast.el.classList.add('panning');\n      toast.el.style.transition = '';\n      toast.startingXPos = Toast._xPos(e);\n      toast.time = Date.now();\n      toast.xPos = Toast._xPos(e);\n    }\n  }\n\n  static _onDragMove(e: TouchEvent | MouseEvent) {\n    if (!!Toast._draggedToast) {\n      e.preventDefault();\n      const toast = Toast._draggedToast;\n      toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n      toast.xPos = Toast._xPos(e);\n      toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n      toast.time = Date.now();\n\n      const totalDeltaX = toast.xPos - toast.startingXPos;\n      const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n      toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n      toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\n    }\n  }\n\n  static _onDragEnd() {\n    if (!!Toast._draggedToast) {\n      let toast = Toast._draggedToast;\n      toast.panning = false;\n      toast.el.classList.remove('panning');\n\n      let totalDeltaX = toast.xPos - toast.startingXPos;\n      let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n      let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n\n      // Remove toast\n      if (shouldBeDismissed) {\n        toast.wasSwiped = true;\n        toast.dismiss();\n        // Animate toast back to original position\n      }\n      else {\n        toast.el.style.transition = 'transform .2s, opacity .2s';\n        toast.el.style.transform = '';\n        toast.el.style.opacity = '';\n      }\n      Toast._draggedToast = null;\n    }\n  }\n\n  static _xPos(e: TouchEvent | MouseEvent) {\n    if (e.type.startsWith(\"touch\") && (e as TouchEvent).targetTouches.length >= 1) {\n      return (e as TouchEvent).targetTouches[0].clientX;\n    }\n    // mouse event\n    return (e as MouseEvent).clientX;\n  }\n\n  /**\n   * dismiss all toasts.\n   */\n  static dismissAll() {\n    for (let toastIndex in Toast._toasts) {\n      Toast._toasts[toastIndex].dismiss();\n    }\n  }\n\n  _createToast() {\n    const toast = this.options.toastId \n      ? document.getElementById(this.options.toastId)\n      : document.createElement('div');\n    toast.classList.add('toast');\n    toast.setAttribute('role', 'alert');\n    toast.setAttribute('aria-live', 'assertive');\n    toast.setAttribute('aria-atomic', 'true');\n    // Add custom classes onto toast\n    if (this.options.classes.length > 0) {\n      toast.classList.add(...this.options.classes.split(' '));\n    }\n    if (this.message) toast.innerText = this.message;\n    Toast._container.appendChild(toast);\n    return toast;\n  }\n\n  _animateIn() {\n    // Animate toast in\n    this.el.style.display = \"\";\n    this.el.style.opacity = '0';\n    // easeOutCubic\n    this.el.style.transition = `\n      top ${this.options.inDuration}ms ease,\n      opacity ${this.options.inDuration}ms ease\n    `;\n    setTimeout(() => {\n      this.el.style.top = '0';\n      this.el.style.opacity = '1';      \n    }, 1); \n  }\n\n  /**\n   * Create setInterval which automatically removes toast when timeRemaining >= 0\n   * has been reached.\n   */\n  _setTimer() {\n    if (this.timeRemaining !== Infinity) {\n      this.counterInterval = setInterval(() => {\n        // If toast is not being dragged, decrease its time remaining\n        if (!this.panning) {\n          this.timeRemaining -= 20;\n        }\n        // Animate toast out\n        if (this.timeRemaining <= 0) {\n          this.dismiss();\n        }\n      }, 20);\n    }\n  }\n\n  /**\n   * Dismiss toast with animation.\n   */\n  dismiss() {\n    window.clearInterval(this.counterInterval);\n    let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n\n    if (this.wasSwiped) {\n      this.el.style.transition = 'transform .05s, opacity .05s';\n      this.el.style.transform = `translateX(${activationDistance}px)`;\n      this.el.style.opacity = '0';\n    }\n\n    // easeOutExpo\n    this.el.style.transition = `\n      margin ${this.options.outDuration}ms ease,\n      opacity ${this.options.outDuration}ms ease`;\n\n    setTimeout(() => {\n      this.el.style.opacity = '0';\n      this.el.style.marginTop = '-40px';      \n    }, 1);\n\n    setTimeout(() => {\n      // Call the optional callback\n      if (typeof this.options.completeCallback === 'function') {\n        this.options.completeCallback();\n      }\n      // Remove toast from DOM\n      if (!this.options.toastId) {\n        this.el.remove();\n        Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n        if (Toast._toasts.length === 0) {\n          Toast._removeContainer();\n        }\n      }\n    }, this.options.outDuration);\n  }\n\n  static {\n    Toast._toasts = [];\n    Toast._container = null;\n    Toast._draggedToast = null;\n  }\n}","import { Utils } from \"./utils\";\nimport { Bounding } from \"./bounding\";\nimport { Component, BaseOptions, InitElements, MElement } from \"./component\";\n\nexport type TooltipPosition = 'top' | 'right' | 'bottom' | 'left';\n\nexport interface TooltipOptions extends BaseOptions {\n  /**\n   * Delay time before tooltip disappears.\n   * @default 200\n   */\n  exitDelay: number;\n  /**\n   * Delay time before tooltip appears.\n   * @default 0\n   */\n  enterDelay: number;\n  /**\n   * Element Id for the tooltip.\n   * @default \"\"\n   */\n  tooltipId?: string;\n  /**\n   * Text string for the tooltip.\n   * @default \"\"\n   */\n  text: string;\n  /**\n   * Set distance tooltip appears away from its activator\n   * excluding transitionMovement.\n   * @default 5\n   */\n  margin: number;\n  /**\n   * Enter transition duration.\n   * @default 300\n   */\n  inDuration: number;\n  /**\n   * Opacity of the tooltip.\n   * @default 1\n   */\n  opacity: number;\n  /**\n   * Exit transition duration.\n   * @default 250\n   */\n  outDuration: number;\n  /**\n   * Set the direction of the tooltip.\n   * @default 'bottom'\n   */\n  position: TooltipPosition;\n  /**\n   * Amount in px that the tooltip moves during its transition.\n   * @default 10\n   */\n  transitionMovement: number;\n}\n\nconst _defaults: TooltipOptions = {\n  exitDelay: 200,\n  enterDelay: 0,\n  text: '',\n  margin: 5,\n  inDuration: 250,\n  outDuration: 200,\n  position: 'bottom' as TooltipPosition,\n  transitionMovement: 10,\n  opacity: 1\n};\n\nexport class Tooltip extends Component<TooltipOptions> {\n  /**\n   * If tooltip is open.\n   */\n  isOpen: boolean;\n  /**\n   * If tooltip is hovered.\n   */\n  isHovered: boolean;\n  /**\n   * If tooltip is focused.\n   */\n  isFocused: boolean;\n  tooltipEl: HTMLElement;\n  private _exitDelayTimeout: string | number | NodeJS.Timeout;\n  private _enterDelayTimeout: string | number | NodeJS.Timeout;\n  xMovement: number;\n  yMovement: number;\n\n  constructor(el: HTMLElement, options: Partial<TooltipOptions>) {\n    super(el, options, Tooltip);\n    (this.el as any).M_Tooltip = this;\n\n    this.options = {\n      ...Tooltip.defaults,\n      ...this._getAttributeOptions(),\n      ...options\n    };\n    \n    this.isOpen = false;\n    this.isHovered = false;\n    this.isFocused = false;\n    this._appendTooltipEl();\n    this._setupEventHandlers();\n  }\n\n  static get defaults(): TooltipOptions {\n    return _defaults;\n  }\n\n  /**\n   * Initializes instance of Tooltip.\n   * @param el HTML element.\n   * @param options Component options.\n   */\n  static init(el: HTMLElement, options?: Partial<TooltipOptions>): Tooltip;\n  /**\n   * Initializes instances of Tooltip.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: InitElements<MElement>, options?: Partial<TooltipOptions>): Tooltip[];\n  /**\n   * Initializes instances of Tooltip.\n   * @param els HTML elements.\n   * @param options Component options.\n   */\n  static init(els: HTMLElement | InitElements<MElement>, options: Partial<TooltipOptions> = {}): Tooltip | Tooltip[] {\n    return super.init(els, options, Tooltip);\n  }\n\n  static getInstance(el: HTMLElement): Tooltip {\n    return (el as any).M_Tooltip;\n  }\n\n  destroy() {\n    this.tooltipEl.remove();\n    this._removeEventHandlers();\n    (this.el as any).M_Tooltip = undefined;\n  }\n\n  _appendTooltipEl() {\n    this.tooltipEl = document.createElement('div');\n    this.tooltipEl.classList.add('material-tooltip');\n\n    const tooltipContentEl = this.options.tooltipId \n      ? document.getElementById(this.options.tooltipId)\n      : document.createElement('div');\n    this.tooltipEl.append( tooltipContentEl);\n    tooltipContentEl.style.display = \"\"; \n    \n    tooltipContentEl.classList.add('tooltip-content');\n    this._setTooltipContent(tooltipContentEl);\n    this.tooltipEl.appendChild(tooltipContentEl);\n    document.body.appendChild(this.tooltipEl);\n  }\n\n  _setTooltipContent(tooltipContentEl: HTMLElement) {\n    if (this.options.tooltipId) \n      return;\n    tooltipContentEl.innerText = this.options.text;        \n  }\n\n  _updateTooltipContent() {\n    this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n  }\n\n  _setupEventHandlers() {\n    this.el.addEventListener('mouseenter', this._handleMouseEnter);\n    this.el.addEventListener('mouseleave', this._handleMouseLeave);\n    this.el.addEventListener('focus', this._handleFocus, true);\n    this.el.addEventListener('blur', this._handleBlur, true);\n  }\n\n  _removeEventHandlers() {\n    this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n    this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n    this.el.removeEventListener('focus', this._handleFocus, true);\n    this.el.removeEventListener('blur', this._handleBlur, true);\n  }\n\n  /**\n   * Show tooltip.\n   */\n  open = (isManual: boolean) => {\n    if (this.isOpen) return;\n    isManual = isManual === undefined ? true : undefined; // Default value true\n    this.isOpen = true;\n    // Update tooltip content with HTML attribute options\n    this.options = {...this.options, ...this._getAttributeOptions()};\n    this._updateTooltipContent();\n    this._setEnterDelayTimeout(isManual);\n  }\n  \n  /**\n   * Hide tooltip.\n   */\n  close = () => {\n    if (!this.isOpen) return;\n    this.isHovered = false;\n    this.isFocused = false;\n    this.isOpen = false;\n    this._setExitDelayTimeout();\n  }\n\n  _setExitDelayTimeout() {\n    clearTimeout(this._exitDelayTimeout);\n    this._exitDelayTimeout = setTimeout(() => {\n      if (this.isHovered || this.isFocused) return;\n      this._animateOut();\n    }, this.options.exitDelay);\n  }\n\n  _setEnterDelayTimeout(isManual) {\n    clearTimeout(this._enterDelayTimeout);\n    this._enterDelayTimeout = setTimeout(() => {\n      if (!this.isHovered && !this.isFocused && !isManual) return;\n      this._animateIn();\n    }, this.options.enterDelay);\n  }\n\n  _positionTooltip() {\n    const tooltip: HTMLElement = this.tooltipEl;\n    const origin = (this.el as HTMLElement),\n      originHeight = origin.offsetHeight,\n      originWidth = origin.offsetWidth,\n      tooltipHeight = tooltip.offsetHeight,\n      tooltipWidth = tooltip.offsetWidth,\n      margin = this.options.margin;\n\n    (this.xMovement = 0), (this.yMovement = 0);\n\n    let targetTop = origin.getBoundingClientRect().top + Utils.getDocumentScrollTop();\n    let targetLeft = origin.getBoundingClientRect().left + Utils.getDocumentScrollLeft();\n    if (this.options.position === 'top') {\n      targetTop += -tooltipHeight - margin;\n      targetLeft += originWidth / 2 - tooltipWidth / 2;\n      this.yMovement = -this.options.transitionMovement;\n    } else if (this.options.position === 'right') {\n      targetTop += originHeight / 2 - tooltipHeight / 2;\n      targetLeft += originWidth + margin;\n      this.xMovement = this.options.transitionMovement;\n    } else if (this.options.position === 'left') {\n      targetTop += originHeight / 2 - tooltipHeight / 2;\n      targetLeft += -tooltipWidth - margin;\n      this.xMovement = -this.options.transitionMovement;\n    } else {\n      targetTop += originHeight + margin;\n      targetLeft += originWidth / 2 - tooltipWidth / 2;\n      this.yMovement = this.options.transitionMovement;\n    }\n\n    const newCoordinates = this._repositionWithinScreen(\n      targetLeft,\n      targetTop,\n      tooltipWidth,\n      tooltipHeight\n    );\n\n    tooltip.style.top = newCoordinates.y+'px';\n    tooltip.style.left = newCoordinates.x+'px';\n  }\n\n  _repositionWithinScreen(x: number, y: number, width: number, height: number) {\n    const scrollLeft = Utils.getDocumentScrollLeft();\n    const scrollTop = Utils.getDocumentScrollTop();\n    let newX = x - scrollLeft;\n    let newY = y - scrollTop;\n\n    const bounding: Bounding = {\n      left: newX,\n      top: newY,\n      width: width,\n      height: height\n    };\n    const offset = this.options.margin + this.options.transitionMovement;\n    const edges = Utils.checkWithinContainer(document.body, bounding, offset);\n\n    if (edges.left) {\n      newX = offset;\n    } else if (edges.right) {\n      newX -= newX + width - window.innerWidth;\n    }\n    if (edges.top) {\n      newY = offset;\n    } else if (edges.bottom) {\n      newY -= newY + height - window.innerHeight;\n    }\n    return {\n      x: newX + scrollLeft,\n      y: newY + scrollTop\n    };\n  }\n\n  _animateIn() {\n    this._positionTooltip();\n    this.tooltipEl.style.visibility = 'visible';\n    const duration = this.options.inDuration;\n    // easeOutCubic\n    this.tooltipEl.style.transition = `\n      transform ${duration}ms ease-out,\n      opacity ${duration}ms ease-out`;\n    setTimeout(() => {\n      this.tooltipEl.style.transform = `translateX(${this.xMovement}px) translateY(${this.yMovement}px)`;\n      this.tooltipEl.style.opacity = (this.options.opacity || 1).toString();\n    }, 1);\n  }\n\n  _animateOut() {\n    const duration = this.options.outDuration;\n    // easeOutCubic\n    this.tooltipEl.style.transition = `\n      transform ${duration}ms ease-out,\n      opacity ${duration}ms ease-out`;\n    setTimeout(() => {\n      this.tooltipEl.style.transform = `translateX(0px) translateY(0px)`;\n      this.tooltipEl.style.opacity = '0';\n    }, 1);\n    /*\n    anim.remove(this.tooltipEl);\n    anim({\n      targets: this.tooltipEl,\n      opacity: 0,\n      translateX: 0,\n      translateY: 0,\n      duration: this.options.outDuration,\n      easing: 'easeOutCubic'\n    });\n    */\n  }\n\n  _handleMouseEnter = () => {\n    this.isHovered = true;\n    this.isFocused = false; // Allows close of tooltip when opened by focus.\n    this.open(false);\n  }\n\n  _handleMouseLeave = () => {\n    this.isHovered = false;\n    this.isFocused = false; // Allows close of tooltip when opened by focus.\n    this.close();\n  }\n\n  _handleFocus = () => {\n    if (Utils.tabPressed) {\n      this.isFocused = true;\n      this.open(false);\n    }\n  }\n\n  _handleBlur = () => {\n    this.isFocused = false;\n    this.close();\n  }\n\n  _getAttributeOptions(): Partial<TooltipOptions> {    \n    let attributeOptions: Partial<TooltipOptions> = { };\n    const tooltipTextOption = this.el.getAttribute('data-tooltip');\n    const tooltipId = this.el.getAttribute('data-tooltip-id');\n    const positionOption = this.el.getAttribute('data-position');\n    if (tooltipTextOption) {\n      attributeOptions.text = tooltipTextOption;\n    }\n    if (positionOption) {\n      attributeOptions.position = positionOption as TooltipPosition;\n    }\n    if (tooltipId) {\n      attributeOptions.tooltipId = tooltipId;\n    }\n\n    return attributeOptions;\n  }\n}\n","import { Edges } from './edges';\nimport { Bounding } from './bounding';\n\n/**\n * Class with utilitary functions for global usage.\n */\nexport class Utils {\n  /** Specifies wether tab is pressed or not. */\n  static tabPressed: boolean = false;\n  /** Specifies wether there is a key pressed. */\n  static keyDown: boolean = false;\n\n  /**\n   * Key maps.\n   */\n  static keys = {\n    TAB: ['Tab'],\n    ENTER: ['Enter'],\n    ESC: ['Escape', 'Esc'],\n    BACKSPACE: ['Backspace'],\n    ARROW_UP: ['ArrowUp', 'Up'],\n    ARROW_DOWN: ['ArrowDown', 'Down'],\n    ARROW_LEFT: ['ArrowLeft', 'Left'],\n    ARROW_RIGHT: ['ArrowRight', 'Right'],\n    DELETE: ['Delete', 'Del'],\n  };\n\n  /**\n   * Detects when a key is pressed.\n   * @param e Event instance.\n   */\n  static docHandleKeydown(e: KeyboardEvent) {\n    Utils.keyDown = true;\n    if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n      Utils.tabPressed = true;\n    }\n  }\n\n  /**\n   * Detects when a key is released.\n   * @param e Event instance.\n   */\n  static docHandleKeyup(e: KeyboardEvent) {\n    Utils.keyDown = false;\n    if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n      Utils.tabPressed = false;\n    }\n  }\n\n  /**\n   * Detects when document is focused.\n   * @param e Event instance.\n   */\n  static docHandleFocus(e: FocusEvent) {\n    if (Utils.keyDown) {\n      document.body.classList.add('keyboard-focused');\n    }\n  }\n\n  /**\n   * Detects when document is not focused.\n   * @param e Event instance.\n   */\n  static docHandleBlur(e: FocusEvent) {\n    document.body.classList.remove('keyboard-focused');\n  }\n\n  /**\n   * Generates a unique string identifier.\n   */\n  static guid(): string {\n    const s4 = (): string => {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n\n  /**\n   * Checks for exceeded edges\n   * @param container Container element.\n   * @param bounding Bounding rect.\n   * @param offset Element offset.\n   */\n  static checkWithinContainer(container: HTMLElement, bounding: Bounding, offset: number): Edges {\n    let edges = {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false\n    };\n\n    let containerRect = container.getBoundingClientRect();\n    // If body element is smaller than viewport, use viewport height instead.\n    let containerBottom =\n      container === document.body\n        ? Math.max(containerRect.bottom, window.innerHeight)\n        : containerRect.bottom;\n\n    let scrollLeft = container.scrollLeft;\n    let scrollTop = container.scrollTop;\n\n    let scrolledX = bounding.left - scrollLeft;\n    let scrolledY = bounding.top - scrollTop;\n\n    // Check for container and viewport for each edge\n    if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n      edges.left = true;\n    }\n\n    if (\n      scrolledX + bounding.width > containerRect.right - offset ||\n      scrolledX + bounding.width > window.innerWidth - offset\n    ) {\n      edges.right = true;\n    }\n\n    if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n      edges.top = true;\n    }\n\n    if (\n      scrolledY + bounding.height > containerBottom - offset ||\n      scrolledY + bounding.height > window.innerHeight - offset\n    ) {\n      edges.bottom = true;\n    }\n\n    return edges;\n  }\n\n  /**\n   * Checks if element can be aligned in multiple directions.\n   * @param el Element to be inspected.\n   * @param container Container element.\n   * @param bounding Bounding rect.\n   * @param offset Element offset.\n   */\n  static checkPossibleAlignments(el: HTMLElement, container: HTMLElement, bounding: Bounding, offset: number) {\n    let canAlign: {\n      top: boolean,\n      right: boolean,\n      bottom: boolean,\n      left: boolean,\n      spaceOnTop: number,\n      spaceOnRight: number,\n      spaceOnBottom: number\n      spaceOnLeft: number\n    } = {\n      top: true,\n      right: true,\n      bottom: true,\n      left: true,\n      spaceOnTop: null,\n      spaceOnRight: null,\n      spaceOnBottom: null,\n      spaceOnLeft: null\n    };\n\n    let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n    let containerRect = container.getBoundingClientRect();\n    let containerHeight = Math.min(containerRect.height, window.innerHeight);\n    let containerWidth = Math.min(containerRect.width, window.innerWidth);\n    let elOffsetRect = el.getBoundingClientRect();\n\n    let scrollLeft = container.scrollLeft;\n    let scrollTop = container.scrollTop;\n\n    let scrolledX = bounding.left - scrollLeft;\n    let scrolledYTopEdge = bounding.top - scrollTop;\n    let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n\n    // Check for container and viewport for left\n    canAlign.spaceOnRight = !containerAllowsOverflow\n      ? containerWidth - (scrolledX + bounding.width)\n      : window.innerWidth - (elOffsetRect.left + bounding.width);\n    if (canAlign.spaceOnRight < 0) {\n      canAlign.left = false;\n    }\n\n    // Check for container and viewport for Right\n    canAlign.spaceOnLeft = !containerAllowsOverflow\n      ? scrolledX - bounding.width + elOffsetRect.width\n      : elOffsetRect.right - bounding.width;\n    if (canAlign.spaceOnLeft < 0) {\n      canAlign.right = false;\n    }\n\n    // Check for container and viewport for Top\n    canAlign.spaceOnBottom = !containerAllowsOverflow\n      ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n      : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n    if (canAlign.spaceOnBottom < 0) {\n      canAlign.top = false;\n    }\n\n    // Check for container and viewport for Bottom\n    canAlign.spaceOnTop = !containerAllowsOverflow\n      ? scrolledYBottomEdge - (bounding.height - offset)\n      : elOffsetRect.bottom - (bounding.height + offset);\n    if (canAlign.spaceOnTop < 0) {\n      canAlign.bottom = false;\n    }\n\n    return canAlign;\n  }\n\n  /**\n   * Retrieves target element id from trigger.\n   * @param trigger Trigger element.\n   */\n  static getIdFromTrigger(trigger: HTMLElement): string {\n    let id = trigger.dataset.target;\n    if (!id) {\n      id = trigger.getAttribute('href');\n      return id ? id.slice(1) : '';\n    }\n    return id;\n  }\n\n  /**\n   * Retrieves document scroll postion from top.\n   */\n  static getDocumentScrollTop(): number {\n    return window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  };\n\n  /**\n   * Retrieves document scroll postion from left.\n   */\n  static getDocumentScrollLeft(): number {\n    return window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n  }\n\n  /**\n   * Fires the given function after a certain ammount of time.\n   * @param func Function to be fired.\n   * @param wait Wait time.\n   * @param options Additional options.\n   */\n  public static throttle(func: Function, wait: number, options: Partial<{leading:boolean,trailing:boolean}> = null) {\n    let context: object, args: IArguments, result: any;\n    let timeout = null;\n    let previous = 0;\n    options || (options = {});\n    let later = function() {\n      previous = options.leading === false ? 0 : new Date().getTime();\n      timeout = null;\n      result = func.apply(context, args);\n      context = args = null;\n    };\n    return function() {\n      let now = new Date().getTime();\n      if (!previous && options.leading === false) previous = now;\n      let remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  }\n}","type RGBColor = {\n  r: number,\n  g: number,\n  b: number,\n}\n\ntype Position = {\n  x: number,\n  y: number,\n}\n\nexport class Waves {\n\n  private static _offset(el: HTMLElement) {\n    const box = el.getBoundingClientRect();\n    const docElem = document.documentElement;\n    return {\n      top: box.top + window.pageYOffset - docElem.clientTop,\n      left: box.left + window.pageXOffset - docElem.clientLeft\n    };\n  }\n\n  // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\n\n  public static renderWaveEffect(targetElement: HTMLElement, position: Position|null = null, color: RGBColor|null = null): void {\n    const isCentered = position === null;\n    const duration = 500;\n    let animationFrame: number, animationStart: number;\n    const animationStep = function(timestamp: number) {\n      if (!animationStart) {\n        animationStart = timestamp;\n      }\n      const frame = timestamp - animationStart;\n      if (frame < duration) {\n        const easing = (frame/duration) * (2 - (frame/duration));\n        const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\n        const waveColor = `rgba(${color?.r || 0}, ${color?.g || 0}, ${color?.b || 0}, ${ 0.3 * (1-easing) })`;\n        const stop = 90 * easing + \"%\";\n        targetElement.style.backgroundImage = \"radial-gradient(\"+circle+\", \"+waveColor+\" \"+stop+\", transparent \"+stop+\")\";\n        animationFrame = window.requestAnimationFrame(animationStep);\n      }\n      else {\n        targetElement.style.backgroundImage = 'none';\n        window.cancelAnimationFrame(animationFrame);\n      }\n    };\n    animationFrame = window.requestAnimationFrame(animationStep);\n  }\n\n  static Init() {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      document.body.addEventListener('click', e => {\n        const trigger = <HTMLElement>e.target;\n        const el = <HTMLElement>trigger.closest('.waves-effect');\n        if (el && el.contains(trigger)) {\n          const isCircular = el.classList.contains('waves-circle');\n          const x = e.pageX - Waves._offset(el).left;\n          const y = e.pageY - Waves._offset(el).top;\n\n          let color = null;\n          if (el.classList.contains('waves-light'))\n            color = {r:255, g:255, b:255};\n\n          Waves.renderWaveEffect(el, isCircular ? null : {x, y}, color);\n        }\n      });\n    });\n\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { Autocomplete } from './autocomplete';\nimport { FloatingActionButton } from './buttons';\nimport { Cards } from './cards';\nimport { Carousel } from './carousel';\nimport { CharacterCounter } from './characterCounter';\nimport { Chips } from './chips';\nimport { Collapsible } from './collapsible';\nimport { Datepicker } from './datepicker';\nimport { Dropdown } from './dropdown';\nimport { Forms } from './forms';\nimport { Materialbox } from './materialbox';\nimport { Modal } from './modal';\nimport { Parallax } from './parallax';\nimport { Pushpin } from './pushpin';\nimport { ScrollSpy } from './scrollspy';\nimport { FormSelect } from './select';\nimport { Sidenav } from './sidenav';\nimport { Slider } from './slider';\nimport { Tabs } from './tabs';\nimport { TapTarget } from './tapTarget';\nimport { Timepicker } from './timepicker';\nimport { Toast, ToastOptions } from './toasts';\nimport { Tooltip } from './tooltip';\nimport { Waves } from './waves';\nimport { Range } from './range';\nimport { Utils } from './utils';\n\nexport class M {\n  static version = '2.0.3-alpha';\n\n  static Autocomplete: typeof Autocomplete = Autocomplete;\n  static Tabs: typeof Tabs = Tabs;\n  static Carousel: typeof Carousel = Carousel;\n  static Dropdown: typeof Dropdown = Dropdown;\n  static FloatingActionButton: typeof FloatingActionButton = FloatingActionButton;\n  static Chips: typeof Chips = Chips;\n  static Collapsible: typeof Collapsible = Collapsible;\n  static Datepicker: typeof Datepicker = Datepicker;\n  static CharacterCounter: typeof CharacterCounter = CharacterCounter;\n  static Forms: typeof Forms = Forms;\n  static FormSelect: typeof FormSelect = FormSelect;\n  static Modal: typeof Modal = Modal;\n  static Pushpin: typeof Pushpin = Pushpin;\n  static Materialbox: typeof Materialbox = Materialbox;\n  static Parallax: typeof Parallax = Parallax;\n  static Slider: typeof Slider = Slider;\n  static Timepicker: typeof Timepicker = Timepicker;\n  /** Creates a toast. */\n  static toast: (opt: Partial<ToastOptions>) => Toast = (opt) => new Toast(opt) ;\n  static Tooltip: typeof Tooltip = Tooltip;\n  static Sidenav: typeof Sidenav = Sidenav;\n  static TapTarget: typeof TapTarget = TapTarget;\n  static ScrollSpy: typeof ScrollSpy = ScrollSpy;\n  static Range: typeof Range = Range;\n  static Waves: typeof Waves = Waves;\n  static Utils: typeof Utils = Utils;\n\n  static {\n    document.addEventListener('keydown', Utils.docHandleKeydown, true);\n    document.addEventListener('keyup', Utils.docHandleKeyup, true);\n    document.addEventListener('focus', Utils.docHandleFocus, true);\n    document.addEventListener('blur', Utils.docHandleBlur, true);\n    Cards.Init();\n    Forms.Init();\n    Chips.Init();\n    Waves.Init();\n    Range.Init();\n  }\n\n  /**\n   * Automatically initialize components.\n   * @param context Root element to initialize. Defaults to `document.body`.\n   */\n  static AutoInit(context: HTMLElement = document.body) {\n    let registry = {\n      Autocomplete: context.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n      Carousel: context.querySelectorAll('.carousel:not(.no-autoinit)'),\n      Chips: context.querySelectorAll('.chips:not(.no-autoinit)'),\n      Collapsible: context.querySelectorAll('.collapsible:not(.no-autoinit)'),\n      Datepicker: context.querySelectorAll('.datepicker:not(.no-autoinit)'),\n      Dropdown: context.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n      Materialbox: context.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n      Modal: context.querySelectorAll('.modal:not(.no-autoinit)'),\n      Parallax: context.querySelectorAll('.parallax:not(.no-autoinit)'),\n      Pushpin: context.querySelectorAll('.pushpin:not(.no-autoinit)'),\n      ScrollSpy: context.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n      FormSelect: context.querySelectorAll('select:not(.no-autoinit)'),\n      Sidenav: context.querySelectorAll('.sidenav:not(.no-autoinit)'),\n      Tabs: context.querySelectorAll('.tabs:not(.no-autoinit)'),\n      TapTarget: context.querySelectorAll('.tap-target:not(.no-autoinit)'),\n      Timepicker: context.querySelectorAll('.timepicker:not(.no-autoinit)'),\n      Tooltip: context.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n      FloatingActionButton: context.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\n    };\n    M.Autocomplete.init(registry.Autocomplete, {});\n    M.Carousel.init(registry.Carousel, {});\n    M.Chips.init(registry.Chips, {});\n    M.Collapsible.init(registry.Collapsible, {});\n    M.Datepicker.init(registry.Datepicker, {});\n    M.Dropdown.init(registry.Dropdown, {});\n    M.Materialbox.init(registry.Materialbox, {});\n    M.Modal.init(registry.Modal, {});\n    M.Parallax.init(registry.Parallax, {});\n    M.Pushpin.init(registry.Pushpin, {});\n    M.ScrollSpy.init(registry.ScrollSpy, {});\n    M.FormSelect.init(registry.FormSelect, {});\n    M.Sidenav.init(registry.Sidenav, {});\n    M.Tabs.init(registry.Tabs, {});\n    M.TapTarget.init(registry.TapTarget, {});\n    M.Timepicker.init(registry.Timepicker, {});\n    M.Tooltip.init(registry.Tooltip, {});\n    M.FloatingActionButton.init(registry.FloatingActionButton, {});\n  }\n}"],"names":["root","factory","exports","module","define","amd","a","i","this","_defaults","data","onAutocomplete","dropdownOptions","autoFocus","closeOnClick","coverTrigger","minLength","isMultiSelect","onSearch","text","autocomplete","normSearch","toLocaleLowerCase","setMenuItems","options","filter","option","id","toString","includes","maxDropDownHeight","allowUnsafeHTML","Autocomplete","Component","constructor","el","super","_handleInputBlur","_mousedown","close","_resetAutocomplete","_handleInputKeyupAndFocus","e","type","_keydown","count","actualValue","value","Utils","keys","ENTER","key","ARROW_UP","ARROW_DOWN","oldVal","tabPressed","open","_setStatusLoading","length","selectedValues","_triggerChanged","_handleInputKeydown","numItems","container","querySelectorAll","activeIndex","liElement","selectOption","getAttribute","preventDefault","$active","classList","remove","add","children","scrollIntoView","behavior","block","inline","_handleInputClick","_handleContainerMousedownAndTouchstart","_handleContainerMouseupAndTouchend","inputText","isOpen","_renderDropdown","dropdown","recalculateDimensions","setTimeout","M_Autocomplete","defaults","menuItems","_setupDropdown","_setupEventHandlers","static","els","init","destroy","_removeEventHandlers","_removeDropdown","undefined","addEventListener","window","ontouchstart","removeEventListener","document","createElement","style","maxHeight","guid","setAttribute","parentElement","appendChild","userOnItemClick","onItemClick","li","entryID","call","Dropdown","label","querySelector","after","_handleClick","div","_updateSelectedInfo","parentNode","removeChild","_resetCurrentElementPosition","replaceChildren","_highlightPartialText","input","start","indexOf","end","slice","_createDropdownItem","entry","item","innerHTML","some","sel","image","img","src","parts","createTextNode","highlight","textContent","itemText","description","isNaN","innerText","gridTemplateColumns","getGridConfig","append","statusElement","_refreshInputText","dispatchEvent","Event","setValues","entries","find","checkbox","checked","push","selectedEntry","focus","direction","hoverEnabled","toolbarEnabled","FloatingActionButton","_handleFABClick","_handleDocumentClick","target","_menu","_animateInToolbar","_animateInFAB","body","_animateOutFAB","M_FloatingActionButton","_anchor","_floatingBtns","Array","from","_floatingBtnsReverse","reverse","offsetY","offsetX","forEach","index","delay","transition","opacity","transform","scaleFactor","windowWidth","innerWidth","windowHeight","innerHeight","btnRect","getBoundingClientRect","backdrop","fabColor","getComputedStyle","backgroundColor","left","width","bottom","clientWidth","btnBottom","btnLeft","btnWidth","textAlign","overflow","trigger","card","closest","cardReveal","elem","contains","initialOverflow","closeArea","duration","display","activator","dist","shift","padding","numVisible","fullWidth","indicators","noWrap","onCycleTo","Carousel","center","_handleThrottledResize","throttle","_handleResize","bind","_handleCarouselTap","tagName","pressed","dragged","verticalDragged","reference","_xpos","referenceY","_ypos","velocity","amplitude","frame","offset","timestamp","Date","now","clearInterval","ticker","setInterval","_track","_handleCarouselDrag","x","y","delta","deltaY","Math","abs","_scroll","stopPropagation","_handleCarouselRelease","round","dim","requestAnimationFrame","_autoScroll","_handleCarouselClick","clickedElem","clickedIndex","_wrap","clientX","next","prev","_cycleTo","_handleIndicatorClick","indicator","itemWidth","imageHeight","clientHeight","_setCarouselHeight","elapsed","v","exp","M_Carousel","hasMultipleSlides","showIndicators","images","itemHeight","_indicators","min","xform","every","prefix","imageOnly","firstSlide","firstImage","complete","height","naturalWidth","naturalHeight","adjustedHeight","offsetHeight","slideHeight","startsWith","targetTouches","clientY","half","dir","tween","alignment","zTranslation","tweenedOpacity","centerTweenedOpacity","scrollingTimeout","clearTimeout","lastCenter","numVisibleOffset","floor","diff","activeIndicator","pos","transformString","_updateItemStyle","_currItem","oneTimeCallback","zIndex","visibility","n","callback","set","Object","freeze","CharacterCounter","updateCounter","maxLength","parseInt","actualLength","isValidLength","counterString","_validateInput","counterEl","M_CharacterCounter","isInvalid","_setupCounter","_removeCounter","float","fontSize","placeholder","secondaryPlaceholder","closeIconClass","autocompleteOptions","autocompleteOnly","limit","Infinity","onChipAdd","onChipSelect","onChipDelete","gGetIndex","Chips","_handleChipClick","_chip","clickedClose","deleteChip","_input","selectChip","_handleInputFocus","hasAutocomplete","addChip","BACKSPACE","ARROW_LEFT","chipsData","M_Chips","_chips","_setupInput","_renderChips","_setupAutocomplete","_setPlaceholder","_setupLabel","getData","c","_handleChipsKeydown","_handleChipsKeyup","_handleChipsBlur","chips","chipsKeydown","tag","currChips","DELETE","selectIndex","_selectedChip","max","ARROW_RIGHT","hidden","_renderChip","chip","renderedChip","closeIcon","insertBefore","firstChild","chipElem","items","_label","_isValidAndNotExist","isValid","doesNotExist","before","chipIndex","splice","accordion","onOpenStart","onOpenEnd","onCloseStart","onCloseEnd","inDuration","outDuration","Collapsible","_handleCollapsibleClick","header","isActive","_handleCollapsibleKeydown","listItems","activeLis","activeLi","_animateIn","_animateOut","M_Collapsible","_headers","tabIndex","activeBodies","_setExpanded","scrollHeight","classDef","HTMLElement","console","error","Error","ins","getInstance","instances","Element","autoClose","format","parse","defaultDate","setDefaultDate","disableWeekends","disableDayFn","firstDay","minDate","maxDate","yearRange","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearRangeReverse","showMonthAfterYear","showDaysInNextAndPreviousMonths","showClearBtn","i18n","cancel","clear","done","previousMonth","nextMonth","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","events","onSelect","onOpen","onClose","onDraw","Datepicker","_handleCalendarClick","prevMonth","setDate","_finishSelection","_handleClearClick","date","setInputValue","_handleMonthChange","gotoMonth","_handleYearChange","gotoYear","_handleInputChange","firedBy","_isDate","draw","modal","M_Datepicker","hasOwnProperty","setHours","_setupVariables","_insertHTMLIntoDOM","_setupModal","defDate","gotoDate","obj","test","prototype","getTime","day","getDay","year","month","_isLeapYear","b","modalEl","destroySelects","oldYearSelect","calendarEl","FormSelect","oldMonthSelect","clearBtn","doneBtn","cancelBtn","optEl","Modal","split","map","formats","join","preventOnSelect","_renderDateDisplay","_setToStartOfDay","CustomEvent","bubbles","cancelable","composed","detail","displayDate","getMonth","getDate","yearTextEl","getFullYear","dateTextEl","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","adjustCalendar","calendar","ceil","render","randId","opts","days","_getDaysInMonth","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","isWeekSelected","r","isSelected","_compareDates","isToday","hasEvent","toDateString","isEmpty","dayNumber","monthNumber","yearNumber","isStartRange","isEndRange","isInRange","dayConfig","isDisabled","_isWeekend","renderDay","renderRow","renderTable","arr","ariaSelected","isRowSelected","renderHead","renderBody","renderDayName","rows","renderTitle","instance","refYear","j","monthHtml","yearHtml","isMinYear","isMaxYear","html","isArray","force","_y","_m","random","replace","substr","yearSelect","monthSelect","classes","constrainWidth","template","_template","trim","content","d","dd","ddd","dddd","m","mm","mmm","mmmm","yy","yyyy","abbr","hover","_handleMouseEnter","_handleMouseLeave","toEl","relatedTarget","leaveToDropdownContent","leaveToActiveDropdownTrigger","closestTrigger","M_Dropdown","isTouchMoving","_handleTriggerKeydown","_handleDocumentTouchmove","_handleDropdownClick","itemEl","_handleDropdownKeydown","arrowUpOrDown","TAB","newFocusedIndex","focusedIndex","hasFoundNewIndex","dropdownEl","_focusFocusedItem","focusedElement","activatableElement","click","ESC","keyText","toLowerCase","isLetter","specialKeys","filterQuery","string","newOptionEl","filterTimeout","_resetFilterQuery","_resetDropdownStyles","_placeDropdown","_setupTemporaryEventHandlers","_removeTemporaryEventHandlers","top","transformOrigin","_dropdowns","getIdFromTrigger","getElementById","isScrollable","_moveDropdown","_makeDropdownFocusable","containerEl","preventScroll","_getDropdownPosition","closestOverflowParent","offsetParent","triggerBRect","dropdownBRect","idealHeight","idealWidth","idealXPos","idealYPos","dropdownBounds","alignments","checkPossibleAlignments","verticalAlignment","horizontalAlignment","spaceOnTop","spaceOnBottom","oppositeAlignment","spaceOnLeft","spaceOnRight","_getClosestAncestor","condition","ancestor","position","positionInfo","Forms","textarea","hiddenDiv","fontFamily","lineHeight","paddingTop","paddingRight","paddingBottom","paddingLeft","hasAttribute","overflowWrap","whiteSpace","offsetWidth","originalHeight","prevLength","HTMLInputElement","once","textArea","textareaAutoResize","fileInput","InitFileInputPath","pathInput","files","filenames","name","Materialbox","_handleMaterialboxClick","doneAnimating","overlayActive","_handleWindowScroll","_handleWindowResize","_handleWindowEscape","_updateVars","originalWidth","_makeAncestorsOverflowVisible","willChange","attrWidth","attrHeight","removeAttribute","_addOverlay","caption","_addCaption","widthPercent","heightPercent","newWidth","newHeight","ratio","_animateImageIn","_removeOverlay","_animateImageOut","_removeCaption","M_Materialbox","originInlineStyles","_changedAncestorList","curr","_offset","box","docElem","documentElement","pageYOffset","clientTop","pageXOffset","clientLeft","maxWidth","getDocumentScrollLeft","getDocumentScrollTop","anchestor","_photoCaption","_overlay","overlayOffset","preventScrolling","dismissible","startingTop","endingTop","_handleTriggerClick","modalId","modalInstance","M_Modal","_handleOverlayClick","_handleModalCloseClick","_handleKeydown","_handleFocus","_nthModalOpened","_modalsOpen","_openingTrigger","insertAdjacentElement","_count","isBottomSheet","responsiveThreshold","Parallax","_handleImageLoad","_updateParallax","M_Parallax","_enabled","_img","_setupStyles","_parallaxes","parallaxInstance","_handleScrollThrottled","_handleScroll","_handleWindowResizeThrottled","containerHeight","parallaxDist","scrollTop","parallax","onPositionChange","Pushpin","M_Pushpin","originalOffset","offsetTop","_pushpins","_updatePosition","_removePinClasses","elIndex","_updateElements","scrolled","Range","_handleRangeChange","thumb","_showRangeBubble","offsetLeft","_calcRangeOffset","_handleRangeMousedownTouchstart","_handleRangeInputMousemoveTouchmove","_handleRangeMouseupTouchend","_handleRangeBlurMouseoutTouchleave","marginLeftText","marginLeft","M_Range","_setupThumb","_removeThumb","parseFloat","scrollOffset","activeClass","getActiveElement","ScrollSpy","_elements","scrollspy","_ticks","right","intersections","_findElements","tickId","_enter","_elementsInView","lastTick","_exit","M_ScrollSpy","_increment","_visibleElements","hits","currTop","elTop","elLeft","elRight","elBottom","actElem","unshift","selector","_handleSelectChange","_setValueToInput","_handleOptionClick","virtualOption","_selectOptionElement","_setSelectedStates","M_FormSelect","isMultiple","multiple","_values","_arraysEqual","optionEl","previousSelectedValues","getSelectedValues","_toggleEntryFromArray","_deselectAll","_selectValue","actualSelectedValues","labelEl","wrapper","hideSelect","disabled","selectOptions","ariaMultiSelectable","realOption","_createAndAppendOptionWithIcon","_addOptionToValues","groupId","groupParent","groupChildren","childId","readOnly","ariaReadOnly","ariaRequired","attrs","attributes","attr","ariaExpanded","prepend","dropdownIcon","createElementNS","ariaHidden","userOnOpenEnd","userOnCloseEnd","selectedOption","keyDown","ariaDisabled","span","iconUrl","selected","_deselectValue","_isValueSelected","realValue","_getSelectedOptions","selectedOptions","realOptions","texts","firstDisabledOption","optionIsSelected","cb","_activateOption","ul","edge","draggable","dragTargetWidth","Sidenav","_handleDragTargetDrag","_isCurrentlyFixed","_verticallyScrolling","isDragged","_startDrag","_dragMoveUpdate","totalDeltaX","_xPos","_startingXpos","dragDirection","_width","transformX","transformPrefix","percentOpen","_handleDragTargetRelease","_handleCloseDrag","_handleCloseRelease","_handleCloseTriggerClick","lastWindowWidth","lastWindowHeight","_enableBodyScrolling","_preventBodyScrolling","M_Sidenav","isFixed","_createOverlay","_createDragTarget","_setupClasses","_setupFixed","_sidenavs","dragTarget","passiveIfSupported","sidenavId","sidenavInstance","_time","_initialScrollTop","currentScrollTop","deltaX","velocityX","_removeClasses","_animateSidenavIn","_animateOverlayIn","_animateSidenavOut","_animateOverlayOut","slideOutPercent","endPercent","interval","pauseOnFocus","pauseOnHover","indicatorLabelFunc","Slider","currIndex","_focusCurrent","_handleAutoPauseHover","_hovered","_pause","_handleAutoPauseFocus","_focused","_handleAutoStartHover","eventPause","_handleAutoStartFocus","_handleInterval","activeElem","_slider","newActiveIndex","_slides","pause","newIndex","M_Slider","findIndex","_activeSlide","_setSliderHeight","_sliderId","placeholderBase64","slide","backgroundImage","_setupIndicators","_animateSlide","_removeIndicators","isDirectionIn","dx","dy","arrLi","_caption","nextIndicator","ariaLabel","fromEvent","onShow","swipeable","Tabs","_setTabsAndTabWidth","_tabWidth","_tabsWidth","_indicator","_calcLeftPos","_activeTabLink","_calcRightPos","_handleTabClick","tabLink","tab","_oldContent","_content","hash","_tabLinks","prevIndex","_index","_tabsCarousel","_animateIndicator","M_Tabs","_setupActiveTabLink","_setupSwipeableTabs","_setupNormalTabs","_createIndicator","_teardownSwipeableTabs","_teardownNormalTabs","location","tabsContent","currContent","tabsWrapper","tabContent","activeTabIndex","scrollWidth","updateTabIndicator","leftDelay","rightDelay","select","tabId","TapTarget","_handleTargetClick","_handleOriginClick","_calculatePositioning","_origin","M_TapTarget","dataset","_setup","originEl","waveEl","contentEl","cloneNode","currentElem","parents","originWidth","originHeight","originTop","originLeft","scrollBarWidth","centerX","centerY","isLeft","isRight","isTop","isBottom","isCenterX","tapTargetWidth","tapTargetHeight","tapTargetTop","tapTargetLeft","tapTargetPosition","tapTargetTextWidth","tapTargetTextHeight","tapTargetTextTop","tapTargetTextLeft","tapTargetTextPadding","tapTargetTextAlign","tapTargetWaveWidth","tapTargetWaveHeight","tapTargetWaveTop","tapTargetWaveLeft","tapTargetTextRight","tapTargetTextBottom","verticalAlign","dialRadius","outerRadius","innerRadius","tickRadius","defaultTime","fromNow","twelveHour","vibrate","Timepicker","_handleTimeInputEnterKey","_inputFromTextField","_handleClockClickStart","clockPlateBR","plate","x0","y0","moved","clickPos","_Pos","setHand","_handleDocumentClickMove","_handleDocumentClickEnd","currentView","showView","minutesView","hours","minutes","_handleAmPmClick","btnClicked","amOrPm","_updateAmPmView","view","hoursView","isHours","nextView","hideView","inputHours","inputMinutes","resetClock","toggleViewTimer","drawClockFromTimeInput","hour","getHours","_addLeadingZero","getMinutes","_updateTimeFromInput","clearValue","last","time","M_Timepicker","_clockSetup","_pickerSetup","num","digitalClock","navigator","webkitVibrate","_canvas","spanAmPm","footer","_createButton","button","clearButton","confirmationBtnsContainer","cancelButton","doneButton","_amBtn","_pmBtn","_buildHoursView","_buildMinutesView","_buildSVGClock","diameter","svg","_createSVGEl","g","bearing","hand","bg","$tick","tick","radian","PI","radius","sin","cos","_tick","toUpperCase","self","canvas","cx1","cy1","cx2","cy2","roundBy5","atan2","unit","z","sqrt","inner","vibrateTimer","displayLength","completeCallback","activationPercent","Toast","message","panning","timeRemaining","_toasts","_createContainer","toastElement","_createToast","M_Toast","_setTimer","_onDragStart","_onDragMove","_onDragEnd","_container","toast","_draggedToast","startingXPos","xPos","activationDistance","wasSwiped","dismiss","toastIndex","toastId","counterInterval","marginTop","_removeContainer","exitDelay","enterDelay","margin","transitionMovement","Tooltip","isManual","_getAttributeOptions","_updateTooltipContent","_setEnterDelayTimeout","isHovered","isFocused","_setExitDelayTimeout","_handleBlur","M_Tooltip","_appendTooltipEl","tooltipEl","tooltipContentEl","tooltipId","_setTooltipContent","_exitDelayTimeout","_enterDelayTimeout","_positionTooltip","tooltip","origin","tooltipHeight","tooltipWidth","xMovement","yMovement","targetTop","targetLeft","newCoordinates","_repositionWithinScreen","scrollLeft","newX","newY","bounding","edges","checkWithinContainer","attributeOptions","tooltipTextOption","positionOption","s4","substring","containerRect","containerBottom","scrolledX","scrolledY","canAlign","containerAllowsOverflow","containerWidth","elOffsetRect","scrolledYTopEdge","scrolledYBottomEdge","scrollY","scrollX","func","wait","context","args","result","timeout","previous","later","leading","apply","remaining","arguments","trailing","Waves","targetElement","color","isCentered","animationFrame","animationStart","animationStep","easing","circle","waveColor","stop","cancelAnimationFrame","isCircular","pageX","pageY","renderWaveEffect","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","M","registry","version","opt","docHandleKeydown","docHandleKeyup","docHandleFocus","docHandleBlur","Cards","Init"],"sourceRoot":""}